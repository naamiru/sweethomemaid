var Qr=Object.defineProperty;var Zr=(et,_e,nt)=>_e in et?Qr(et,_e,{enumerable:!0,configurable:!0,writable:!0,value:nt}):et[_e]=nt;var Fn=(et,_e,nt)=>(Zr(et,typeof _e!="symbol"?_e+"":_e,nt),nt);(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const at of document.querySelectorAll('link[rel="modulepreload"]'))it(at);new MutationObserver(at=>{for(const ut of at)if(ut.type==="childList")for(const dt of ut.addedNodes)dt.tagName==="LINK"&&dt.rel==="modulepreload"&&it(dt)}).observe(document,{childList:!0,subtree:!0});function nt(at){const ut={};return at.integrity&&(ut.integrity=at.integrity),at.referrerPolicy&&(ut.referrerPolicy=at.referrerPolicy),at.crossOrigin==="use-credentials"?ut.credentials="include":at.crossOrigin==="anonymous"?ut.credentials="omit":ut.credentials="same-origin",ut}function it(at){if(at.ep)return;at.ep=!0;const ut=nt(at);fetch(at.href,ut)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$2(et){return et===null||typeof et!="object"?null:(et=z$1&&et[z$1]||et["@@iterator"],typeof et=="function"?et:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$1(et,_e,nt){this.props=et,this.context=_e,this.refs=D$2,this.updater=nt||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(et,_e){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,_e,"setState")};E$1.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$1(){}F$1.prototype=E$1.prototype;function G$2(et,_e,nt){this.props=et,this.context=_e,this.refs=D$2,this.updater=nt||B$1}var H$1=G$2.prototype=new F$1;H$1.constructor=G$2;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2(et,_e,nt){var it,at={},ut=null,dt=null;if(_e!=null)for(it in _e.ref!==void 0&&(dt=_e.ref),_e.key!==void 0&&(ut=""+_e.key),_e)J$1.call(_e,it)&&!L$1.hasOwnProperty(it)&&(at[it]=_e[it]);var ft=arguments.length-2;if(ft===1)at.children=nt;else if(1<ft){for(var ht=Array(ft),ct=0;ct<ft;ct++)ht[ct]=arguments[ct+2];at.children=ht}if(et&&et.defaultProps)for(it in ft=et.defaultProps,ft)at[it]===void 0&&(at[it]=ft[it]);return{$$typeof:l$2,type:et,key:ut,ref:dt,props:at,_owner:K$1.current}}function N$1(et,_e){return{$$typeof:l$2,type:et.type,key:_e,ref:et.ref,props:et.props,_owner:et._owner}}function O$2(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$2}function escape(et){var _e={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(nt){return _e[nt]})}var P$2=/\/+/g;function Q$2(et,_e){return typeof et=="object"&&et!==null&&et.key!=null?escape(""+et.key):_e.toString(36)}function R$1(et,_e,nt,it,at){var ut=typeof et;(ut==="undefined"||ut==="boolean")&&(et=null);var dt=!1;if(et===null)dt=!0;else switch(ut){case"string":case"number":dt=!0;break;case"object":switch(et.$$typeof){case l$2:case n$3:dt=!0}}if(dt)return dt=et,at=at(dt),et=it===""?"."+Q$2(dt,0):it,I$2(at)?(nt="",et!=null&&(nt=et.replace(P$2,"$&/")+"/"),R$1(at,_e,nt,"",function(ct){return ct})):at!=null&&(O$2(at)&&(at=N$1(at,nt+(!at.key||dt&&dt.key===at.key?"":(""+at.key).replace(P$2,"$&/")+"/")+et)),_e.push(at)),1;if(dt=0,it=it===""?".":it+":",I$2(et))for(var ft=0;ft<et.length;ft++){ut=et[ft];var ht=it+Q$2(ut,ft);dt+=R$1(ut,_e,nt,ht,at)}else if(ht=A$2(et),typeof ht=="function")for(et=ht.call(et),ft=0;!(ut=et.next()).done;)ut=ut.value,ht=it+Q$2(ut,ft++),dt+=R$1(ut,_e,nt,ht,at);else if(ut==="object")throw _e=String(et),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return dt}function S$2(et,_e,nt){if(et==null)return et;var it=[],at=0;return R$1(et,it,"","",function(ut){return _e.call(nt,ut,at++)}),it}function T$2(et){if(et._status===-1){var _e=et._result;_e=_e(),_e.then(function(nt){(et._status===0||et._status===-1)&&(et._status=1,et._result=nt)},function(nt){(et._status===0||et._status===-1)&&(et._status=2,et._result=nt)}),et._status===-1&&(et._status=0,et._result=_e)}if(et._status===1)return et._result.default;throw et._result}var U$2={current:null},V$3={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$1};react_production_min.Children={map:S$2,forEach:function(et,_e,nt){S$2(et,function(){_e.apply(this,arguments)},nt)},count:function(et){var _e=0;return S$2(et,function(){_e++}),_e},toArray:function(et){return S$2(et,function(_e){return _e})||[]},only:function(et){if(!O$2(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(et,_e,nt){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var it=C$1({},et.props),at=et.key,ut=et.ref,dt=et._owner;if(_e!=null){if(_e.ref!==void 0&&(ut=_e.ref,dt=K$1.current),_e.key!==void 0&&(at=""+_e.key),et.type&&et.type.defaultProps)var ft=et.type.defaultProps;for(ht in _e)J$1.call(_e,ht)&&!L$1.hasOwnProperty(ht)&&(it[ht]=_e[ht]===void 0&&ft!==void 0?ft[ht]:_e[ht])}var ht=arguments.length-2;if(ht===1)it.children=nt;else if(1<ht){ft=Array(ht);for(var ct=0;ct<ht;ct++)ft[ct]=arguments[ct+2];it.children=ft}return{$$typeof:l$2,type:et.type,key:at,ref:ut,props:it,_owner:dt}};react_production_min.createContext=function(et){return et={$$typeof:u$2,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$1,_context:et},et.Consumer=et};react_production_min.createElement=M$2;react_production_min.createFactory=function(et){var _e=M$2.bind(null,et);return _e.type=et,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$2,render:et}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(et){return{$$typeof:y,_payload:{_status:-1,_result:et},_init:T$2}};react_production_min.memo=function(et,_e){return{$$typeof:x,type:et,compare:_e===void 0?null:_e}};react_production_min.startTransition=function(et){var _e=V$3.transition;V$3.transition={};try{et()}finally{V$3.transition=_e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(et,_e){return U$2.current.useCallback(et,_e)};react_production_min.useContext=function(et){return U$2.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$2.current.useDeferredValue(et)};react_production_min.useEffect=function(et,_e){return U$2.current.useEffect(et,_e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(et,_e,nt){return U$2.current.useImperativeHandle(et,_e,nt)};react_production_min.useInsertionEffect=function(et,_e){return U$2.current.useInsertionEffect(et,_e)};react_production_min.useLayoutEffect=function(et,_e){return U$2.current.useLayoutEffect(et,_e)};react_production_min.useMemo=function(et,_e){return U$2.current.useMemo(et,_e)};react_production_min.useReducer=function(et,_e,nt){return U$2.current.useReducer(et,_e,nt)};react_production_min.useRef=function(et){return U$2.current.useRef(et)};react_production_min.useState=function(et){return U$2.current.useState(et)};react_production_min.useSyncExternalStore=function(et,_e,nt){return U$2.current.useSyncExternalStore(et,_e,nt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$2=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(et,_e,nt){var it,at={},ut=null,dt=null;nt!==void 0&&(ut=""+nt),_e.key!==void 0&&(ut=""+_e.key),_e.ref!==void 0&&(dt=_e.ref);for(it in _e)m$2.call(_e,it)&&!p$2.hasOwnProperty(it)&&(at[it]=_e[it]);if(et&&et.defaultProps)for(it in _e=et.defaultProps,_e)at[it]===void 0&&(at[it]=_e[it]);return{$$typeof:k,type:et,key:ut,ref:dt,props:at,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function _e(Mt,Lt){var Kt=Mt.length;Mt.push(Lt);e:for(;0<Kt;){var qt=Kt-1>>>1,Qt=Mt[qt];if(0<at(Qt,Lt))Mt[qt]=Lt,Mt[Kt]=Qt,Kt=qt;else break e}}function nt(Mt){return Mt.length===0?null:Mt[0]}function it(Mt){if(Mt.length===0)return null;var Lt=Mt[0],Kt=Mt.pop();if(Kt!==Lt){Mt[0]=Kt;e:for(var qt=0,Qt=Mt.length,Zt=Qt>>>1;qt<Zt;){var tn=2*(qt+1)-1,nn=Mt[tn],sn=tn+1,an=Mt[sn];if(0>at(nn,Kt))sn<Qt&&0>at(an,nn)?(Mt[qt]=an,Mt[sn]=Kt,qt=sn):(Mt[qt]=nn,Mt[tn]=Kt,qt=tn);else if(sn<Qt&&0>at(an,Kt))Mt[qt]=an,Mt[sn]=Kt,qt=sn;else break e}}return Lt}function at(Mt,Lt){var Kt=Mt.sortIndex-Lt.sortIndex;return Kt!==0?Kt:Mt.id-Lt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ut=performance;et.unstable_now=function(){return ut.now()}}else{var dt=Date,ft=dt.now();et.unstable_now=function(){return dt.now()-ft}}var ht=[],ct=[],lt=1,ot=null,tt=3,rt=!1,st=!1,pt=!1,gt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function bt(Mt){for(var Lt=nt(ct);Lt!==null;){if(Lt.callback===null)it(ct);else if(Lt.startTime<=Mt)it(ct),Lt.sortIndex=Lt.expirationTime,_e(ht,Lt);else break;Lt=nt(ct)}}function vt(Mt){if(pt=!1,bt(Mt),!st)if(nt(ht)!==null)st=!0,At(wt);else{var Lt=nt(ct);Lt!==null&&jt(vt,Lt.startTime-Mt)}}function wt(Mt,Lt){st=!1,pt&&(pt=!1,mt(Ot),Ot=-1),rt=!0;var Kt=tt;try{for(bt(Lt),ot=nt(ht);ot!==null&&(!(ot.expirationTime>Lt)||Mt&&!Rt());){var qt=ot.callback;if(typeof qt=="function"){ot.callback=null,tt=ot.priorityLevel;var Qt=qt(ot.expirationTime<=Lt);Lt=et.unstable_now(),typeof Qt=="function"?ot.callback=Qt:ot===nt(ht)&&it(ht),bt(Lt)}else it(ht);ot=nt(ht)}if(ot!==null)var Zt=!0;else{var tn=nt(ct);tn!==null&&jt(vt,tn.startTime-Lt),Zt=!1}return Zt}finally{ot=null,tt=Kt,rt=!1}}var xt=!1,Tt=null,Ot=-1,$t=5,It=-1;function Rt(){return!(et.unstable_now()-It<$t)}function Ft(){if(Tt!==null){var Mt=et.unstable_now();It=Mt;var Lt=!0;try{Lt=Tt(!0,Mt)}finally{Lt?Pt():(xt=!1,Tt=null)}}else xt=!1}var Pt;if(typeof yt=="function")Pt=function(){yt(Ft)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,Et=Bt.port2;Bt.port1.onmessage=Ft,Pt=function(){Et.postMessage(null)}}else Pt=function(){gt(Ft,0)};function At(Mt){Tt=Mt,xt||(xt=!0,Pt())}function jt(Mt,Lt){Ot=gt(function(){Mt(et.unstable_now())},Lt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(Mt){Mt.callback=null},et.unstable_continueExecution=function(){st||rt||(st=!0,At(wt))},et.unstable_forceFrameRate=function(Mt){0>Mt||125<Mt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$t=0<Mt?Math.floor(1e3/Mt):5},et.unstable_getCurrentPriorityLevel=function(){return tt},et.unstable_getFirstCallbackNode=function(){return nt(ht)},et.unstable_next=function(Mt){switch(tt){case 1:case 2:case 3:var Lt=3;break;default:Lt=tt}var Kt=tt;tt=Lt;try{return Mt()}finally{tt=Kt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(Mt,Lt){switch(Mt){case 1:case 2:case 3:case 4:case 5:break;default:Mt=3}var Kt=tt;tt=Mt;try{return Lt()}finally{tt=Kt}},et.unstable_scheduleCallback=function(Mt,Lt,Kt){var qt=et.unstable_now();switch(typeof Kt=="object"&&Kt!==null?(Kt=Kt.delay,Kt=typeof Kt=="number"&&0<Kt?qt+Kt:qt):Kt=qt,Mt){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=Kt+Qt,Mt={id:lt++,callback:Lt,priorityLevel:Mt,startTime:Kt,expirationTime:Qt,sortIndex:-1},Kt>qt?(Mt.sortIndex=Kt,_e(ct,Mt),nt(ht)===null&&Mt===nt(ct)&&(pt?(mt(Ot),Ot=-1):pt=!0,jt(vt,Kt-qt))):(Mt.sortIndex=Qt,_e(ht,Mt),st||rt||(st=!0,At(wt))),Mt},et.unstable_shouldYield=Rt,et.unstable_wrapCallback=function(Mt){var Lt=tt;return function(){var Kt=tt;tt=Lt;try{return Mt.apply(this,arguments)}finally{tt=Kt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(et){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+et,nt=1;nt<arguments.length;nt++)_e+="&args[]="+encodeURIComponent(arguments[nt]);return"Minified React error #"+et+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(et,_e){ha(et,_e),ha(et+"Capture",_e)}function ha(et,_e){for(ea[et]=_e,et=0;et<_e.length;et++)da.add(_e[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,_e,nt,it){if(nt!==null&&nt.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return it?!1:nt!==null?!nt.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,_e,nt,it){if(_e===null||typeof _e>"u"||pa(et,_e,nt,it))return!0;if(it)return!1;if(nt!==null)switch(nt.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$1(et,_e,nt,it,at,ut,dt){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=it,this.attributeNamespace=at,this.mustUseProperty=nt,this.propertyName=et,this.type=_e,this.sanitizeURL=ut,this.removeEmptyString=dt}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z[et]=new v$1(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var _e=et[0];z[_e]=new v$1(_e,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z[et]=new v$1(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z[et]=new v$1(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z[et]=new v$1(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z[et]=new v$1(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z[et]=new v$1(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z[et]=new v$1(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z[et]=new v$1(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z[_e]=new v$1(_e,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z[_e]=new v$1(_e,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var _e=et.replace(ra,sa);z[_e]=new v$1(_e,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z[et]=new v$1(et,1,!1,et.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z[et]=new v$1(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,_e,nt,it){var at=z.hasOwnProperty(_e)?z[_e]:null;(at!==null?at.type!==0:it||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,nt,at,it)&&(nt=null),it||at===null?oa(_e)&&(nt===null?et.removeAttribute(_e):et.setAttribute(_e,""+nt)):at.mustUseProperty?et[at.propertyName]=nt===null?at.type===3?!1:"":nt:(_e=at.attributeName,it=at.attributeNamespace,nt===null?et.removeAttribute(_e):(at=at.type,nt=at===3||at===4&&nt===!0?"":""+nt,it?et.setAttributeNS(it,_e,nt):et.setAttribute(_e,nt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$1=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(nt){var _e=nt.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+et}var Na=!1;function Oa(et,_e){if(!et||Na)return"";Na=!0;var nt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ct){var it=ct}Reflect.construct(et,[],_e)}else{try{_e.call()}catch(ct){it=ct}et.call(_e.prototype)}else{try{throw Error()}catch(ct){it=ct}et()}}catch(ct){if(ct&&it&&typeof ct.stack=="string"){for(var at=ct.stack.split(`
`),ut=it.stack.split(`
`),dt=at.length-1,ft=ut.length-1;1<=dt&&0<=ft&&at[dt]!==ut[ft];)ft--;for(;1<=dt&&0<=ft;dt--,ft--)if(at[dt]!==ut[ft]){if(dt!==1||ft!==1)do if(dt--,ft--,0>ft||at[dt]!==ut[ft]){var ht=`
`+at[dt].replace(" at new "," at ");return et.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",et.displayName)),ht}while(1<=dt&&0<=ft);break}}}finally{Na=!1,Error.prepareStackTrace=nt}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var _e=et.render;return et=et.displayName,et||(et=_e.displayName||_e.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return _e=et.displayName||null,_e!==null?_e:Qa(et.type)||"Memo";case Ha:_e=et._payload,et=et._init;try{return Qa(et(_e))}catch{}}return null}function Ra(et){var _e=et.type;switch(et.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=_e.render,et=et.displayName||et.name||"",_e.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var _e=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua(et){var _e=Ta(et)?"checked":"value",nt=Object.getOwnPropertyDescriptor(et.constructor.prototype,_e),it=""+et[_e];if(!et.hasOwnProperty(_e)&&typeof nt<"u"&&typeof nt.get=="function"&&typeof nt.set=="function"){var at=nt.get,ut=nt.set;return Object.defineProperty(et,_e,{configurable:!0,get:function(){return at.call(this)},set:function(dt){it=""+dt,ut.call(this,dt)}}),Object.defineProperty(et,_e,{enumerable:nt.enumerable}),{getValue:function(){return it},setValue:function(dt){it=""+dt},stopTracking:function(){et._valueTracker=null,delete et[_e]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var _e=et._valueTracker;if(!_e)return!0;var nt=_e.getValue(),it="";return et&&(it=Ta(et)?et.checked?"true":"false":et.value),et=it,et!==nt?(_e.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,_e){var nt=_e.checked;return A$1({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:nt??et._wrapperState.initialChecked})}function Za(et,_e){var nt=_e.defaultValue==null?"":_e.defaultValue,it=_e.checked!=null?_e.checked:_e.defaultChecked;nt=Sa(_e.value!=null?_e.value:nt),et._wrapperState={initialChecked:it,initialValue:nt,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab(et,_e){_e=_e.checked,_e!=null&&ta(et,"checked",_e,!1)}function bb(et,_e){ab(et,_e);var nt=Sa(_e.value),it=_e.type;if(nt!=null)it==="number"?(nt===0&&et.value===""||et.value!=nt)&&(et.value=""+nt):et.value!==""+nt&&(et.value=""+nt);else if(it==="submit"||it==="reset"){et.removeAttribute("value");return}_e.hasOwnProperty("value")?cb(et,_e.type,nt):_e.hasOwnProperty("defaultValue")&&cb(et,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&(et.defaultChecked=!!_e.defaultChecked)}function db(et,_e,nt){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var it=_e.type;if(!(it!=="submit"&&it!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+et._wrapperState.initialValue,nt||_e===et.value||(et.value=_e),et.defaultValue=_e}nt=et.name,nt!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,nt!==""&&(et.name=nt)}function cb(et,_e,nt){(_e!=="number"||Xa(et.ownerDocument)!==et)&&(nt==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+nt&&(et.defaultValue=""+nt))}var eb=Array.isArray;function fb(et,_e,nt,it){if(et=et.options,_e){_e={};for(var at=0;at<nt.length;at++)_e["$"+nt[at]]=!0;for(nt=0;nt<et.length;nt++)at=_e.hasOwnProperty("$"+et[nt].value),et[nt].selected!==at&&(et[nt].selected=at),at&&it&&(et[nt].defaultSelected=!0)}else{for(nt=""+Sa(nt),_e=null,at=0;at<et.length;at++){if(et[at].value===nt){et[at].selected=!0,it&&(et[at].defaultSelected=!0);return}_e!==null||et[at].disabled||(_e=et[at])}_e!==null&&(_e.selected=!0)}}function gb(et,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},_e,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,_e){var nt=_e.value;if(nt==null){if(nt=_e.children,_e=_e.defaultValue,nt!=null){if(_e!=null)throw Error(p$1(92));if(eb(nt)){if(1<nt.length)throw Error(p$1(93));nt=nt[0]}_e=nt}_e==null&&(_e=""),nt=_e}et._wrapperState={initialValue:Sa(nt)}}function ib(et,_e){var nt=Sa(_e.value),it=Sa(_e.defaultValue);nt!=null&&(nt=""+nt,nt!==et.value&&(et.value=nt),_e.defaultValue==null&&et.defaultValue!==nt&&(et.defaultValue=nt)),it!=null&&(et.defaultValue=""+it)}function jb(et){var _e=et.textContent;_e===et._wrapperState.initialValue&&_e!==""&&_e!==null&&(et.value=_e)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,_e){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(_e):et==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,nt,it,at){MSApp.execUnsafeLocalFunction(function(){return et(_e,nt,it,at)})}:et}(function(et,_e){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;_e.firstChild;)et.appendChild(_e.firstChild)}});function ob(et,_e){if(_e){var nt=et.firstChild;if(nt&&nt===et.lastChild&&nt.nodeType===3){nt.nodeValue=_e;return}}et.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(_e){_e=_e+et.charAt(0).toUpperCase()+et.substring(1),pb[_e]=pb[et]})});function rb(et,_e,nt){return _e==null||typeof _e=="boolean"||_e===""?"":nt||typeof _e!="number"||_e===0||pb.hasOwnProperty(et)&&pb[et]?(""+_e).trim():_e+"px"}function sb(et,_e){et=et.style;for(var nt in _e)if(_e.hasOwnProperty(nt)){var it=nt.indexOf("--")===0,at=rb(nt,_e[nt],it);nt==="float"&&(nt="cssFloat"),it?et.setProperty(nt,at):et[nt]=at}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,_e){if(_e){if(tb[et]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$1(137,et));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$1(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$1(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$1(62))}}function vb(et,_e){if(et.indexOf("-")===-1)return typeof _e.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$1(280));var _e=et.stateNode;_e&&(_e=Db(_e),yb(et.stateNode,et.type,_e))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,_e=Ab;if(Ab=zb=null,Bb(et),_e)for(et=0;et<_e.length;et++)Bb(_e[et])}}function Gb(et,_e){return et(_e)}function Hb(){}var Ib=!1;function Jb(et,_e,nt){if(Ib)return et(_e,nt);Ib=!0;try{return Gb(et,_e,nt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,_e){var nt=et.stateNode;if(nt===null)return null;var it=Db(nt);if(it===null)return null;nt=it[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(it=!it.disabled)||(et=et.type,it=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!it;break e;default:et=!1}if(et)return null;if(nt&&typeof nt!="function")throw Error(p$1(231,_e,typeof nt));return nt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,_e,nt,it,at,ut,dt,ft,ht){var ct=Array.prototype.slice.call(arguments,3);try{_e.apply(nt,ct)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,_e,nt,it,at,ut,dt,ft,ht){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,_e,nt,it,at,ut,dt,ft,ht){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=ct)}}function Vb(et){var _e=et,nt=et;if(et.alternate)for(;_e.return;)_e=_e.return;else{et=_e;do _e=et,_e.flags&4098&&(nt=_e.return),et=_e.return;while(et)}return _e.tag===3?nt:null}function Wb(et){if(et.tag===13){var _e=et.memoizedState;if(_e===null&&(et=et.alternate,et!==null&&(_e=et.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$1(188))}function Yb(et){var _e=et.alternate;if(!_e){if(_e=Vb(et),_e===null)throw Error(p$1(188));return _e!==et?null:et}for(var nt=et,it=_e;;){var at=nt.return;if(at===null)break;var ut=at.alternate;if(ut===null){if(it=at.return,it!==null){nt=it;continue}break}if(at.child===ut.child){for(ut=at.child;ut;){if(ut===nt)return Xb(at),et;if(ut===it)return Xb(at),_e;ut=ut.sibling}throw Error(p$1(188))}if(nt.return!==it.return)nt=at,it=ut;else{for(var dt=!1,ft=at.child;ft;){if(ft===nt){dt=!0,nt=at,it=ut;break}if(ft===it){dt=!0,it=at,nt=ut;break}ft=ft.sibling}if(!dt){for(ft=ut.child;ft;){if(ft===nt){dt=!0,nt=ut,it=at;break}if(ft===it){dt=!0,it=ut,nt=at;break}ft=ft.sibling}if(!dt)throw Error(p$1(189))}}if(nt.alternate!==it)throw Error(p$1(190))}if(nt.tag!==3)throw Error(p$1(188));return nt.stateNode.current===nt?et:_e}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var _e=$b(et);if(_e!==null)return _e;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,_e){var nt=et.pendingLanes;if(nt===0)return 0;var it=0,at=et.suspendedLanes,ut=et.pingedLanes,dt=nt&268435455;if(dt!==0){var ft=dt&~at;ft!==0?it=tc(ft):(ut&=dt,ut!==0&&(it=tc(ut)))}else dt=nt&~at,dt!==0?it=tc(dt):ut!==0&&(it=tc(ut));if(it===0)return 0;if(_e!==0&&_e!==it&&!(_e&at)&&(at=it&-it,ut=_e&-_e,at>=ut||at===16&&(ut&4194240)!==0))return _e;if(it&4&&(it|=nt&16),_e=et.entangledLanes,_e!==0)for(et=et.entanglements,_e&=it;0<_e;)nt=31-oc(_e),at=1<<nt,it|=et[nt],_e&=~at;return it}function vc(et,_e){switch(et){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,_e){for(var nt=et.suspendedLanes,it=et.pingedLanes,at=et.expirationTimes,ut=et.pendingLanes;0<ut;){var dt=31-oc(ut),ft=1<<dt,ht=at[dt];ht===-1?(!(ft&nt)||ft&it)&&(at[dt]=vc(ft,_e)):ht<=_e&&(et.expiredLanes|=ft),ut&=~ft}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,!(rc&4194240)&&(rc=64),et}function zc(et){for(var _e=[],nt=0;31>nt;nt++)_e.push(et);return _e}function Ac(et,_e,nt){et.pendingLanes|=_e,_e!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,_e=31-oc(_e),et[_e]=nt}function Bc(et,_e){var nt=et.pendingLanes&~_e;et.pendingLanes=_e,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=_e,et.mutableReadLanes&=_e,et.entangledLanes&=_e,_e=et.entanglements;var it=et.eventTimes;for(et=et.expirationTimes;0<nt;){var at=31-oc(nt),ut=1<<at;_e[at]=0,it[at]=-1,et[at]=-1,nt&=~ut}}function Cc(et,_e){var nt=et.entangledLanes|=_e;for(et=et.entanglements;nt;){var it=31-oc(nt),at=1<<it;at&_e|et[it]&_e&&(et[it]|=_e),nt&=~at}}var C=0;function Dc(et){return et&=-et,1<et?4<et?et&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,_e){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc(et,_e,nt,it,at,ut){return et===null||et.nativeEvent!==ut?(et={blockedOn:_e,domEventName:nt,eventSystemFlags:it,nativeEvent:ut,targetContainers:[at]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),et):(et.eventSystemFlags|=it,_e=et.targetContainers,at!==null&&_e.indexOf(at)===-1&&_e.push(at),et)}function Uc(et,_e,nt,it,at){switch(_e){case"focusin":return Lc=Tc(Lc,et,_e,nt,it,at),!0;case"dragenter":return Mc=Tc(Mc,et,_e,nt,it,at),!0;case"mouseover":return Nc=Tc(Nc,et,_e,nt,it,at),!0;case"pointerover":var ut=at.pointerId;return Oc.set(ut,Tc(Oc.get(ut)||null,et,_e,nt,it,at)),!0;case"gotpointercapture":return ut=at.pointerId,Pc.set(ut,Tc(Pc.get(ut)||null,et,_e,nt,it,at)),!0}return!1}function Vc(et){var _e=Wc(et.target);if(_e!==null){var nt=Vb(_e);if(nt!==null){if(_e=nt.tag,_e===13){if(_e=Wb(nt),_e!==null){et.blockedOn=_e,Ic(et.priority,function(){Gc(nt)});return}}else if(_e===3&&nt.stateNode.current.memoizedState.isDehydrated){et.blockedOn=nt.tag===3?nt.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var _e=et.targetContainers;0<_e.length;){var nt=Yc(et.domEventName,et.eventSystemFlags,_e[0],et.nativeEvent);if(nt===null){nt=et.nativeEvent;var it=new nt.constructor(nt.type,nt);wb=it,nt.target.dispatchEvent(it),wb=null}else return _e=Cb(nt),_e!==null&&Fc(_e),et.blockedOn=nt,!1;_e.shift()}return!0}function Zc(et,_e,nt){Xc(et)&&nt.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,_e){et.blockedOn===_e&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function _e(at){return ad(at,et)}if(0<Kc.length){ad(Kc[0],et);for(var nt=1;nt<Kc.length;nt++){var it=Kc[nt];it.blockedOn===et&&(it.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(_e),Pc.forEach(_e),nt=0;nt<Qc.length;nt++)it=Qc[nt],it.blockedOn===et&&(it.blockedOn=null);for(;0<Qc.length&&(nt=Qc[0],nt.blockedOn===null);)Vc(nt),nt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,_e,nt,it){var at=C,ut=cd.transition;cd.transition=null;try{C=1,fd(et,_e,nt,it)}finally{C=at,cd.transition=ut}}function gd(et,_e,nt,it){var at=C,ut=cd.transition;cd.transition=null;try{C=4,fd(et,_e,nt,it)}finally{C=at,cd.transition=ut}}function fd(et,_e,nt,it){if(dd){var at=Yc(et,_e,nt,it);if(at===null)hd(et,_e,it,id,nt),Sc(et,it);else if(Uc(at,et,_e,nt,it))it.stopPropagation();else if(Sc(et,it),_e&4&&-1<Rc.indexOf(et)){for(;at!==null;){var ut=Cb(at);if(ut!==null&&Ec(ut),ut=Yc(et,_e,nt,it),ut===null&&hd(et,_e,it,id,nt),ut===at)break;at=ut}at!==null&&it.stopPropagation()}else hd(et,_e,it,null,nt)}}var id=null;function Yc(et,_e,nt,it){if(id=null,et=xb(it),et=Wc(et),et!==null)if(_e=Vb(et),_e===null)et=null;else if(nt=_e.tag,nt===13){if(et=Wb(_e),et!==null)return et;et=null}else if(nt===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;et=null}else _e!==et&&(et=null);return id=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,_e=ld,nt=_e.length,it,at="value"in kd?kd.value:kd.textContent,ut=at.length;for(et=0;et<nt&&_e[et]===at[et];et++);var dt=nt-et;for(it=1;it<=dt&&_e[nt-it]===at[ut-it];it++);return md=at.slice(et,1<it?1-it:void 0)}function od(et){var _e=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&_e===13&&(et=13)):et=_e,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function _e(nt,it,at,ut,dt){this._reactName=nt,this._targetInst=at,this.type=it,this.nativeEvent=ut,this.target=dt,this.currentTarget=null;for(var ft in et)et.hasOwnProperty(ft)&&(nt=et[ft],this[ft]=nt?nt(ut):ut[ft]);return this.isDefaultPrevented=(ut.defaultPrevented!=null?ut.defaultPrevented:ut.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var nt=this.nativeEvent;nt&&(nt.preventDefault?nt.preventDefault():typeof nt.returnValue!="unknown"&&(nt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var nt=this.nativeEvent;nt&&(nt.stopPropagation?nt.stopPropagation():typeof nt.cancelBubble!="unknown"&&(nt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState(et):(et=Od[et])?!!_e[et]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(et){if(et.key){var _e=Md[et.key]||et.key;if(_e!=="Unidentified")return _e}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$1=!1;function ge$1(et,_e){switch(et){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie=!1;function je(et,_e){switch(et){case"compositionend":return he$1(_e);case"keypress":return _e.which!==32?null:(fe$1=!0,ee$1);case"textInput":return et=_e.data,et===ee$1&&fe$1?null:et;default:return null}}function ke(et,_e){if(ie)return et==="compositionend"||!ae&&ge$1(et,_e)?(et=nd(),md=ld=kd=null,ie=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de$1&&_e.locale!=="ko"?null:_e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e==="input"?!!le$1[et.type]:_e==="textarea"}function ne$1(et,_e,nt,it){Eb(it),_e=oe$1(_e,"onChange"),0<_e.length&&(nt=new td("onChange","change",null,nt,it),et.push({event:nt,listeners:_e}))}var pe$1=null,qe=null;function re$1(et){se$1(et,0)}function te(et){var _e=ue$1(et);if(Wa(_e))return et}function ve$1(et,_e){if(et==="change")return _e}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(et){if(et.propertyName==="value"&&te(qe)){var _e=[];ne$1(_e,qe,et,xb(et)),Jb(re$1,_e)}}function Ce(et,_e,nt){et==="focusin"?(Ae$1(),pe$1=_e,qe=nt,pe$1.attachEvent("onpropertychange",Be)):et==="focusout"&&Ae$1()}function De(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te(qe)}function Ee$1(et,_e){if(et==="click")return te(_e)}function Fe(et,_e){if(et==="input"||et==="change")return te(_e)}function Ge(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(et,_e){if(He(et,_e))return!0;if(typeof et!="object"||et===null||typeof _e!="object"||_e===null)return!1;var nt=Object.keys(et),it=Object.keys(_e);if(nt.length!==it.length)return!1;for(it=0;it<nt.length;it++){var at=nt[it];if(!ja.call(_e,at)||!He(et[at],_e[at]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke(et,_e){var nt=Je(et);et=0;for(var it;nt;){if(nt.nodeType===3){if(it=et+nt.textContent.length,et<=_e&&it>=_e)return{node:nt,offset:_e-et};et=it}e:{for(;nt;){if(nt.nextSibling){nt=nt.nextSibling;break e}nt=nt.parentNode}nt=void 0}nt=Je(nt)}}function Le(et,_e){return et&&_e?et===_e?!0:et&&et.nodeType===3?!1:_e&&_e.nodeType===3?Le(et,_e.parentNode):"contains"in et?et.contains(_e):et.compareDocumentPosition?!!(et.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var et=window,_e=Xa();_e instanceof et.HTMLIFrameElement;){try{var nt=typeof _e.contentWindow.location.href=="string"}catch{nt=!1}if(nt)et=_e.contentWindow;else break;_e=Xa(et.document)}return _e}function Ne(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e&&(_e==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||_e==="textarea"||et.contentEditable==="true")}function Oe(et){var _e=Me(),nt=et.focusedElem,it=et.selectionRange;if(_e!==nt&&nt&&nt.ownerDocument&&Le(nt.ownerDocument.documentElement,nt)){if(it!==null&&Ne(nt)){if(_e=it.start,et=it.end,et===void 0&&(et=_e),"selectionStart"in nt)nt.selectionStart=_e,nt.selectionEnd=Math.min(et,nt.value.length);else if(et=(_e=nt.ownerDocument||document)&&_e.defaultView||window,et.getSelection){et=et.getSelection();var at=nt.textContent.length,ut=Math.min(it.start,at);it=it.end===void 0?ut:Math.min(it.end,at),!et.extend&&ut>it&&(at=it,it=ut,ut=at),at=Ke(nt,ut);var dt=Ke(nt,it);at&&dt&&(et.rangeCount!==1||et.anchorNode!==at.node||et.anchorOffset!==at.offset||et.focusNode!==dt.node||et.focusOffset!==dt.offset)&&(_e=_e.createRange(),_e.setStart(at.node,at.offset),et.removeAllRanges(),ut>it?(et.addRange(_e),et.extend(dt.node,dt.offset)):(_e.setEnd(dt.node,dt.offset),et.addRange(_e)))}}for(_e=[],et=nt;et=et.parentNode;)et.nodeType===1&&_e.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof nt.focus=="function"&&nt.focus(),nt=0;nt<_e.length;nt++)et=_e[nt],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(et,_e,nt){var it=nt.window===nt?nt.document:nt.nodeType===9?nt:nt.ownerDocument;Te$1||Qe==null||Qe!==Xa(it)||(it=Qe,"selectionStart"in it&&Ne(it)?it={start:it.selectionStart,end:it.selectionEnd}:(it=(it.ownerDocument&&it.ownerDocument.defaultView||window).getSelection(),it={anchorNode:it.anchorNode,anchorOffset:it.anchorOffset,focusNode:it.focusNode,focusOffset:it.focusOffset}),Se$1&&Ie$1(Se$1,it)||(Se$1=it,it=oe$1(Re$1,"onSelect"),0<it.length&&(_e=new td("onSelect","select",null,_e,nt),et.push({event:_e,listeners:it}),_e.target=Qe)))}function Ve(et,_e){var nt={};return nt[et.toLowerCase()]=_e.toLowerCase(),nt["Webkit"+et]="webkit"+_e,nt["Moz"+et]="moz"+_e,nt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We[et])return et;var _e=We[et],nt;for(nt in _e)if(_e.hasOwnProperty(nt)&&nt in Ye)return Xe[et]=_e[nt];return et}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,_e){df.set(et,_e),fa(_e,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,_e,nt){var it=et.type||"unknown-event";et.currentTarget=nt,Ub(it,_e,void 0,et),et.currentTarget=null}function se$1(et,_e){_e=(_e&4)!==0;for(var nt=0;nt<et.length;nt++){var it=et[nt],at=it.event;it=it.listeners;e:{var ut=void 0;if(_e)for(var dt=it.length-1;0<=dt;dt--){var ft=it[dt],ht=ft.instance,ct=ft.currentTarget;if(ft=ft.listener,ht!==ut&&at.isPropagationStopped())break e;nf(at,ft,ct),ut=ht}else for(dt=0;dt<it.length;dt++){if(ft=it[dt],ht=ft.instance,ct=ft.currentTarget,ft=ft.listener,ht!==ut&&at.isPropagationStopped())break e;nf(at,ft,ct),ut=ht}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$1(et,_e){var nt=_e[of];nt===void 0&&(nt=_e[of]=new Set);var it=et+"__bubble";nt.has(it)||(pf(_e,et,2,!1),nt.add(it))}function qf(et,_e,nt){var it=0;_e&&(it|=4),pf(nt,et,it,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(nt){nt!=="selectionchange"&&(mf.has(nt)||qf(nt,!1,et),qf(nt,!0,et))});var _e=et.nodeType===9?et:et.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf(et,_e,nt,it){switch(jd(_e)){case 1:var at=ed;break;case 4:at=gd;break;default:at=fd}nt=at.bind(null,_e,nt,et),at=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(at=!0),it?at!==void 0?et.addEventListener(_e,nt,{capture:!0,passive:at}):et.addEventListener(_e,nt,!0):at!==void 0?et.addEventListener(_e,nt,{passive:at}):et.addEventListener(_e,nt,!1)}function hd(et,_e,nt,it,at){var ut=it;if(!(_e&1)&&!(_e&2)&&it!==null)e:for(;;){if(it===null)return;var dt=it.tag;if(dt===3||dt===4){var ft=it.stateNode.containerInfo;if(ft===at||ft.nodeType===8&&ft.parentNode===at)break;if(dt===4)for(dt=it.return;dt!==null;){var ht=dt.tag;if((ht===3||ht===4)&&(ht=dt.stateNode.containerInfo,ht===at||ht.nodeType===8&&ht.parentNode===at))return;dt=dt.return}for(;ft!==null;){if(dt=Wc(ft),dt===null)return;if(ht=dt.tag,ht===5||ht===6){it=ut=dt;continue e}ft=ft.parentNode}}it=it.return}Jb(function(){var ct=ut,lt=xb(nt),ot=[];e:{var tt=df.get(et);if(tt!==void 0){var rt=td,st=et;switch(et){case"keypress":if(od(nt)===0)break e;case"keydown":case"keyup":rt=Rd;break;case"focusin":st="focus",rt=Fd;break;case"focusout":st="blur",rt=Fd;break;case"beforeblur":case"afterblur":rt=Fd;break;case"click":if(nt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Vd;break;case $e:case af:case bf:rt=Hd;break;case cf:rt=Xd;break;case"scroll":rt=vd;break;case"wheel":rt=Zd;break;case"copy":case"cut":case"paste":rt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Td}var pt=(_e&4)!==0,gt=!pt&&et==="scroll",mt=pt?tt!==null?tt+"Capture":null:tt;pt=[];for(var yt=ct,bt;yt!==null;){bt=yt;var vt=bt.stateNode;if(bt.tag===5&&vt!==null&&(bt=vt,mt!==null&&(vt=Kb(yt,mt),vt!=null&&pt.push(tf(yt,vt,bt)))),gt)break;yt=yt.return}0<pt.length&&(tt=new rt(tt,st,null,nt,lt),ot.push({event:tt,listeners:pt}))}}if(!(_e&7)){e:{if(tt=et==="mouseover"||et==="pointerover",rt=et==="mouseout"||et==="pointerout",tt&&nt!==wb&&(st=nt.relatedTarget||nt.fromElement)&&(Wc(st)||st[uf]))break e;if((rt||tt)&&(tt=lt.window===lt?lt:(tt=lt.ownerDocument)?tt.defaultView||tt.parentWindow:window,rt?(st=nt.relatedTarget||nt.toElement,rt=ct,st=st?Wc(st):null,st!==null&&(gt=Vb(st),st!==gt||st.tag!==5&&st.tag!==6)&&(st=null)):(rt=null,st=ct),rt!==st)){if(pt=Bd,vt="onMouseLeave",mt="onMouseEnter",yt="mouse",(et==="pointerout"||et==="pointerover")&&(pt=Td,vt="onPointerLeave",mt="onPointerEnter",yt="pointer"),gt=rt==null?tt:ue$1(rt),bt=st==null?tt:ue$1(st),tt=new pt(vt,yt+"leave",rt,nt,lt),tt.target=gt,tt.relatedTarget=bt,vt=null,Wc(lt)===ct&&(pt=new pt(mt,yt+"enter",st,nt,lt),pt.target=bt,pt.relatedTarget=gt,vt=pt),gt=vt,rt&&st)t:{for(pt=rt,mt=st,yt=0,bt=pt;bt;bt=vf(bt))yt++;for(bt=0,vt=mt;vt;vt=vf(vt))bt++;for(;0<yt-bt;)pt=vf(pt),yt--;for(;0<bt-yt;)mt=vf(mt),bt--;for(;yt--;){if(pt===mt||mt!==null&&pt===mt.alternate)break t;pt=vf(pt),mt=vf(mt)}pt=null}else pt=null;rt!==null&&wf(ot,tt,rt,pt,!1),st!==null&&gt!==null&&wf(ot,gt,st,pt,!0)}}e:{if(tt=ct?ue$1(ct):window,rt=tt.nodeName&&tt.nodeName.toLowerCase(),rt==="select"||rt==="input"&&tt.type==="file")var wt=ve$1;else if(me(tt))if(we)wt=Fe;else{wt=De;var xt=Ce}else(rt=tt.nodeName)&&rt.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(wt=Ee$1);if(wt&&(wt=wt(et,ct))){ne$1(ot,wt,nt,lt);break e}xt&&xt(et,tt,ct),et==="focusout"&&(xt=tt._wrapperState)&&xt.controlled&&tt.type==="number"&&cb(tt,"number",tt.value)}switch(xt=ct?ue$1(ct):window,et){case"focusin":(me(xt)||xt.contentEditable==="true")&&(Qe=xt,Re$1=ct,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(ot,nt,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ot,nt,lt)}var Tt;if(ae)e:{switch(et){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else ie?ge$1(et,nt)&&(Ot="onCompositionEnd"):et==="keydown"&&nt.keyCode===229&&(Ot="onCompositionStart");Ot&&(de$1&&nt.locale!=="ko"&&(ie||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ie&&(Tt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),xt=oe$1(ct,Ot),0<xt.length&&(Ot=new Ld(Ot,et,null,nt,lt),ot.push({event:Ot,listeners:xt}),Tt?Ot.data=Tt:(Tt=he$1(nt),Tt!==null&&(Ot.data=Tt)))),(Tt=ce?je(et,nt):ke(et,nt))&&(ct=oe$1(ct,"onBeforeInput"),0<ct.length&&(lt=new Ld("onBeforeInput","beforeinput",null,nt,lt),ot.push({event:lt,listeners:ct}),lt.data=Tt))}se$1(ot,_e)})}function tf(et,_e,nt){return{instance:et,listener:_e,currentTarget:nt}}function oe$1(et,_e){for(var nt=_e+"Capture",it=[];et!==null;){var at=et,ut=at.stateNode;at.tag===5&&ut!==null&&(at=ut,ut=Kb(et,nt),ut!=null&&it.unshift(tf(et,ut,at)),ut=Kb(et,_e),ut!=null&&it.push(tf(et,ut,at))),et=et.return}return it}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,_e,nt,it,at){for(var ut=_e._reactName,dt=[];nt!==null&&nt!==it;){var ft=nt,ht=ft.alternate,ct=ft.stateNode;if(ht!==null&&ht===it)break;ft.tag===5&&ct!==null&&(ft=ct,at?(ht=Kb(nt,ut),ht!=null&&dt.unshift(tf(nt,ht,ft))):at||(ht=Kb(nt,ut),ht!=null&&dt.push(tf(nt,ht,ft)))),nt=nt.return}dt.length!==0&&et.push({event:_e,listeners:dt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,_e,nt){if(_e=zf(_e),zf(et)!==_e&&nt)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,_e){return et==="textarea"||et==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,_e){var nt=_e,it=0;do{var at=nt.nextSibling;if(et.removeChild(nt),at&&at.nodeType===8)if(nt=at.data,nt==="/$"){if(it===0){et.removeChild(at),bd(_e);return}it--}else nt!=="$"&&nt!=="$?"&&nt!=="$!"||it++;nt=at}while(nt);bd(_e)}function Lf(et){for(;et!=null;et=et.nextSibling){var _e=et.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=et.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var _e=0;et;){if(et.nodeType===8){var nt=et.data;if(nt==="$"||nt==="$!"||nt==="$?"){if(_e===0)return et;_e--}else nt==="/$"&&_e++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var _e=et[Of];if(_e)return _e;for(var nt=et.parentNode;nt;){if(_e=nt[uf]||nt[Of]){if(nt=_e.alternate,_e.child!==null||nt!==null&&nt.child!==null)for(et=Mf(et);et!==null;){if(nt=et[Of])return nt;et=Mf(et)}return _e}et=nt,nt=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue$1(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$1(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(et,_e){Tf++,Sf[Tf]=et.current,et.current=_e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,_e){var nt=et.type.contextTypes;if(!nt)return Vf;var it=et.stateNode;if(it&&it.__reactInternalMemoizedUnmaskedChildContext===_e)return it.__reactInternalMemoizedMaskedChildContext;var at={},ut;for(ut in nt)at[ut]=_e[ut];return it&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=_e,et.__reactInternalMemoizedMaskedChildContext=at),at}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E(Wf),E(H)}function ag(et,_e,nt){if(H.current!==Vf)throw Error(p$1(168));G$1(H,_e),G$1(Wf,nt)}function bg(et,_e,nt){var it=et.stateNode;if(_e=_e.childContextTypes,typeof it.getChildContext!="function")return nt;it=it.getChildContext();for(var at in it)if(!(at in _e))throw Error(p$1(108,Ra(et)||"Unknown",at));return A$1({},nt,it)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G$1(H,et),G$1(Wf,Wf.current),!0}function dg(et,_e,nt){var it=et.stateNode;if(!it)throw Error(p$1(169));nt?(et=bg(et,_e,Xf),it.__reactInternalMemoizedMergedChildContext=et,E(Wf),E(H),G$1(H,et)):E(Wf),G$1(Wf,nt)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,_e=C;try{var nt=eg;for(C=1;et<nt.length;et++){var it=nt[et];do it=it(!0);while(it!==null)}eg=null,fg=!1}catch(at){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),at}finally{C=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,_e){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=_e}function ug(et,_e,nt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var it=rg;et=sg;var at=32-oc(it)-1;it&=~(1<<at),nt+=1;var ut=32-oc(_e)+at;if(30<ut){var dt=at-at%5;ut=(it&(1<<dt)-1).toString(32),it>>=dt,at-=dt,rg=1<<32-oc(_e)+at|nt<<at|it,sg=ut+et}else rg=1<<ut|nt<<at|it,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(et,_e){var nt=Bg(5,null,null,0);nt.elementType="DELETED",nt.stateNode=_e,nt.return=et,_e=et.deletions,_e===null?(et.deletions=[nt],et.flags|=16):_e.push(nt)}function Cg(et,_e){switch(et.tag){case 5:var nt=et.type;return _e=_e.nodeType!==1||nt.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=et.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(nt=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:_e,treeContext:nt,retryLane:1073741824},nt=Bg(18,null,null,0),nt.stateNode=_e,nt.return=et,et.child=nt,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$1){var _e=yg;if(_e){var nt=_e;if(!Cg(et,_e)){if(Dg(et))throw Error(p$1(418));_e=Lf(nt.nextSibling);var it=xg;_e&&Cg(et,_e)?Ag(it,nt):(et.flags=et.flags&-4097|2,I$1=!1,xg=et)}}else{if(Dg(et))throw Error(p$1(418));et.flags=et.flags&-4097|2,I$1=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$1)return Fg(et),I$1=!0,!1;var _e;if((_e=et.tag!==3)&&!(_e=et.tag!==5)&&(_e=et.type,_e=_e!=="head"&&_e!=="body"&&!Ef(et.type,et.memoizedProps)),_e&&(_e=yg)){if(Dg(et))throw Hg(),Error(p$1(418));for(;_e;)Ag(et,_e),_e=Lf(_e.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$1(317));e:{for(et=et.nextSibling,_e=0;et;){if(et.nodeType===8){var nt=et.data;if(nt==="/$"){if(_e===0){yg=Lf(et.nextSibling);break e}_e--}else nt!=="$"&&nt!=="$!"&&nt!=="$?"||_e++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,_e){if(et&&et.defaultProps){_e=A$1({},_e),et=et.defaultProps;for(var nt in et)_e[nt]===void 0&&(_e[nt]=et[nt]);return _e}return _e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(et){var _e=Mg.current;E(Mg),et._currentValue=_e}function Sg(et,_e,nt){for(;et!==null;){var it=et.alternate;if((et.childLanes&_e)!==_e?(et.childLanes|=_e,it!==null&&(it.childLanes|=_e)):it!==null&&(it.childLanes&_e)!==_e&&(it.childLanes|=_e),et===nt)break;et=et.return}}function Tg(et,_e){Ng=et,Pg=Og=null,et=et.dependencies,et!==null&&et.firstContext!==null&&(et.lanes&_e&&(Ug=!0),et.firstContext=null)}function Vg(et){var _e=et._currentValue;if(Pg!==et)if(et={context:et,memoizedValue:_e,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=et,Ng.dependencies={lanes:0,firstContext:et}}else Og=Og.next=et;return _e}var Wg=null;function Xg(et){Wg===null?Wg=[et]:Wg.push(et)}function Yg(et,_e,nt,it){var at=_e.interleaved;return at===null?(nt.next=nt,Xg(_e)):(nt.next=at.next,at.next=nt),_e.interleaved=nt,Zg(et,it)}function Zg(et,_e){et.lanes|=_e;var nt=et.alternate;for(nt!==null&&(nt.lanes|=_e),nt=et,et=et.return;et!==null;)et.childLanes|=_e,nt=et.alternate,nt!==null&&(nt.childLanes|=_e),nt=et,et=et.return;return nt.tag===3?nt.stateNode:null}var $g=!1;function ah(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(et,_e){et=et.updateQueue,_e.updateQueue===et&&(_e.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function ch(et,_e){return{eventTime:et,lane:_e,tag:0,payload:null,callback:null,next:null}}function dh(et,_e,nt){var it=et.updateQueue;if(it===null)return null;if(it=it.shared,K&2){var at=it.pending;return at===null?_e.next=_e:(_e.next=at.next,at.next=_e),it.pending=_e,Zg(et,nt)}return at=it.interleaved,at===null?(_e.next=_e,Xg(it)):(_e.next=at.next,at.next=_e),it.interleaved=_e,Zg(et,nt)}function eh(et,_e,nt){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(nt&4194240)!==0)){var it=_e.lanes;it&=et.pendingLanes,nt|=it,_e.lanes=nt,Cc(et,nt)}}function fh(et,_e){var nt=et.updateQueue,it=et.alternate;if(it!==null&&(it=it.updateQueue,nt===it)){var at=null,ut=null;if(nt=nt.firstBaseUpdate,nt!==null){do{var dt={eventTime:nt.eventTime,lane:nt.lane,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null};ut===null?at=ut=dt:ut=ut.next=dt,nt=nt.next}while(nt!==null);ut===null?at=ut=_e:ut=ut.next=_e}else at=ut=_e;nt={baseState:it.baseState,firstBaseUpdate:at,lastBaseUpdate:ut,shared:it.shared,effects:it.effects},et.updateQueue=nt;return}et=nt.lastBaseUpdate,et===null?nt.firstBaseUpdate=_e:et.next=_e,nt.lastBaseUpdate=_e}function gh(et,_e,nt,it){var at=et.updateQueue;$g=!1;var ut=at.firstBaseUpdate,dt=at.lastBaseUpdate,ft=at.shared.pending;if(ft!==null){at.shared.pending=null;var ht=ft,ct=ht.next;ht.next=null,dt===null?ut=ct:dt.next=ct,dt=ht;var lt=et.alternate;lt!==null&&(lt=lt.updateQueue,ft=lt.lastBaseUpdate,ft!==dt&&(ft===null?lt.firstBaseUpdate=ct:ft.next=ct,lt.lastBaseUpdate=ht))}if(ut!==null){var ot=at.baseState;dt=0,lt=ct=ht=null,ft=ut;do{var tt=ft.lane,rt=ft.eventTime;if((it&tt)===tt){lt!==null&&(lt=lt.next={eventTime:rt,lane:0,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null});e:{var st=et,pt=ft;switch(tt=_e,rt=nt,pt.tag){case 1:if(st=pt.payload,typeof st=="function"){ot=st.call(rt,ot,tt);break e}ot=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=pt.payload,tt=typeof st=="function"?st.call(rt,ot,tt):st,tt==null)break e;ot=A$1({},ot,tt);break e;case 2:$g=!0}}ft.callback!==null&&ft.lane!==0&&(et.flags|=64,tt=at.effects,tt===null?at.effects=[ft]:tt.push(ft))}else rt={eventTime:rt,lane:tt,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null},lt===null?(ct=lt=rt,ht=ot):lt=lt.next=rt,dt|=tt;if(ft=ft.next,ft===null){if(ft=at.shared.pending,ft===null)break;tt=ft,ft=tt.next,tt.next=null,at.lastBaseUpdate=tt,at.shared.pending=null}}while(!0);if(lt===null&&(ht=ot),at.baseState=ht,at.firstBaseUpdate=ct,at.lastBaseUpdate=lt,_e=at.shared.interleaved,_e!==null){at=_e;do dt|=at.lane,at=at.next;while(at!==_e)}else ut===null&&(at.shared.lanes=0);hh|=dt,et.lanes=dt,et.memoizedState=ot}}function ih(et,_e,nt){if(et=_e.effects,_e.effects=null,et!==null)for(_e=0;_e<et.length;_e++){var it=et[_e],at=it.callback;if(at!==null){if(it.callback=null,it=nt,typeof at!="function")throw Error(p$1(191,at));at.call(it)}}}var jh=new aa.Component().refs;function kh(et,_e,nt,it){_e=et.memoizedState,nt=nt(it,_e),nt=nt==null?_e:A$1({},_e,nt),et.memoizedState=nt,et.lanes===0&&(et.updateQueue.baseState=nt)}var nh={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,_e,nt){et=et._reactInternals;var it=L(),at=lh(et),ut=ch(it,at);ut.payload=_e,nt!=null&&(ut.callback=nt),_e=dh(et,ut,at),_e!==null&&(mh(_e,et,at,it),eh(_e,et,at))},enqueueReplaceState:function(et,_e,nt){et=et._reactInternals;var it=L(),at=lh(et),ut=ch(it,at);ut.tag=1,ut.payload=_e,nt!=null&&(ut.callback=nt),_e=dh(et,ut,at),_e!==null&&(mh(_e,et,at,it),eh(_e,et,at))},enqueueForceUpdate:function(et,_e){et=et._reactInternals;var nt=L(),it=lh(et),at=ch(nt,it);at.tag=2,_e!=null&&(at.callback=_e),_e=dh(et,at,it),_e!==null&&(mh(_e,et,it,nt),eh(_e,et,it))}};function oh(et,_e,nt,it,at,ut,dt){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(it,ut,dt):_e.prototype&&_e.prototype.isPureReactComponent?!Ie$1(nt,it)||!Ie$1(at,ut):!0}function ph(et,_e,nt){var it=!1,at=Vf,ut=_e.contextType;return typeof ut=="object"&&ut!==null?ut=Vg(ut):(at=Zf(_e)?Xf:H.current,it=_e.contextTypes,ut=(it=it!=null)?Yf(et,at):Vf),_e=new _e(nt,ut),et.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=nh,et.stateNode=_e,_e._reactInternals=et,it&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=at,et.__reactInternalMemoizedMaskedChildContext=ut),_e}function qh(et,_e,nt,it){et=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(nt,it),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(nt,it),_e.state!==et&&nh.enqueueReplaceState(_e,_e.state,null)}function rh(et,_e,nt,it){var at=et.stateNode;at.props=nt,at.state=et.memoizedState,at.refs=jh,ah(et);var ut=_e.contextType;typeof ut=="object"&&ut!==null?at.context=Vg(ut):(ut=Zf(_e)?Xf:H.current,at.context=Yf(et,ut)),at.state=et.memoizedState,ut=_e.getDerivedStateFromProps,typeof ut=="function"&&(kh(et,_e,ut,nt),at.state=et.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof at.getSnapshotBeforeUpdate=="function"||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(_e=at.state,typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount(),_e!==at.state&&nh.enqueueReplaceState(at,at.state,null),gh(et,nt,at,it),at.state=et.memoizedState),typeof at.componentDidMount=="function"&&(et.flags|=4194308)}function sh(et,_e,nt){if(et=nt.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(nt._owner){if(nt=nt._owner,nt){if(nt.tag!==1)throw Error(p$1(309));var it=nt.stateNode}if(!it)throw Error(p$1(147,et));var at=it,ut=""+et;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===ut?_e.ref:(_e=function(dt){var ft=at.refs;ft===jh&&(ft=at.refs={}),dt===null?delete ft[ut]:ft[ut]=dt},_e._stringRef=ut,_e)}if(typeof et!="string")throw Error(p$1(284));if(!nt._owner)throw Error(p$1(290,et))}return et}function th(et,_e){throw et=Object.prototype.toString.call(_e),Error(p$1(31,et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et))}function uh(et){var _e=et._init;return _e(et._payload)}function vh(et){function _e(mt,yt){if(et){var bt=mt.deletions;bt===null?(mt.deletions=[yt],mt.flags|=16):bt.push(yt)}}function nt(mt,yt){if(!et)return null;for(;yt!==null;)_e(mt,yt),yt=yt.sibling;return null}function it(mt,yt){for(mt=new Map;yt!==null;)yt.key!==null?mt.set(yt.key,yt):mt.set(yt.index,yt),yt=yt.sibling;return mt}function at(mt,yt){return mt=wh(mt,yt),mt.index=0,mt.sibling=null,mt}function ut(mt,yt,bt){return mt.index=bt,et?(bt=mt.alternate,bt!==null?(bt=bt.index,bt<yt?(mt.flags|=2,yt):bt):(mt.flags|=2,yt)):(mt.flags|=1048576,yt)}function dt(mt){return et&&mt.alternate===null&&(mt.flags|=2),mt}function ft(mt,yt,bt,vt){return yt===null||yt.tag!==6?(yt=xh(bt,mt.mode,vt),yt.return=mt,yt):(yt=at(yt,bt),yt.return=mt,yt)}function ht(mt,yt,bt,vt){var wt=bt.type;return wt===ya?lt(mt,yt,bt.props.children,vt,bt.key):yt!==null&&(yt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Ha&&uh(wt)===yt.type)?(vt=at(yt,bt.props),vt.ref=sh(mt,yt,bt),vt.return=mt,vt):(vt=yh(bt.type,bt.key,bt.props,null,mt.mode,vt),vt.ref=sh(mt,yt,bt),vt.return=mt,vt)}function ct(mt,yt,bt,vt){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==bt.containerInfo||yt.stateNode.implementation!==bt.implementation?(yt=zh(bt,mt.mode,vt),yt.return=mt,yt):(yt=at(yt,bt.children||[]),yt.return=mt,yt)}function lt(mt,yt,bt,vt,wt){return yt===null||yt.tag!==7?(yt=Ah(bt,mt.mode,vt,wt),yt.return=mt,yt):(yt=at(yt,bt),yt.return=mt,yt)}function ot(mt,yt,bt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return yt=xh(""+yt,mt.mode,bt),yt.return=mt,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return bt=yh(yt.type,yt.key,yt.props,null,mt.mode,bt),bt.ref=sh(mt,null,yt),bt.return=mt,bt;case wa:return yt=zh(yt,mt.mode,bt),yt.return=mt,yt;case Ha:var vt=yt._init;return ot(mt,vt(yt._payload),bt)}if(eb(yt)||Ka(yt))return yt=Ah(yt,mt.mode,bt,null),yt.return=mt,yt;th(mt,yt)}return null}function tt(mt,yt,bt,vt){var wt=yt!==null?yt.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number")return wt!==null?null:ft(mt,yt,""+bt,vt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return bt.key===wt?ht(mt,yt,bt,vt):null;case wa:return bt.key===wt?ct(mt,yt,bt,vt):null;case Ha:return wt=bt._init,tt(mt,yt,wt(bt._payload),vt)}if(eb(bt)||Ka(bt))return wt!==null?null:lt(mt,yt,bt,vt,null);th(mt,bt)}return null}function rt(mt,yt,bt,vt,wt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return mt=mt.get(bt)||null,ft(yt,mt,""+vt,wt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return mt=mt.get(vt.key===null?bt:vt.key)||null,ht(yt,mt,vt,wt);case wa:return mt=mt.get(vt.key===null?bt:vt.key)||null,ct(yt,mt,vt,wt);case Ha:var xt=vt._init;return rt(mt,yt,bt,xt(vt._payload),wt)}if(eb(vt)||Ka(vt))return mt=mt.get(bt)||null,lt(yt,mt,vt,wt,null);th(yt,vt)}return null}function st(mt,yt,bt,vt){for(var wt=null,xt=null,Tt=yt,Ot=yt=0,$t=null;Tt!==null&&Ot<bt.length;Ot++){Tt.index>Ot?($t=Tt,Tt=null):$t=Tt.sibling;var It=tt(mt,Tt,bt[Ot],vt);if(It===null){Tt===null&&(Tt=$t);break}et&&Tt&&It.alternate===null&&_e(mt,Tt),yt=ut(It,yt,Ot),xt===null?wt=It:xt.sibling=It,xt=It,Tt=$t}if(Ot===bt.length)return nt(mt,Tt),I$1&&tg(mt,Ot),wt;if(Tt===null){for(;Ot<bt.length;Ot++)Tt=ot(mt,bt[Ot],vt),Tt!==null&&(yt=ut(Tt,yt,Ot),xt===null?wt=Tt:xt.sibling=Tt,xt=Tt);return I$1&&tg(mt,Ot),wt}for(Tt=it(mt,Tt);Ot<bt.length;Ot++)$t=rt(Tt,mt,Ot,bt[Ot],vt),$t!==null&&(et&&$t.alternate!==null&&Tt.delete($t.key===null?Ot:$t.key),yt=ut($t,yt,Ot),xt===null?wt=$t:xt.sibling=$t,xt=$t);return et&&Tt.forEach(function(Rt){return _e(mt,Rt)}),I$1&&tg(mt,Ot),wt}function pt(mt,yt,bt,vt){var wt=Ka(bt);if(typeof wt!="function")throw Error(p$1(150));if(bt=wt.call(bt),bt==null)throw Error(p$1(151));for(var xt=wt=null,Tt=yt,Ot=yt=0,$t=null,It=bt.next();Tt!==null&&!It.done;Ot++,It=bt.next()){Tt.index>Ot?($t=Tt,Tt=null):$t=Tt.sibling;var Rt=tt(mt,Tt,It.value,vt);if(Rt===null){Tt===null&&(Tt=$t);break}et&&Tt&&Rt.alternate===null&&_e(mt,Tt),yt=ut(Rt,yt,Ot),xt===null?wt=Rt:xt.sibling=Rt,xt=Rt,Tt=$t}if(It.done)return nt(mt,Tt),I$1&&tg(mt,Ot),wt;if(Tt===null){for(;!It.done;Ot++,It=bt.next())It=ot(mt,It.value,vt),It!==null&&(yt=ut(It,yt,Ot),xt===null?wt=It:xt.sibling=It,xt=It);return I$1&&tg(mt,Ot),wt}for(Tt=it(mt,Tt);!It.done;Ot++,It=bt.next())It=rt(Tt,mt,Ot,It.value,vt),It!==null&&(et&&It.alternate!==null&&Tt.delete(It.key===null?Ot:It.key),yt=ut(It,yt,Ot),xt===null?wt=It:xt.sibling=It,xt=It);return et&&Tt.forEach(function(Ft){return _e(mt,Ft)}),I$1&&tg(mt,Ot),wt}function gt(mt,yt,bt,vt){if(typeof bt=="object"&&bt!==null&&bt.type===ya&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:e:{for(var wt=bt.key,xt=yt;xt!==null;){if(xt.key===wt){if(wt=bt.type,wt===ya){if(xt.tag===7){nt(mt,xt.sibling),yt=at(xt,bt.props.children),yt.return=mt,mt=yt;break e}}else if(xt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Ha&&uh(wt)===xt.type){nt(mt,xt.sibling),yt=at(xt,bt.props),yt.ref=sh(mt,xt,bt),yt.return=mt,mt=yt;break e}nt(mt,xt);break}else _e(mt,xt);xt=xt.sibling}bt.type===ya?(yt=Ah(bt.props.children,mt.mode,vt,bt.key),yt.return=mt,mt=yt):(vt=yh(bt.type,bt.key,bt.props,null,mt.mode,vt),vt.ref=sh(mt,yt,bt),vt.return=mt,mt=vt)}return dt(mt);case wa:e:{for(xt=bt.key;yt!==null;){if(yt.key===xt)if(yt.tag===4&&yt.stateNode.containerInfo===bt.containerInfo&&yt.stateNode.implementation===bt.implementation){nt(mt,yt.sibling),yt=at(yt,bt.children||[]),yt.return=mt,mt=yt;break e}else{nt(mt,yt);break}else _e(mt,yt);yt=yt.sibling}yt=zh(bt,mt.mode,vt),yt.return=mt,mt=yt}return dt(mt);case Ha:return xt=bt._init,gt(mt,yt,xt(bt._payload),vt)}if(eb(bt))return st(mt,yt,bt,vt);if(Ka(bt))return pt(mt,yt,bt,vt);th(mt,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"?(bt=""+bt,yt!==null&&yt.tag===6?(nt(mt,yt.sibling),yt=at(yt,bt),yt.return=mt,mt=yt):(nt(mt,yt),yt=xh(bt,mt.mode,vt),yt.return=mt,mt=yt),dt(mt)):nt(mt,yt)}return gt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(et){if(et===Dh)throw Error(p$1(174));return et}function Ih(et,_e){switch(G$1(Gh,_e),G$1(Fh,et),G$1(Eh,Dh),et=_e.nodeType,et){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:et=et===8?_e.parentNode:_e,_e=et.namespaceURI||null,et=et.tagName,_e=lb(_e,et)}E(Eh),G$1(Eh,_e)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(et){Hh(Gh.current);var _e=Hh(Eh.current),nt=lb(_e,et.type);_e!==nt&&(G$1(Fh,et),G$1(Eh,nt))}function Lh(et){Fh.current===et&&(E(Eh),E(Fh))}var M$1=Uf(0);function Mh(et){for(var _e=et;_e!==null;){if(_e.tag===13){var nt=_e.memoizedState;if(nt!==null&&(nt=nt.dehydrated,nt===null||nt.data==="$?"||nt.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if(_e.flags&128)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Nh=[];function Oh(){for(var et=0;et<Nh.length;et++)Nh[et]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$1(321))}function Wh(et,_e){if(_e===null)return!1;for(var nt=0;nt<_e.length&&nt<et.length;nt++)if(!He(et[nt],_e[nt]))return!1;return!0}function Xh(et,_e,nt,it,at,ut){if(Rh=ut,N=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Ph.current=et===null||et.memoizedState===null?Yh:Zh,et=nt(it,at),Th){ut=0;do{if(Th=!1,Uh=0,25<=ut)throw Error(p$1(301));ut+=1,P$1=O$1=null,_e.updateQueue=null,Ph.current=$h,et=nt(it,at)}while(Th)}if(Ph.current=ai,_e=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N=null,Sh=!1,_e)throw Error(p$1(300));return et}function bi(){var et=Uh!==0;return Uh=0,et}function ci(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N.memoizedState=P$1=et:P$1=P$1.next=et,P$1}function di(){if(O$1===null){var et=N.alternate;et=et!==null?et.memoizedState:null}else et=O$1.next;var _e=P$1===null?N.memoizedState:P$1.next;if(_e!==null)P$1=_e,O$1=et;else{if(et===null)throw Error(p$1(310));O$1=et,et={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N.memoizedState=P$1=et:P$1=P$1.next=et}return P$1}function ei(et,_e){return typeof _e=="function"?_e(et):_e}function fi(et){var _e=di(),nt=_e.queue;if(nt===null)throw Error(p$1(311));nt.lastRenderedReducer=et;var it=O$1,at=it.baseQueue,ut=nt.pending;if(ut!==null){if(at!==null){var dt=at.next;at.next=ut.next,ut.next=dt}it.baseQueue=at=ut,nt.pending=null}if(at!==null){ut=at.next,it=it.baseState;var ft=dt=null,ht=null,ct=ut;do{var lt=ct.lane;if((Rh&lt)===lt)ht!==null&&(ht=ht.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),it=ct.hasEagerState?ct.eagerState:et(it,ct.action);else{var ot={lane:lt,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};ht===null?(ft=ht=ot,dt=it):ht=ht.next=ot,N.lanes|=lt,hh|=lt}ct=ct.next}while(ct!==null&&ct!==ut);ht===null?dt=it:ht.next=ft,He(it,_e.memoizedState)||(Ug=!0),_e.memoizedState=it,_e.baseState=dt,_e.baseQueue=ht,nt.lastRenderedState=it}if(et=nt.interleaved,et!==null){at=et;do ut=at.lane,N.lanes|=ut,hh|=ut,at=at.next;while(at!==et)}else at===null&&(nt.lanes=0);return[_e.memoizedState,nt.dispatch]}function gi(et){var _e=di(),nt=_e.queue;if(nt===null)throw Error(p$1(311));nt.lastRenderedReducer=et;var it=nt.dispatch,at=nt.pending,ut=_e.memoizedState;if(at!==null){nt.pending=null;var dt=at=at.next;do ut=et(ut,dt.action),dt=dt.next;while(dt!==at);He(ut,_e.memoizedState)||(Ug=!0),_e.memoizedState=ut,_e.baseQueue===null&&(_e.baseState=ut),nt.lastRenderedState=ut}return[ut,it]}function hi(){}function ii(et,_e){var nt=N,it=di(),at=_e(),ut=!He(it.memoizedState,at);if(ut&&(it.memoizedState=at,Ug=!0),it=it.queue,ji(ki.bind(null,nt,it,et),[et]),it.getSnapshot!==_e||ut||P$1!==null&&P$1.memoizedState.tag&1){if(nt.flags|=2048,li(9,mi.bind(null,nt,it,at,_e),void 0,null),R===null)throw Error(p$1(349));Rh&30||ni(nt,_e,at)}return at}function ni(et,_e,nt){et.flags|=16384,et={getSnapshot:_e,value:nt},_e=N.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N.updateQueue=_e,_e.stores=[et]):(nt=_e.stores,nt===null?_e.stores=[et]:nt.push(et))}function mi(et,_e,nt,it){_e.value=nt,_e.getSnapshot=it,oi(_e)&&pi(et)}function ki(et,_e,nt){return nt(function(){oi(_e)&&pi(et)})}function oi(et){var _e=et.getSnapshot;et=et.value;try{var nt=_e();return!He(et,nt)}catch{return!0}}function pi(et){var _e=Zg(et,1);_e!==null&&mh(_e,et,1,-1)}function qi(et){var _e=ci();return typeof et=="function"&&(et=et()),_e.memoizedState=_e.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:et},_e.queue=et,et=et.dispatch=ri.bind(null,N,et),[_e.memoizedState,et]}function li(et,_e,nt,it){return et={tag:et,create:_e,destroy:nt,deps:it,next:null},_e=N.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N.updateQueue=_e,_e.lastEffect=et.next=et):(nt=_e.lastEffect,nt===null?_e.lastEffect=et.next=et:(it=nt.next,nt.next=et,et.next=it,_e.lastEffect=et)),et}function si(){return di().memoizedState}function ti(et,_e,nt,it){var at=ci();N.flags|=et,at.memoizedState=li(1|_e,nt,void 0,it===void 0?null:it)}function ui(et,_e,nt,it){var at=di();it=it===void 0?null:it;var ut=void 0;if(O$1!==null){var dt=O$1.memoizedState;if(ut=dt.destroy,it!==null&&Wh(it,dt.deps)){at.memoizedState=li(_e,nt,ut,it);return}}N.flags|=et,at.memoizedState=li(1|_e,nt,ut,it)}function vi(et,_e){return ti(8390656,8,et,_e)}function ji(et,_e){return ui(2048,8,et,_e)}function wi(et,_e){return ui(4,2,et,_e)}function xi(et,_e){return ui(4,4,et,_e)}function yi(et,_e){if(typeof _e=="function")return et=et(),_e(et),function(){_e(null)};if(_e!=null)return et=et(),_e.current=et,function(){_e.current=null}}function zi(et,_e,nt){return nt=nt!=null?nt.concat([et]):null,ui(4,4,yi.bind(null,_e,et),nt)}function Ai(){}function Bi(et,_e){var nt=di();_e=_e===void 0?null:_e;var it=nt.memoizedState;return it!==null&&_e!==null&&Wh(_e,it[1])?it[0]:(nt.memoizedState=[et,_e],et)}function Ci(et,_e){var nt=di();_e=_e===void 0?null:_e;var it=nt.memoizedState;return it!==null&&_e!==null&&Wh(_e,it[1])?it[0]:(et=et(),nt.memoizedState=[et,_e],et)}function Di(et,_e,nt){return Rh&21?(He(nt,_e)||(nt=yc(),N.lanes|=nt,hh|=nt,et.baseState=!0),_e):(et.baseState&&(et.baseState=!1,Ug=!0),et.memoizedState=nt)}function Ei(et,_e){var nt=C;C=nt!==0&&4>nt?nt:4,et(!0);var it=Qh.transition;Qh.transition={};try{et(!1),_e()}finally{C=nt,Qh.transition=it}}function Fi(){return di().memoizedState}function Gi(et,_e,nt){var it=lh(et);if(nt={lane:it,action:nt,hasEagerState:!1,eagerState:null,next:null},Hi(et))Ii(_e,nt);else if(nt=Yg(et,_e,nt,it),nt!==null){var at=L();mh(nt,et,it,at),Ji(nt,_e,it)}}function ri(et,_e,nt){var it=lh(et),at={lane:it,action:nt,hasEagerState:!1,eagerState:null,next:null};if(Hi(et))Ii(_e,at);else{var ut=et.alternate;if(et.lanes===0&&(ut===null||ut.lanes===0)&&(ut=_e.lastRenderedReducer,ut!==null))try{var dt=_e.lastRenderedState,ft=ut(dt,nt);if(at.hasEagerState=!0,at.eagerState=ft,He(ft,dt)){var ht=_e.interleaved;ht===null?(at.next=at,Xg(_e)):(at.next=ht.next,ht.next=at),_e.interleaved=at;return}}catch{}finally{}nt=Yg(et,_e,at,it),nt!==null&&(at=L(),mh(nt,et,it,at),Ji(nt,_e,it))}}function Hi(et){var _e=et.alternate;return et===N||_e!==null&&_e===N}function Ii(et,_e){Th=Sh=!0;var nt=et.pending;nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),et.pending=_e}function Ji(et,_e,nt){if(nt&4194240){var it=_e.lanes;it&=et.pendingLanes,nt|=it,_e.lanes=nt,Cc(et,nt)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(et,_e){return ci().memoizedState=[et,_e===void 0?null:_e],et},useContext:Vg,useEffect:vi,useImperativeHandle:function(et,_e,nt){return nt=nt!=null?nt.concat([et]):null,ti(4194308,4,yi.bind(null,_e,et),nt)},useLayoutEffect:function(et,_e){return ti(4194308,4,et,_e)},useInsertionEffect:function(et,_e){return ti(4,2,et,_e)},useMemo:function(et,_e){var nt=ci();return _e=_e===void 0?null:_e,et=et(),nt.memoizedState=[et,_e],et},useReducer:function(et,_e,nt){var it=ci();return _e=nt!==void 0?nt(_e):_e,it.memoizedState=it.baseState=_e,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:_e},it.queue=et,et=et.dispatch=Gi.bind(null,N,et),[it.memoizedState,et]},useRef:function(et){var _e=ci();return et={current:et},_e.memoizedState=et},useState:qi,useDebugValue:Ai,useDeferredValue:function(et){return ci().memoizedState=et},useTransition:function(){var et=qi(!1),_e=et[0];return et=Ei.bind(null,et[1]),ci().memoizedState=et,[_e,et]},useMutableSource:function(){},useSyncExternalStore:function(et,_e,nt){var it=N,at=ci();if(I$1){if(nt===void 0)throw Error(p$1(407));nt=nt()}else{if(nt=_e(),R===null)throw Error(p$1(349));Rh&30||ni(it,_e,nt)}at.memoizedState=nt;var ut={value:nt,getSnapshot:_e};return at.queue=ut,vi(ki.bind(null,it,ut,et),[et]),it.flags|=2048,li(9,mi.bind(null,it,ut,nt,_e),void 0,null),nt},useId:function(){var et=ci(),_e=R.identifierPrefix;if(I$1){var nt=sg,it=rg;nt=(it&~(1<<32-oc(it)-1)).toString(32)+nt,_e=":"+_e+"R"+nt,nt=Uh++,0<nt&&(_e+="H"+nt.toString(32)),_e+=":"}else nt=Vh++,_e=":"+_e+"r"+nt.toString(32)+":";return et.memoizedState=_e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return Di(_e,O$1.memoizedState,et)},useTransition:function(){var et=fi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return O$1===null?_e.memoizedState=et:Di(_e,O$1.memoizedState,et)},useTransition:function(){var et=gi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(et,_e){try{var nt="",it=_e;do nt+=Pa(it),it=it.return;while(it);var at=nt}catch(ut){at=`
Error generating stack: `+ut.message+`
`+ut.stack}return{value:et,source:_e,stack:at,digest:null}}function Li(et,_e,nt){return{value:et,source:null,stack:nt??null,digest:_e??null}}function Mi(et,_e){try{console.error(_e.value)}catch(nt){setTimeout(function(){throw nt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(et,_e,nt){nt=ch(-1,nt),nt.tag=3,nt.payload={element:null};var it=_e.value;return nt.callback=function(){Pi||(Pi=!0,Qi=it),Mi(et,_e)},nt}function Ri(et,_e,nt){nt=ch(-1,nt),nt.tag=3;var it=et.type.getDerivedStateFromError;if(typeof it=="function"){var at=_e.value;nt.payload=function(){return it(at)},nt.callback=function(){Mi(et,_e)}}var ut=et.stateNode;return ut!==null&&typeof ut.componentDidCatch=="function"&&(nt.callback=function(){Mi(et,_e),typeof it!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var dt=_e.stack;this.componentDidCatch(_e.value,{componentStack:dt!==null?dt:""})}),nt}function Ti(et,_e,nt){var it=et.pingCache;if(it===null){it=et.pingCache=new Ni;var at=new Set;it.set(_e,at)}else at=it.get(_e),at===void 0&&(at=new Set,it.set(_e,at));at.has(nt)||(at.add(nt),et=Ui.bind(null,et,_e,nt),_e.then(et,et))}function Vi(et){do{var _e;if((_e=et.tag===13)&&(_e=et.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return et;et=et.return}while(et!==null);return null}function Wi(et,_e,nt,it,at){return et.mode&1?(et.flags|=65536,et.lanes=at,et):(et===_e?et.flags|=65536:(et.flags|=128,nt.flags|=131072,nt.flags&=-52805,nt.tag===1&&(nt.alternate===null?nt.tag=17:(_e=ch(-1,1),_e.tag=2,dh(nt,_e,1))),nt.lanes|=1),et)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(et,_e,nt,it){_e.child=et===null?Ch(_e,null,nt,it):Bh(_e,et.child,nt,it)}function Zi(et,_e,nt,it,at){nt=nt.render;var ut=_e.ref;return Tg(_e,at),it=Xh(et,_e,nt,it,ut,at),nt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~at,$i(et,_e,at)):(I$1&&nt&&vg(_e),_e.flags|=1,Yi(et,_e,it,at),_e.child)}function aj(et,_e,nt,it,at){if(et===null){var ut=nt.type;return typeof ut=="function"&&!bj(ut)&&ut.defaultProps===void 0&&nt.compare===null&&nt.defaultProps===void 0?(_e.tag=15,_e.type=ut,cj(et,_e,ut,it,at)):(et=yh(nt.type,null,it,_e,_e.mode,at),et.ref=_e.ref,et.return=_e,_e.child=et)}if(ut=et.child,!(et.lanes&at)){var dt=ut.memoizedProps;if(nt=nt.compare,nt=nt!==null?nt:Ie$1,nt(dt,it)&&et.ref===_e.ref)return $i(et,_e,at)}return _e.flags|=1,et=wh(ut,it),et.ref=_e.ref,et.return=_e,_e.child=et}function cj(et,_e,nt,it,at){if(et!==null){var ut=et.memoizedProps;if(Ie$1(ut,it)&&et.ref===_e.ref)if(Ug=!1,_e.pendingProps=it=ut,(et.lanes&at)!==0)et.flags&131072&&(Ug=!0);else return _e.lanes=et.lanes,$i(et,_e,at)}return dj(et,_e,nt,it,at)}function ej(et,_e,nt){var it=_e.pendingProps,at=it.children,ut=et!==null?et.memoizedState:null;if(it.mode==="hidden")if(!(_e.mode&1))_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=nt;else{if(!(nt&1073741824))return et=ut!==null?ut.baseLanes|nt:nt,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:et,cachePool:null,transitions:null},_e.updateQueue=null,G$1(fj,gj),gj|=et,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it=ut!==null?ut.baseLanes:nt,G$1(fj,gj),gj|=it}else ut!==null?(it=ut.baseLanes|nt,_e.memoizedState=null):it=nt,G$1(fj,gj),gj|=it;return Yi(et,_e,at,nt),_e.child}function hj(et,_e){var nt=_e.ref;(et===null&&nt!==null||et!==null&&et.ref!==nt)&&(_e.flags|=512,_e.flags|=2097152)}function dj(et,_e,nt,it,at){var ut=Zf(nt)?Xf:H.current;return ut=Yf(_e,ut),Tg(_e,at),nt=Xh(et,_e,nt,it,ut,at),it=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~at,$i(et,_e,at)):(I$1&&it&&vg(_e),_e.flags|=1,Yi(et,_e,nt,at),_e.child)}function ij(et,_e,nt,it,at){if(Zf(nt)){var ut=!0;cg(_e)}else ut=!1;if(Tg(_e,at),_e.stateNode===null)jj(et,_e),ph(_e,nt,it),rh(_e,nt,it,at),it=!0;else if(et===null){var dt=_e.stateNode,ft=_e.memoizedProps;dt.props=ft;var ht=dt.context,ct=nt.contextType;typeof ct=="object"&&ct!==null?ct=Vg(ct):(ct=Zf(nt)?Xf:H.current,ct=Yf(_e,ct));var lt=nt.getDerivedStateFromProps,ot=typeof lt=="function"||typeof dt.getSnapshotBeforeUpdate=="function";ot||typeof dt.UNSAFE_componentWillReceiveProps!="function"&&typeof dt.componentWillReceiveProps!="function"||(ft!==it||ht!==ct)&&qh(_e,dt,it,ct),$g=!1;var tt=_e.memoizedState;dt.state=tt,gh(_e,it,dt,at),ht=_e.memoizedState,ft!==it||tt!==ht||Wf.current||$g?(typeof lt=="function"&&(kh(_e,nt,lt,it),ht=_e.memoizedState),(ft=$g||oh(_e,nt,ft,it,tt,ht,ct))?(ot||typeof dt.UNSAFE_componentWillMount!="function"&&typeof dt.componentWillMount!="function"||(typeof dt.componentWillMount=="function"&&dt.componentWillMount(),typeof dt.UNSAFE_componentWillMount=="function"&&dt.UNSAFE_componentWillMount()),typeof dt.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof dt.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=it,_e.memoizedState=ht),dt.props=it,dt.state=ht,dt.context=ct,it=ft):(typeof dt.componentDidMount=="function"&&(_e.flags|=4194308),it=!1)}else{dt=_e.stateNode,bh(et,_e),ft=_e.memoizedProps,ct=_e.type===_e.elementType?ft:Lg(_e.type,ft),dt.props=ct,ot=_e.pendingProps,tt=dt.context,ht=nt.contextType,typeof ht=="object"&&ht!==null?ht=Vg(ht):(ht=Zf(nt)?Xf:H.current,ht=Yf(_e,ht));var rt=nt.getDerivedStateFromProps;(lt=typeof rt=="function"||typeof dt.getSnapshotBeforeUpdate=="function")||typeof dt.UNSAFE_componentWillReceiveProps!="function"&&typeof dt.componentWillReceiveProps!="function"||(ft!==ot||tt!==ht)&&qh(_e,dt,it,ht),$g=!1,tt=_e.memoizedState,dt.state=tt,gh(_e,it,dt,at);var st=_e.memoizedState;ft!==ot||tt!==st||Wf.current||$g?(typeof rt=="function"&&(kh(_e,nt,rt,it),st=_e.memoizedState),(ct=$g||oh(_e,nt,ct,it,tt,st,ht)||!1)?(lt||typeof dt.UNSAFE_componentWillUpdate!="function"&&typeof dt.componentWillUpdate!="function"||(typeof dt.componentWillUpdate=="function"&&dt.componentWillUpdate(it,st,ht),typeof dt.UNSAFE_componentWillUpdate=="function"&&dt.UNSAFE_componentWillUpdate(it,st,ht)),typeof dt.componentDidUpdate=="function"&&(_e.flags|=4),typeof dt.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof dt.componentDidUpdate!="function"||ft===et.memoizedProps&&tt===et.memoizedState||(_e.flags|=4),typeof dt.getSnapshotBeforeUpdate!="function"||ft===et.memoizedProps&&tt===et.memoizedState||(_e.flags|=1024),_e.memoizedProps=it,_e.memoizedState=st),dt.props=it,dt.state=st,dt.context=ht,it=ct):(typeof dt.componentDidUpdate!="function"||ft===et.memoizedProps&&tt===et.memoizedState||(_e.flags|=4),typeof dt.getSnapshotBeforeUpdate!="function"||ft===et.memoizedProps&&tt===et.memoizedState||(_e.flags|=1024),it=!1)}return kj(et,_e,nt,it,ut,at)}function kj(et,_e,nt,it,at,ut){hj(et,_e);var dt=(_e.flags&128)!==0;if(!it&&!dt)return at&&dg(_e,nt,!1),$i(et,_e,ut);it=_e.stateNode,Xi.current=_e;var ft=dt&&typeof nt.getDerivedStateFromError!="function"?null:it.render();return _e.flags|=1,et!==null&&dt?(_e.child=Bh(_e,et.child,null,ut),_e.child=Bh(_e,null,ft,ut)):Yi(et,_e,ft,ut),_e.memoizedState=it.state,at&&dg(_e,nt,!0),_e.child}function lj(et){var _e=et.stateNode;_e.pendingContext?ag(et,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag(et,_e.context,!1),Ih(et,_e.containerInfo)}function mj(et,_e,nt,it,at){return Ig(),Jg(at),_e.flags|=256,Yi(et,_e,nt,it),_e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(et){return{baseLanes:et,cachePool:null,transitions:null}}function pj(et,_e,nt){var it=_e.pendingProps,at=M$1.current,ut=!1,dt=(_e.flags&128)!==0,ft;if((ft=dt)||(ft=et!==null&&et.memoizedState===null?!1:(at&2)!==0),ft?(ut=!0,_e.flags&=-129):(et===null||et.memoizedState!==null)&&(at|=1),G$1(M$1,at&1),et===null)return Eg(_e),et=_e.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?(_e.mode&1?et.data==="$!"?_e.lanes=8:_e.lanes=1073741824:_e.lanes=1,null):(dt=it.children,et=it.fallback,ut?(it=_e.mode,ut=_e.child,dt={mode:"hidden",children:dt},!(it&1)&&ut!==null?(ut.childLanes=0,ut.pendingProps=dt):ut=qj(dt,it,0,null),et=Ah(et,it,nt,null),ut.return=_e,et.return=_e,ut.sibling=et,_e.child=ut,_e.child.memoizedState=oj(nt),_e.memoizedState=nj,et):rj(_e,dt));if(at=et.memoizedState,at!==null&&(ft=at.dehydrated,ft!==null))return sj(et,_e,dt,it,ft,at,nt);if(ut){ut=it.fallback,dt=_e.mode,at=et.child,ft=at.sibling;var ht={mode:"hidden",children:it.children};return!(dt&1)&&_e.child!==at?(it=_e.child,it.childLanes=0,it.pendingProps=ht,_e.deletions=null):(it=wh(at,ht),it.subtreeFlags=at.subtreeFlags&14680064),ft!==null?ut=wh(ft,ut):(ut=Ah(ut,dt,nt,null),ut.flags|=2),ut.return=_e,it.return=_e,it.sibling=ut,_e.child=it,it=ut,ut=_e.child,dt=et.child.memoizedState,dt=dt===null?oj(nt):{baseLanes:dt.baseLanes|nt,cachePool:null,transitions:dt.transitions},ut.memoizedState=dt,ut.childLanes=et.childLanes&~nt,_e.memoizedState=nj,it}return ut=et.child,et=ut.sibling,it=wh(ut,{mode:"visible",children:it.children}),!(_e.mode&1)&&(it.lanes=nt),it.return=_e,it.sibling=null,et!==null&&(nt=_e.deletions,nt===null?(_e.deletions=[et],_e.flags|=16):nt.push(et)),_e.child=it,_e.memoizedState=null,it}function rj(et,_e){return _e=qj({mode:"visible",children:_e},et.mode,0,null),_e.return=et,et.child=_e}function tj(et,_e,nt,it){return it!==null&&Jg(it),Bh(_e,et.child,null,nt),et=rj(_e,_e.pendingProps.children),et.flags|=2,_e.memoizedState=null,et}function sj(et,_e,nt,it,at,ut,dt){if(nt)return _e.flags&256?(_e.flags&=-257,it=Li(Error(p$1(422))),tj(et,_e,dt,it)):_e.memoizedState!==null?(_e.child=et.child,_e.flags|=128,null):(ut=it.fallback,at=_e.mode,it=qj({mode:"visible",children:it.children},at,0,null),ut=Ah(ut,at,dt,null),ut.flags|=2,it.return=_e,ut.return=_e,it.sibling=ut,_e.child=it,_e.mode&1&&Bh(_e,et.child,null,dt),_e.child.memoizedState=oj(dt),_e.memoizedState=nj,ut);if(!(_e.mode&1))return tj(et,_e,dt,null);if(at.data==="$!"){if(it=at.nextSibling&&at.nextSibling.dataset,it)var ft=it.dgst;return it=ft,ut=Error(p$1(419)),it=Li(ut,it,void 0),tj(et,_e,dt,it)}if(ft=(dt&et.childLanes)!==0,Ug||ft){if(it=R,it!==null){switch(dt&-dt){case 4:at=2;break;case 16:at=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:at=32;break;case 536870912:at=268435456;break;default:at=0}at=at&(it.suspendedLanes|dt)?0:at,at!==0&&at!==ut.retryLane&&(ut.retryLane=at,Zg(et,at),mh(it,et,at,-1))}return uj(),it=Li(Error(p$1(421))),tj(et,_e,dt,it)}return at.data==="$?"?(_e.flags|=128,_e.child=et.child,_e=vj.bind(null,et),at._reactRetry=_e,null):(et=ut.treeContext,yg=Lf(at.nextSibling),xg=_e,I$1=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=_e),_e=rj(_e,it.children),_e.flags|=4096,_e)}function wj(et,_e,nt){et.lanes|=_e;var it=et.alternate;it!==null&&(it.lanes|=_e),Sg(et.return,_e,nt)}function xj(et,_e,nt,it,at){var ut=et.memoizedState;ut===null?et.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:it,tail:nt,tailMode:at}:(ut.isBackwards=_e,ut.rendering=null,ut.renderingStartTime=0,ut.last=it,ut.tail=nt,ut.tailMode=at)}function yj(et,_e,nt){var it=_e.pendingProps,at=it.revealOrder,ut=it.tail;if(Yi(et,_e,it.children,nt),it=M$1.current,it&2)it=it&1|2,_e.flags|=128;else{if(et!==null&&et.flags&128)e:for(et=_e.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&wj(et,nt,_e);else if(et.tag===19)wj(et,nt,_e);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break e;for(;et.sibling===null;){if(et.return===null||et.return===_e)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}it&=1}if(G$1(M$1,it),!(_e.mode&1))_e.memoizedState=null;else switch(at){case"forwards":for(nt=_e.child,at=null;nt!==null;)et=nt.alternate,et!==null&&Mh(et)===null&&(at=nt),nt=nt.sibling;nt=at,nt===null?(at=_e.child,_e.child=null):(at=nt.sibling,nt.sibling=null),xj(_e,!1,at,nt,ut);break;case"backwards":for(nt=null,at=_e.child,_e.child=null;at!==null;){if(et=at.alternate,et!==null&&Mh(et)===null){_e.child=at;break}et=at.sibling,at.sibling=nt,nt=at,at=et}xj(_e,!0,nt,null,ut);break;case"together":xj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function jj(et,_e){!(_e.mode&1)&&et!==null&&(et.alternate=null,_e.alternate=null,_e.flags|=2)}function $i(et,_e,nt){if(et!==null&&(_e.dependencies=et.dependencies),hh|=_e.lanes,!(nt&_e.childLanes))return null;if(et!==null&&_e.child!==et.child)throw Error(p$1(153));if(_e.child!==null){for(et=_e.child,nt=wh(et,et.pendingProps),_e.child=nt,nt.return=_e;et.sibling!==null;)et=et.sibling,nt=nt.sibling=wh(et,et.pendingProps),nt.return=_e;nt.sibling=null}return _e.child}function zj(et,_e,nt){switch(_e.tag){case 3:lj(_e),Ig();break;case 5:Kh(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:Ih(_e,_e.stateNode.containerInfo);break;case 10:var it=_e.type._context,at=_e.memoizedProps.value;G$1(Mg,it._currentValue),it._currentValue=at;break;case 13:if(it=_e.memoizedState,it!==null)return it.dehydrated!==null?(G$1(M$1,M$1.current&1),_e.flags|=128,null):nt&_e.child.childLanes?pj(et,_e,nt):(G$1(M$1,M$1.current&1),et=$i(et,_e,nt),et!==null?et.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(it=(nt&_e.childLanes)!==0,et.flags&128){if(it)return yj(et,_e,nt);_e.flags|=128}if(at=_e.memoizedState,at!==null&&(at.rendering=null,at.tail=null,at.lastEffect=null),G$1(M$1,M$1.current),it)break;return null;case 22:case 23:return _e.lanes=0,ej(et,_e,nt)}return $i(et,_e,nt)}var Aj,Bj,Cj,Dj;Aj=function(et,_e){for(var nt=_e.child;nt!==null;){if(nt.tag===5||nt.tag===6)et.appendChild(nt.stateNode);else if(nt.tag!==4&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===_e)break;for(;nt.sibling===null;){if(nt.return===null||nt.return===_e)return;nt=nt.return}nt.sibling.return=nt.return,nt=nt.sibling}};Bj=function(){};Cj=function(et,_e,nt,it){var at=et.memoizedProps;if(at!==it){et=_e.stateNode,Hh(Eh.current);var ut=null;switch(nt){case"input":at=Ya(et,at),it=Ya(et,it),ut=[];break;case"select":at=A$1({},at,{value:void 0}),it=A$1({},it,{value:void 0}),ut=[];break;case"textarea":at=gb(et,at),it=gb(et,it),ut=[];break;default:typeof at.onClick!="function"&&typeof it.onClick=="function"&&(et.onclick=Bf)}ub(nt,it);var dt;nt=null;for(ct in at)if(!it.hasOwnProperty(ct)&&at.hasOwnProperty(ct)&&at[ct]!=null)if(ct==="style"){var ft=at[ct];for(dt in ft)ft.hasOwnProperty(dt)&&(nt||(nt={}),nt[dt]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?ut||(ut=[]):(ut=ut||[]).push(ct,null));for(ct in it){var ht=it[ct];if(ft=at!=null?at[ct]:void 0,it.hasOwnProperty(ct)&&ht!==ft&&(ht!=null||ft!=null))if(ct==="style")if(ft){for(dt in ft)!ft.hasOwnProperty(dt)||ht&&ht.hasOwnProperty(dt)||(nt||(nt={}),nt[dt]="");for(dt in ht)ht.hasOwnProperty(dt)&&ft[dt]!==ht[dt]&&(nt||(nt={}),nt[dt]=ht[dt])}else nt||(ut||(ut=[]),ut.push(ct,nt)),nt=ht;else ct==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0,ft=ft?ft.__html:void 0,ht!=null&&ft!==ht&&(ut=ut||[]).push(ct,ht)):ct==="children"?typeof ht!="string"&&typeof ht!="number"||(ut=ut||[]).push(ct,""+ht):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(ht!=null&&ct==="onScroll"&&D$1("scroll",et),ut||ft===ht||(ut=[])):(ut=ut||[]).push(ct,ht))}nt&&(ut=ut||[]).push("style",nt);var ct=ut;(_e.updateQueue=ct)&&(_e.flags|=4)}};Dj=function(et,_e,nt,it){nt!==it&&(_e.flags|=4)};function Ej(et,_e){if(!I$1)switch(et.tailMode){case"hidden":_e=et.tail;for(var nt=null;_e!==null;)_e.alternate!==null&&(nt=_e),_e=_e.sibling;nt===null?et.tail=null:nt.sibling=null;break;case"collapsed":nt=et.tail;for(var it=null;nt!==null;)nt.alternate!==null&&(it=nt),nt=nt.sibling;it===null?_e||et.tail===null?et.tail=null:et.tail.sibling=null:it.sibling=null}}function S$1(et){var _e=et.alternate!==null&&et.alternate.child===et.child,nt=0,it=0;if(_e)for(var at=et.child;at!==null;)nt|=at.lanes|at.childLanes,it|=at.subtreeFlags&14680064,it|=at.flags&14680064,at.return=et,at=at.sibling;else for(at=et.child;at!==null;)nt|=at.lanes|at.childLanes,it|=at.subtreeFlags,it|=at.flags,at.return=et,at=at.sibling;return et.subtreeFlags|=it,et.childLanes=nt,_e}function Fj(et,_e,nt){var it=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(_e),null;case 1:return Zf(_e.type)&&$f(),S$1(_e),null;case 3:return it=_e.stateNode,Jh(),E(Wf),E(H),Oh(),it.pendingContext&&(it.context=it.pendingContext,it.pendingContext=null),(et===null||et.child===null)&&(Gg(_e)?_e.flags|=4:et===null||et.memoizedState.isDehydrated&&!(_e.flags&256)||(_e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(et,_e),S$1(_e),null;case 5:Lh(_e);var at=Hh(Gh.current);if(nt=_e.type,et!==null&&_e.stateNode!=null)Cj(et,_e,nt,it,at),et.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!it){if(_e.stateNode===null)throw Error(p$1(166));return S$1(_e),null}if(et=Hh(Eh.current),Gg(_e)){it=_e.stateNode,nt=_e.type;var ut=_e.memoizedProps;switch(it[Of]=_e,it[Pf]=ut,et=(_e.mode&1)!==0,nt){case"dialog":D$1("cancel",it),D$1("close",it);break;case"iframe":case"object":case"embed":D$1("load",it);break;case"video":case"audio":for(at=0;at<lf.length;at++)D$1(lf[at],it);break;case"source":D$1("error",it);break;case"img":case"image":case"link":D$1("error",it),D$1("load",it);break;case"details":D$1("toggle",it);break;case"input":Za(it,ut),D$1("invalid",it);break;case"select":it._wrapperState={wasMultiple:!!ut.multiple},D$1("invalid",it);break;case"textarea":hb(it,ut),D$1("invalid",it)}ub(nt,ut),at=null;for(var dt in ut)if(ut.hasOwnProperty(dt)){var ft=ut[dt];dt==="children"?typeof ft=="string"?it.textContent!==ft&&(ut.suppressHydrationWarning!==!0&&Af(it.textContent,ft,et),at=["children",ft]):typeof ft=="number"&&it.textContent!==""+ft&&(ut.suppressHydrationWarning!==!0&&Af(it.textContent,ft,et),at=["children",""+ft]):ea.hasOwnProperty(dt)&&ft!=null&&dt==="onScroll"&&D$1("scroll",it)}switch(nt){case"input":Va(it),db(it,ut,!0);break;case"textarea":Va(it),jb(it);break;case"select":case"option":break;default:typeof ut.onClick=="function"&&(it.onclick=Bf)}it=at,_e.updateQueue=it,it!==null&&(_e.flags|=4)}else{dt=at.nodeType===9?at:at.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(nt)),et==="http://www.w3.org/1999/xhtml"?nt==="script"?(et=dt.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof it.is=="string"?et=dt.createElement(nt,{is:it.is}):(et=dt.createElement(nt),nt==="select"&&(dt=et,it.multiple?dt.multiple=!0:it.size&&(dt.size=it.size))):et=dt.createElementNS(et,nt),et[Of]=_e,et[Pf]=it,Aj(et,_e,!1,!1),_e.stateNode=et;e:{switch(dt=vb(nt,it),nt){case"dialog":D$1("cancel",et),D$1("close",et),at=it;break;case"iframe":case"object":case"embed":D$1("load",et),at=it;break;case"video":case"audio":for(at=0;at<lf.length;at++)D$1(lf[at],et);at=it;break;case"source":D$1("error",et),at=it;break;case"img":case"image":case"link":D$1("error",et),D$1("load",et),at=it;break;case"details":D$1("toggle",et),at=it;break;case"input":Za(et,it),at=Ya(et,it),D$1("invalid",et);break;case"option":at=it;break;case"select":et._wrapperState={wasMultiple:!!it.multiple},at=A$1({},it,{value:void 0}),D$1("invalid",et);break;case"textarea":hb(et,it),at=gb(et,it),D$1("invalid",et);break;default:at=it}ub(nt,at),ft=at;for(ut in ft)if(ft.hasOwnProperty(ut)){var ht=ft[ut];ut==="style"?sb(et,ht):ut==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0,ht!=null&&nb(et,ht)):ut==="children"?typeof ht=="string"?(nt!=="textarea"||ht!=="")&&ob(et,ht):typeof ht=="number"&&ob(et,""+ht):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(ea.hasOwnProperty(ut)?ht!=null&&ut==="onScroll"&&D$1("scroll",et):ht!=null&&ta(et,ut,ht,dt))}switch(nt){case"input":Va(et),db(et,it,!1);break;case"textarea":Va(et),jb(et);break;case"option":it.value!=null&&et.setAttribute("value",""+Sa(it.value));break;case"select":et.multiple=!!it.multiple,ut=it.value,ut!=null?fb(et,!!it.multiple,ut,!1):it.defaultValue!=null&&fb(et,!!it.multiple,it.defaultValue,!0);break;default:typeof at.onClick=="function"&&(et.onclick=Bf)}switch(nt){case"button":case"input":case"select":case"textarea":it=!!it.autoFocus;break e;case"img":it=!0;break e;default:it=!1}}it&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$1(_e),null;case 6:if(et&&_e.stateNode!=null)Dj(et,_e,et.memoizedProps,it);else{if(typeof it!="string"&&_e.stateNode===null)throw Error(p$1(166));if(nt=Hh(Gh.current),Hh(Eh.current),Gg(_e)){if(it=_e.stateNode,nt=_e.memoizedProps,it[Of]=_e,(ut=it.nodeValue!==nt)&&(et=xg,et!==null))switch(et.tag){case 3:Af(it.nodeValue,nt,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(it.nodeValue,nt,(et.mode&1)!==0)}ut&&(_e.flags|=4)}else it=(nt.nodeType===9?nt:nt.ownerDocument).createTextNode(it),it[Of]=_e,_e.stateNode=it}return S$1(_e),null;case 13:if(E(M$1),it=_e.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&_e.mode&1&&!(_e.flags&128))Hg(),Ig(),_e.flags|=98560,ut=!1;else if(ut=Gg(_e),it!==null&&it.dehydrated!==null){if(et===null){if(!ut)throw Error(p$1(318));if(ut=_e.memoizedState,ut=ut!==null?ut.dehydrated:null,!ut)throw Error(p$1(317));ut[Of]=_e}else Ig(),!(_e.flags&128)&&(_e.memoizedState=null),_e.flags|=4;S$1(_e),ut=!1}else zg!==null&&(Gj(zg),zg=null),ut=!0;if(!ut)return _e.flags&65536?_e:null}return _e.flags&128?(_e.lanes=nt,_e):(it=it!==null,it!==(et!==null&&et.memoizedState!==null)&&it&&(_e.child.flags|=8192,_e.mode&1&&(et===null||M$1.current&1?T$1===0&&(T$1=3):uj())),_e.updateQueue!==null&&(_e.flags|=4),S$1(_e),null);case 4:return Jh(),Bj(et,_e),et===null&&sf(_e.stateNode.containerInfo),S$1(_e),null;case 10:return Rg(_e.type._context),S$1(_e),null;case 17:return Zf(_e.type)&&$f(),S$1(_e),null;case 19:if(E(M$1),ut=_e.memoizedState,ut===null)return S$1(_e),null;if(it=(_e.flags&128)!==0,dt=ut.rendering,dt===null)if(it)Ej(ut,!1);else{if(T$1!==0||et!==null&&et.flags&128)for(et=_e.child;et!==null;){if(dt=Mh(et),dt!==null){for(_e.flags|=128,Ej(ut,!1),it=dt.updateQueue,it!==null&&(_e.updateQueue=it,_e.flags|=4),_e.subtreeFlags=0,it=nt,nt=_e.child;nt!==null;)ut=nt,et=it,ut.flags&=14680066,dt=ut.alternate,dt===null?(ut.childLanes=0,ut.lanes=et,ut.child=null,ut.subtreeFlags=0,ut.memoizedProps=null,ut.memoizedState=null,ut.updateQueue=null,ut.dependencies=null,ut.stateNode=null):(ut.childLanes=dt.childLanes,ut.lanes=dt.lanes,ut.child=dt.child,ut.subtreeFlags=0,ut.deletions=null,ut.memoizedProps=dt.memoizedProps,ut.memoizedState=dt.memoizedState,ut.updateQueue=dt.updateQueue,ut.type=dt.type,et=dt.dependencies,ut.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),nt=nt.sibling;return G$1(M$1,M$1.current&1|2),_e.child}et=et.sibling}ut.tail!==null&&B()>Hj&&(_e.flags|=128,it=!0,Ej(ut,!1),_e.lanes=4194304)}else{if(!it)if(et=Mh(dt),et!==null){if(_e.flags|=128,it=!0,nt=et.updateQueue,nt!==null&&(_e.updateQueue=nt,_e.flags|=4),Ej(ut,!0),ut.tail===null&&ut.tailMode==="hidden"&&!dt.alternate&&!I$1)return S$1(_e),null}else 2*B()-ut.renderingStartTime>Hj&&nt!==1073741824&&(_e.flags|=128,it=!0,Ej(ut,!1),_e.lanes=4194304);ut.isBackwards?(dt.sibling=_e.child,_e.child=dt):(nt=ut.last,nt!==null?nt.sibling=dt:_e.child=dt,ut.last=dt)}return ut.tail!==null?(_e=ut.tail,ut.rendering=_e,ut.tail=_e.sibling,ut.renderingStartTime=B(),_e.sibling=null,nt=M$1.current,G$1(M$1,it?nt&1|2:nt&1),_e):(S$1(_e),null);case 22:case 23:return Ij(),it=_e.memoizedState!==null,et!==null&&et.memoizedState!==null!==it&&(_e.flags|=8192),it&&_e.mode&1?gj&1073741824&&(S$1(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$1(_e),null;case 24:return null;case 25:return null}throw Error(p$1(156,_e.tag))}function Jj(et,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 3:return Jh(),E(Wf),E(H),Oh(),et=_e.flags,et&65536&&!(et&128)?(_e.flags=et&-65537|128,_e):null;case 5:return Lh(_e),null;case 13:if(E(M$1),et=_e.memoizedState,et!==null&&et.dehydrated!==null){if(_e.alternate===null)throw Error(p$1(340));Ig()}return et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 19:return E(M$1),null;case 4:return Jh(),null;case 10:return Rg(_e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Mj(et,_e){var nt=et.ref;if(nt!==null)if(typeof nt=="function")try{nt(null)}catch(it){W$1(et,_e,it)}else nt.current=null}function Nj(et,_e,nt){try{nt()}catch(it){W$1(et,_e,it)}}var Oj=!1;function Pj(et,_e){if(Cf=dd,et=Me(),Ne(et)){if("selectionStart"in et)var nt={start:et.selectionStart,end:et.selectionEnd};else e:{nt=(nt=et.ownerDocument)&&nt.defaultView||window;var it=nt.getSelection&&nt.getSelection();if(it&&it.rangeCount!==0){nt=it.anchorNode;var at=it.anchorOffset,ut=it.focusNode;it=it.focusOffset;try{nt.nodeType,ut.nodeType}catch{nt=null;break e}var dt=0,ft=-1,ht=-1,ct=0,lt=0,ot=et,tt=null;t:for(;;){for(var rt;ot!==nt||at!==0&&ot.nodeType!==3||(ft=dt+at),ot!==ut||it!==0&&ot.nodeType!==3||(ht=dt+it),ot.nodeType===3&&(dt+=ot.nodeValue.length),(rt=ot.firstChild)!==null;)tt=ot,ot=rt;for(;;){if(ot===et)break t;if(tt===nt&&++ct===at&&(ft=dt),tt===ut&&++lt===it&&(ht=dt),(rt=ot.nextSibling)!==null)break;ot=tt,tt=ot.parentNode}ot=rt}nt=ft===-1||ht===-1?null:{start:ft,end:ht}}else nt=null}nt=nt||{start:0,end:0}}else nt=null;for(Df={focusedElem:et,selectionRange:nt},dd=!1,V$2=_e;V$2!==null;)if(_e=V$2,et=_e.child,(_e.subtreeFlags&1028)!==0&&et!==null)et.return=_e,V$2=et;else for(;V$2!==null;){_e=V$2;try{var st=_e.alternate;if(_e.flags&1024)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var pt=st.memoizedProps,gt=st.memoizedState,mt=_e.stateNode,yt=mt.getSnapshotBeforeUpdate(_e.elementType===_e.type?pt:Lg(_e.type,pt),gt);mt.__reactInternalSnapshotBeforeUpdate=yt}break;case 3:var bt=_e.stateNode.containerInfo;bt.nodeType===1?bt.textContent="":bt.nodeType===9&&bt.documentElement&&bt.removeChild(bt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(vt){W$1(_e,_e.return,vt)}if(et=_e.sibling,et!==null){et.return=_e.return,V$2=et;break}V$2=_e.return}return st=Oj,Oj=!1,st}function Qj(et,_e,nt){var it=_e.updateQueue;if(it=it!==null?it.lastEffect:null,it!==null){var at=it=it.next;do{if((at.tag&et)===et){var ut=at.destroy;at.destroy=void 0,ut!==void 0&&Nj(_e,nt,ut)}at=at.next}while(at!==it)}}function Rj(et,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var nt=_e=_e.next;do{if((nt.tag&et)===et){var it=nt.create;nt.destroy=it()}nt=nt.next}while(nt!==_e)}}function Sj(et){var _e=et.ref;if(_e!==null){var nt=et.stateNode;switch(et.tag){case 5:et=nt;break;default:et=nt}typeof _e=="function"?_e(et):_e.current=et}}function Tj(et){var _e=et.alternate;_e!==null&&(et.alternate=null,Tj(_e)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(_e=et.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Uj(et){return et.tag===5||et.tag===3||et.tag===4}function Vj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Uj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Wj(et,_e,nt){var it=et.tag;if(it===5||it===6)et=et.stateNode,_e?nt.nodeType===8?nt.parentNode.insertBefore(et,_e):nt.insertBefore(et,_e):(nt.nodeType===8?(_e=nt.parentNode,_e.insertBefore(et,nt)):(_e=nt,_e.appendChild(et)),nt=nt._reactRootContainer,nt!=null||_e.onclick!==null||(_e.onclick=Bf));else if(it!==4&&(et=et.child,et!==null))for(Wj(et,_e,nt),et=et.sibling;et!==null;)Wj(et,_e,nt),et=et.sibling}function Xj(et,_e,nt){var it=et.tag;if(it===5||it===6)et=et.stateNode,_e?nt.insertBefore(et,_e):nt.appendChild(et);else if(it!==4&&(et=et.child,et!==null))for(Xj(et,_e,nt),et=et.sibling;et!==null;)Xj(et,_e,nt),et=et.sibling}var X$1=null,Yj=!1;function Zj(et,_e,nt){for(nt=nt.child;nt!==null;)ak(et,_e,nt),nt=nt.sibling}function ak(et,_e,nt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,nt)}catch{}switch(nt.tag){case 5:U$1||Mj(nt,_e);case 6:var it=X$1,at=Yj;X$1=null,Zj(et,_e,nt),X$1=it,Yj=at,X$1!==null&&(Yj?(et=X$1,nt=nt.stateNode,et.nodeType===8?et.parentNode.removeChild(nt):et.removeChild(nt)):X$1.removeChild(nt.stateNode));break;case 18:X$1!==null&&(Yj?(et=X$1,nt=nt.stateNode,et.nodeType===8?Kf(et.parentNode,nt):et.nodeType===1&&Kf(et,nt),bd(et)):Kf(X$1,nt.stateNode));break;case 4:it=X$1,at=Yj,X$1=nt.stateNode.containerInfo,Yj=!0,Zj(et,_e,nt),X$1=it,Yj=at;break;case 0:case 11:case 14:case 15:if(!U$1&&(it=nt.updateQueue,it!==null&&(it=it.lastEffect,it!==null))){at=it=it.next;do{var ut=at,dt=ut.destroy;ut=ut.tag,dt!==void 0&&(ut&2||ut&4)&&Nj(nt,_e,dt),at=at.next}while(at!==it)}Zj(et,_e,nt);break;case 1:if(!U$1&&(Mj(nt,_e),it=nt.stateNode,typeof it.componentWillUnmount=="function"))try{it.props=nt.memoizedProps,it.state=nt.memoizedState,it.componentWillUnmount()}catch(ft){W$1(nt,_e,ft)}Zj(et,_e,nt);break;case 21:Zj(et,_e,nt);break;case 22:nt.mode&1?(U$1=(it=U$1)||nt.memoizedState!==null,Zj(et,_e,nt),U$1=it):Zj(et,_e,nt);break;default:Zj(et,_e,nt)}}function bk(et){var _e=et.updateQueue;if(_e!==null){et.updateQueue=null;var nt=et.stateNode;nt===null&&(nt=et.stateNode=new Lj),_e.forEach(function(it){var at=ck.bind(null,et,it);nt.has(it)||(nt.add(it),it.then(at,at))})}}function dk(et,_e){var nt=_e.deletions;if(nt!==null)for(var it=0;it<nt.length;it++){var at=nt[it];try{var ut=et,dt=_e,ft=dt;e:for(;ft!==null;){switch(ft.tag){case 5:X$1=ft.stateNode,Yj=!1;break e;case 3:X$1=ft.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=ft.stateNode.containerInfo,Yj=!0;break e}ft=ft.return}if(X$1===null)throw Error(p$1(160));ak(ut,dt,at),X$1=null,Yj=!1;var ht=at.alternate;ht!==null&&(ht.return=null),at.return=null}catch(ct){W$1(at,_e,ct)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)ek(_e,et),_e=_e.sibling}function ek(et,_e){var nt=et.alternate,it=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(dk(_e,et),fk(et),it&4){try{Qj(3,et,et.return),Rj(3,et)}catch(pt){W$1(et,et.return,pt)}try{Qj(5,et,et.return)}catch(pt){W$1(et,et.return,pt)}}break;case 1:dk(_e,et),fk(et),it&512&&nt!==null&&Mj(nt,nt.return);break;case 5:if(dk(_e,et),fk(et),it&512&&nt!==null&&Mj(nt,nt.return),et.flags&32){var at=et.stateNode;try{ob(at,"")}catch(pt){W$1(et,et.return,pt)}}if(it&4&&(at=et.stateNode,at!=null)){var ut=et.memoizedProps,dt=nt!==null?nt.memoizedProps:ut,ft=et.type,ht=et.updateQueue;if(et.updateQueue=null,ht!==null)try{ft==="input"&&ut.type==="radio"&&ut.name!=null&&ab(at,ut),vb(ft,dt);var ct=vb(ft,ut);for(dt=0;dt<ht.length;dt+=2){var lt=ht[dt],ot=ht[dt+1];lt==="style"?sb(at,ot):lt==="dangerouslySetInnerHTML"?nb(at,ot):lt==="children"?ob(at,ot):ta(at,lt,ot,ct)}switch(ft){case"input":bb(at,ut);break;case"textarea":ib(at,ut);break;case"select":var tt=at._wrapperState.wasMultiple;at._wrapperState.wasMultiple=!!ut.multiple;var rt=ut.value;rt!=null?fb(at,!!ut.multiple,rt,!1):tt!==!!ut.multiple&&(ut.defaultValue!=null?fb(at,!!ut.multiple,ut.defaultValue,!0):fb(at,!!ut.multiple,ut.multiple?[]:"",!1))}at[Pf]=ut}catch(pt){W$1(et,et.return,pt)}}break;case 6:if(dk(_e,et),fk(et),it&4){if(et.stateNode===null)throw Error(p$1(162));at=et.stateNode,ut=et.memoizedProps;try{at.nodeValue=ut}catch(pt){W$1(et,et.return,pt)}}break;case 3:if(dk(_e,et),fk(et),it&4&&nt!==null&&nt.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(pt){W$1(et,et.return,pt)}break;case 4:dk(_e,et),fk(et);break;case 13:dk(_e,et),fk(et),at=et.child,at.flags&8192&&(ut=at.memoizedState!==null,at.stateNode.isHidden=ut,!ut||at.alternate!==null&&at.alternate.memoizedState!==null||(gk=B())),it&4&&bk(et);break;case 22:if(lt=nt!==null&&nt.memoizedState!==null,et.mode&1?(U$1=(ct=U$1)||lt,dk(_e,et),U$1=ct):dk(_e,et),fk(et),it&8192){if(ct=et.memoizedState!==null,(et.stateNode.isHidden=ct)&&!lt&&et.mode&1)for(V$2=et,lt=et.child;lt!==null;){for(ot=V$2=lt;V$2!==null;){switch(tt=V$2,rt=tt.child,tt.tag){case 0:case 11:case 14:case 15:Qj(4,tt,tt.return);break;case 1:Mj(tt,tt.return);var st=tt.stateNode;if(typeof st.componentWillUnmount=="function"){it=tt,nt=tt.return;try{_e=it,st.props=_e.memoizedProps,st.state=_e.memoizedState,st.componentWillUnmount()}catch(pt){W$1(it,nt,pt)}}break;case 5:Mj(tt,tt.return);break;case 22:if(tt.memoizedState!==null){hk(ot);continue}}rt!==null?(rt.return=tt,V$2=rt):hk(ot)}lt=lt.sibling}e:for(lt=null,ot=et;;){if(ot.tag===5){if(lt===null){lt=ot;try{at=ot.stateNode,ct?(ut=at.style,typeof ut.setProperty=="function"?ut.setProperty("display","none","important"):ut.display="none"):(ft=ot.stateNode,ht=ot.memoizedProps.style,dt=ht!=null&&ht.hasOwnProperty("display")?ht.display:null,ft.style.display=rb("display",dt))}catch(pt){W$1(et,et.return,pt)}}}else if(ot.tag===6){if(lt===null)try{ot.stateNode.nodeValue=ct?"":ot.memoizedProps}catch(pt){W$1(et,et.return,pt)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===et)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===et)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===et)break e;lt===ot&&(lt=null),ot=ot.return}lt===ot&&(lt=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:dk(_e,et),fk(et),it&4&&bk(et);break;case 21:break;default:dk(_e,et),fk(et)}}function fk(et){var _e=et.flags;if(_e&2){try{e:{for(var nt=et.return;nt!==null;){if(Uj(nt)){var it=nt;break e}nt=nt.return}throw Error(p$1(160))}switch(it.tag){case 5:var at=it.stateNode;it.flags&32&&(ob(at,""),it.flags&=-33);var ut=Vj(et);Xj(et,ut,at);break;case 3:case 4:var dt=it.stateNode.containerInfo,ft=Vj(et);Wj(et,ft,dt);break;default:throw Error(p$1(161))}}catch(ht){W$1(et,et.return,ht)}et.flags&=-3}_e&4096&&(et.flags&=-4097)}function ik(et,_e,nt){V$2=et,jk(et)}function jk(et,_e,nt){for(var it=(et.mode&1)!==0;V$2!==null;){var at=V$2,ut=at.child;if(at.tag===22&&it){var dt=at.memoizedState!==null||Kj;if(!dt){var ft=at.alternate,ht=ft!==null&&ft.memoizedState!==null||U$1;ft=Kj;var ct=U$1;if(Kj=dt,(U$1=ht)&&!ct)for(V$2=at;V$2!==null;)dt=V$2,ht=dt.child,dt.tag===22&&dt.memoizedState!==null?kk(at):ht!==null?(ht.return=dt,V$2=ht):kk(at);for(;ut!==null;)V$2=ut,jk(ut),ut=ut.sibling;V$2=at,Kj=ft,U$1=ct}lk(et)}else at.subtreeFlags&8772&&ut!==null?(ut.return=at,V$2=ut):lk(et)}}function lk(et){for(;V$2!==null;){var _e=V$2;if(_e.flags&8772){var nt=_e.alternate;try{if(_e.flags&8772)switch(_e.tag){case 0:case 11:case 15:U$1||Rj(5,_e);break;case 1:var it=_e.stateNode;if(_e.flags&4&&!U$1)if(nt===null)it.componentDidMount();else{var at=_e.elementType===_e.type?nt.memoizedProps:Lg(_e.type,nt.memoizedProps);it.componentDidUpdate(at,nt.memoizedState,it.__reactInternalSnapshotBeforeUpdate)}var ut=_e.updateQueue;ut!==null&&ih(_e,ut,it);break;case 3:var dt=_e.updateQueue;if(dt!==null){if(nt=null,_e.child!==null)switch(_e.child.tag){case 5:nt=_e.child.stateNode;break;case 1:nt=_e.child.stateNode}ih(_e,dt,nt)}break;case 5:var ft=_e.stateNode;if(nt===null&&_e.flags&4){nt=ft;var ht=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":ht.autoFocus&&nt.focus();break;case"img":ht.src&&(nt.src=ht.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var ct=_e.alternate;if(ct!==null){var lt=ct.memoizedState;if(lt!==null){var ot=lt.dehydrated;ot!==null&&bd(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$1||_e.flags&512&&Sj(_e)}catch(tt){W$1(_e,_e.return,tt)}}if(_e===et){V$2=null;break}if(nt=_e.sibling,nt!==null){nt.return=_e.return,V$2=nt;break}V$2=_e.return}}function hk(et){for(;V$2!==null;){var _e=V$2;if(_e===et){V$2=null;break}var nt=_e.sibling;if(nt!==null){nt.return=_e.return,V$2=nt;break}V$2=_e.return}}function kk(et){for(;V$2!==null;){var _e=V$2;try{switch(_e.tag){case 0:case 11:case 15:var nt=_e.return;try{Rj(4,_e)}catch(ht){W$1(_e,nt,ht)}break;case 1:var it=_e.stateNode;if(typeof it.componentDidMount=="function"){var at=_e.return;try{it.componentDidMount()}catch(ht){W$1(_e,at,ht)}}var ut=_e.return;try{Sj(_e)}catch(ht){W$1(_e,ut,ht)}break;case 5:var dt=_e.return;try{Sj(_e)}catch(ht){W$1(_e,dt,ht)}}}catch(ht){W$1(_e,_e.return,ht)}if(_e===et){V$2=null;break}var ft=_e.sibling;if(ft!==null){ft.return=_e.return,V$2=ft;break}V$2=_e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(et){return et.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(et=C,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et):1}function mh(et,_e,nt,it){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac(et,nt,it),(!(K&2)||et!==R)&&(et===R&&(!(K&2)&&(rk|=nt),T$1===4&&Dk(et,Z$1)),Ek(et,it),nt===1&&K===0&&!(_e.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(et,_e){var nt=et.callbackNode;wc(et,_e);var it=uc(et,et===R?Z$1:0);if(it===0)nt!==null&&bc(nt),et.callbackNode=null,et.callbackPriority=0;else if(_e=it&-it,et.callbackPriority!==_e){if(nt!=null&&bc(nt),_e===1)et.tag===0?ig(Fk.bind(null,et)):hg(Fk.bind(null,et)),Jf(function(){!(K&6)&&jg()}),nt=null;else{switch(Dc(it)){case 1:nt=fc;break;case 4:nt=gc;break;case 16:nt=hc;break;case 536870912:nt=jc;break;default:nt=hc}nt=Gk(nt,Hk.bind(null,et))}et.callbackPriority=_e,et.callbackNode=nt}}function Hk(et,_e){if(Bk=-1,Ck=0,K&6)throw Error(p$1(327));var nt=et.callbackNode;if(Ik()&&et.callbackNode!==nt)return null;var it=uc(et,et===R?Z$1:0);if(it===0)return null;if(it&30||it&et.expiredLanes||_e)_e=Jk(et,it);else{_e=it;var at=K;K|=2;var ut=Kk();(R!==et||Z$1!==_e)&&(vk=null,Hj=B()+500,Lk(et,_e));do try{Mk();break}catch(ft){Nk(et,ft)}while(!0);Qg(),nk.current=ut,K=at,Y$1!==null?_e=0:(R=null,Z$1=0,_e=T$1)}if(_e!==0){if(_e===2&&(at=xc(et),at!==0&&(it=at,_e=Ok(et,at))),_e===1)throw nt=qk,Lk(et,0),Dk(et,it),Ek(et,B()),nt;if(_e===6)Dk(et,it);else{if(at=et.current.alternate,!(it&30)&&!Pk(at)&&(_e=Jk(et,it),_e===2&&(ut=xc(et),ut!==0&&(it=ut,_e=Ok(et,ut))),_e===1))throw nt=qk,Lk(et,0),Dk(et,it),Ek(et,B()),nt;switch(et.finishedWork=at,et.finishedLanes=it,_e){case 0:case 1:throw Error(p$1(345));case 2:Qk(et,uk,vk);break;case 3:if(Dk(et,it),(it&130023424)===it&&(_e=gk+500-B(),10<_e)){if(uc(et,0)!==0)break;if(at=et.suspendedLanes,(at&it)!==it){L(),et.pingedLanes|=et.suspendedLanes&at;break}et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),_e);break}Qk(et,uk,vk);break;case 4:if(Dk(et,it),(it&4194240)===it)break;for(_e=et.eventTimes,at=-1;0<it;){var dt=31-oc(it);ut=1<<dt,dt=_e[dt],dt>at&&(at=dt),it&=~ut}if(it=at,it=B()-it,it=(120>it?120:480>it?480:1080>it?1080:1920>it?1920:3e3>it?3e3:4320>it?4320:1960*mk(it/1960))-it,10<it){et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),it);break}Qk(et,uk,vk);break;case 5:Qk(et,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(et,B()),et.callbackNode===nt?Hk.bind(null,et):null}function Ok(et,_e){var nt=tk;return et.current.memoizedState.isDehydrated&&(Lk(et,_e).flags|=256),et=Jk(et,_e),et!==2&&(_e=uk,uk=nt,_e!==null&&Gj(_e)),et}function Gj(et){uk===null?uk=et:uk.push.apply(uk,et)}function Pk(et){for(var _e=et;;){if(_e.flags&16384){var nt=_e.updateQueue;if(nt!==null&&(nt=nt.stores,nt!==null))for(var it=0;it<nt.length;it++){var at=nt[it],ut=at.getSnapshot;at=at.value;try{if(!He(ut(),at))return!1}catch{return!1}}}if(nt=_e.child,_e.subtreeFlags&16384&&nt!==null)nt.return=_e,_e=nt;else{if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Dk(et,_e){for(_e&=~sk,_e&=~rk,et.suspendedLanes|=_e,et.pingedLanes&=~_e,et=et.expirationTimes;0<_e;){var nt=31-oc(_e),it=1<<nt;et[nt]=-1,_e&=~it}}function Fk(et){if(K&6)throw Error(p$1(327));Ik();var _e=uc(et,0);if(!(_e&1))return Ek(et,B()),null;var nt=Jk(et,_e);if(et.tag!==0&&nt===2){var it=xc(et);it!==0&&(_e=it,nt=Ok(et,it))}if(nt===1)throw nt=qk,Lk(et,0),Dk(et,_e),Ek(et,B()),nt;if(nt===6)throw Error(p$1(345));return et.finishedWork=et.current.alternate,et.finishedLanes=_e,Qk(et,uk,vk),Ek(et,B()),null}function Rk(et,_e){var nt=K;K|=1;try{return et(_e)}finally{K=nt,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(et){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var _e=K;K|=1;var nt=pk.transition,it=C;try{if(pk.transition=null,C=1,et)return et()}finally{C=it,pk.transition=nt,K=_e,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(et,_e){et.finishedWork=null,et.finishedLanes=0;var nt=et.timeoutHandle;if(nt!==-1&&(et.timeoutHandle=-1,Gf(nt)),Y$1!==null)for(nt=Y$1.return;nt!==null;){var it=nt;switch(wg(it),it.tag){case 1:it=it.type.childContextTypes,it!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(it);break;case 4:Jh();break;case 13:E(M$1);break;case 19:E(M$1);break;case 10:Rg(it.type._context);break;case 22:case 23:Ij()}nt=nt.return}if(R=et,Y$1=et=wh(et.current,null),Z$1=gj=_e,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_e=0;_e<Wg.length;_e++)if(nt=Wg[_e],it=nt.interleaved,it!==null){nt.interleaved=null;var at=it.next,ut=nt.pending;if(ut!==null){var dt=ut.next;ut.next=at,it.next=dt}nt.pending=it}Wg=null}return et}function Nk(et,_e){do{var nt=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var it=N.memoizedState;it!==null;){var at=it.queue;at!==null&&(at.pending=null),it=it.next}Sh=!1}if(Rh=0,P$1=O$1=N=null,Th=!1,Uh=0,ok.current=null,nt===null||nt.return===null){T$1=1,qk=_e,Y$1=null;break}e:{var ut=et,dt=nt.return,ft=nt,ht=_e;if(_e=Z$1,ft.flags|=32768,ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var ct=ht,lt=ft,ot=lt.tag;if(!(lt.mode&1)&&(ot===0||ot===11||ot===15)){var tt=lt.alternate;tt?(lt.updateQueue=tt.updateQueue,lt.memoizedState=tt.memoizedState,lt.lanes=tt.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var rt=Vi(dt);if(rt!==null){rt.flags&=-257,Wi(rt,dt,ft,ut,_e),rt.mode&1&&Ti(ut,ct,_e),_e=rt,ht=ct;var st=_e.updateQueue;if(st===null){var pt=new Set;pt.add(ht),_e.updateQueue=pt}else st.add(ht);break e}else{if(!(_e&1)){Ti(ut,ct,_e),uj();break e}ht=Error(p$1(426))}}else if(I$1&&ft.mode&1){var gt=Vi(dt);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),Wi(gt,dt,ft,ut,_e),Jg(Ki(ht,ft));break e}}ut=ht=Ki(ht,ft),T$1!==4&&(T$1=2),tk===null?tk=[ut]:tk.push(ut),ut=dt;do{switch(ut.tag){case 3:ut.flags|=65536,_e&=-_e,ut.lanes|=_e;var mt=Oi(ut,ht,_e);fh(ut,mt);break e;case 1:ft=ht;var yt=ut.type,bt=ut.stateNode;if(!(ut.flags&128)&&(typeof yt.getDerivedStateFromError=="function"||bt!==null&&typeof bt.componentDidCatch=="function"&&(Si===null||!Si.has(bt)))){ut.flags|=65536,_e&=-_e,ut.lanes|=_e;var vt=Ri(ut,ft,_e);fh(ut,vt);break e}}ut=ut.return}while(ut!==null)}Tk(nt)}catch(wt){_e=wt,Y$1===nt&&nt!==null&&(Y$1=nt=nt.return);continue}break}while(!0)}function Kk(){var et=nk.current;return nk.current=ai,et===null?ai:et}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z$1)}function Jk(et,_e){var nt=K;K|=2;var it=Kk();(R!==et||Z$1!==_e)&&(vk=null,Lk(et,_e));do try{Uk();break}catch(at){Nk(et,at)}while(!0);if(Qg(),K=nt,nk.current=it,Y$1!==null)throw Error(p$1(261));return R=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(et){var _e=Wk(et.alternate,et,gj);et.memoizedProps=et.pendingProps,_e===null?Tk(et):Y$1=_e,ok.current=null}function Tk(et){var _e=et;do{var nt=_e.alternate;if(et=_e.return,_e.flags&32768){if(nt=Jj(nt,_e),nt!==null){nt.flags&=32767,Y$1=nt;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$1=6,Y$1=null;return}}else if(nt=Fj(nt,_e,gj),nt!==null){Y$1=nt;return}if(_e=_e.sibling,_e!==null){Y$1=_e;return}Y$1=_e=et}while(_e!==null);T$1===0&&(T$1=5)}function Qk(et,_e,nt){var it=C,at=pk.transition;try{pk.transition=null,C=1,Xk(et,_e,nt,it)}finally{pk.transition=at,C=it}return null}function Xk(et,_e,nt,it){do Ik();while(xk!==null);if(K&6)throw Error(p$1(327));nt=et.finishedWork;var at=et.finishedLanes;if(nt===null)return null;if(et.finishedWork=null,et.finishedLanes=0,nt===et.current)throw Error(p$1(177));et.callbackNode=null,et.callbackPriority=0;var ut=nt.lanes|nt.childLanes;if(Bc(et,ut),et===R&&(Y$1=R=null,Z$1=0),!(nt.subtreeFlags&2064)&&!(nt.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),ut=(nt.flags&15990)!==0,nt.subtreeFlags&15990||ut){ut=pk.transition,pk.transition=null;var dt=C;C=1;var ft=K;K|=4,ok.current=null,Pj(et,nt),ek(nt,et),Oe(Df),dd=!!Cf,Df=Cf=null,et.current=nt,ik(nt),dc(),K=ft,C=dt,pk.transition=ut}else et.current=nt;if(wk&&(wk=!1,xk=et,yk=at),ut=et.pendingLanes,ut===0&&(Si=null),mc(nt.stateNode),Ek(et,B()),_e!==null)for(it=et.onRecoverableError,nt=0;nt<_e.length;nt++)at=_e[nt],it(at.value,{componentStack:at.stack,digest:at.digest});if(Pi)throw Pi=!1,et=Qi,Qi=null,et;return yk&1&&et.tag!==0&&Ik(),ut=et.pendingLanes,ut&1?et===Ak?zk++:(zk=0,Ak=et):zk=0,jg(),null}function Ik(){if(xk!==null){var et=Dc(yk),_e=pk.transition,nt=C;try{if(pk.transition=null,C=16>et?16:et,xk===null)var it=!1;else{if(et=xk,xk=null,yk=0,K&6)throw Error(p$1(331));var at=K;for(K|=4,V$2=et.current;V$2!==null;){var ut=V$2,dt=ut.child;if(V$2.flags&16){var ft=ut.deletions;if(ft!==null){for(var ht=0;ht<ft.length;ht++){var ct=ft[ht];for(V$2=ct;V$2!==null;){var lt=V$2;switch(lt.tag){case 0:case 11:case 15:Qj(8,lt,ut)}var ot=lt.child;if(ot!==null)ot.return=lt,V$2=ot;else for(;V$2!==null;){lt=V$2;var tt=lt.sibling,rt=lt.return;if(Tj(lt),lt===ct){V$2=null;break}if(tt!==null){tt.return=rt,V$2=tt;break}V$2=rt}}}var st=ut.alternate;if(st!==null){var pt=st.child;if(pt!==null){st.child=null;do{var gt=pt.sibling;pt.sibling=null,pt=gt}while(pt!==null)}}V$2=ut}}if(ut.subtreeFlags&2064&&dt!==null)dt.return=ut,V$2=dt;else e:for(;V$2!==null;){if(ut=V$2,ut.flags&2048)switch(ut.tag){case 0:case 11:case 15:Qj(9,ut,ut.return)}var mt=ut.sibling;if(mt!==null){mt.return=ut.return,V$2=mt;break e}V$2=ut.return}}var yt=et.current;for(V$2=yt;V$2!==null;){dt=V$2;var bt=dt.child;if(dt.subtreeFlags&2064&&bt!==null)bt.return=dt,V$2=bt;else e:for(dt=yt;V$2!==null;){if(ft=V$2,ft.flags&2048)try{switch(ft.tag){case 0:case 11:case 15:Rj(9,ft)}}catch(wt){W$1(ft,ft.return,wt)}if(ft===dt){V$2=null;break e}var vt=ft.sibling;if(vt!==null){vt.return=ft.return,V$2=vt;break e}V$2=ft.return}}if(K=at,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}it=!0}return it}finally{C=nt,pk.transition=_e}}return!1}function Yk(et,_e,nt){_e=Ki(nt,_e),_e=Oi(et,_e,1),et=dh(et,_e,1),_e=L(),et!==null&&(Ac(et,1,_e),Ek(et,_e))}function W$1(et,_e,nt){if(et.tag===3)Yk(et,et,nt);else for(;_e!==null;){if(_e.tag===3){Yk(_e,et,nt);break}else if(_e.tag===1){var it=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof it.componentDidCatch=="function"&&(Si===null||!Si.has(it))){et=Ki(nt,et),et=Ri(_e,et,1),_e=dh(_e,et,1),et=L(),_e!==null&&(Ac(_e,1,et),Ek(_e,et));break}}_e=_e.return}}function Ui(et,_e,nt){var it=et.pingCache;it!==null&&it.delete(_e),_e=L(),et.pingedLanes|=et.suspendedLanes&nt,R===et&&(Z$1&nt)===nt&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B()-gk?Lk(et,0):sk|=nt),Ek(et,_e)}function Zk(et,_e){_e===0&&(et.mode&1?(_e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_e=1);var nt=L();et=Zg(et,_e),et!==null&&(Ac(et,_e,nt),Ek(et,nt))}function vj(et){var _e=et.memoizedState,nt=0;_e!==null&&(nt=_e.retryLane),Zk(et,nt)}function ck(et,_e){var nt=0;switch(et.tag){case 13:var it=et.stateNode,at=et.memoizedState;at!==null&&(nt=at.retryLane);break;case 19:it=et.stateNode;break;default:throw Error(p$1(314))}it!==null&&it.delete(_e),Zk(et,nt)}var Wk;Wk=function(et,_e,nt){if(et!==null)if(et.memoizedProps!==_e.pendingProps||Wf.current)Ug=!0;else{if(!(et.lanes&nt)&&!(_e.flags&128))return Ug=!1,zj(et,_e,nt);Ug=!!(et.flags&131072)}else Ug=!1,I$1&&_e.flags&1048576&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var it=_e.type;jj(et,_e),et=_e.pendingProps;var at=Yf(_e,H.current);Tg(_e,nt),at=Xh(null,_e,it,et,at,nt);var ut=bi();return _e.flags|=1,typeof at=="object"&&at!==null&&typeof at.render=="function"&&at.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(it)?(ut=!0,cg(_e)):ut=!1,_e.memoizedState=at.state!==null&&at.state!==void 0?at.state:null,ah(_e),at.updater=nh,_e.stateNode=at,at._reactInternals=_e,rh(_e,it,et,nt),_e=kj(null,_e,it,!0,ut,nt)):(_e.tag=0,I$1&&ut&&vg(_e),Yi(null,_e,at,nt),_e=_e.child),_e;case 16:it=_e.elementType;e:{switch(jj(et,_e),et=_e.pendingProps,at=it._init,it=at(it._payload),_e.type=it,at=_e.tag=$k(it),et=Lg(it,et),at){case 0:_e=dj(null,_e,it,et,nt);break e;case 1:_e=ij(null,_e,it,et,nt);break e;case 11:_e=Zi(null,_e,it,et,nt);break e;case 14:_e=aj(null,_e,it,Lg(it.type,et),nt);break e}throw Error(p$1(306,it,""))}return _e;case 0:return it=_e.type,at=_e.pendingProps,at=_e.elementType===it?at:Lg(it,at),dj(et,_e,it,at,nt);case 1:return it=_e.type,at=_e.pendingProps,at=_e.elementType===it?at:Lg(it,at),ij(et,_e,it,at,nt);case 3:e:{if(lj(_e),et===null)throw Error(p$1(387));it=_e.pendingProps,ut=_e.memoizedState,at=ut.element,bh(et,_e),gh(_e,it,null,nt);var dt=_e.memoizedState;if(it=dt.element,ut.isDehydrated)if(ut={element:it,isDehydrated:!1,cache:dt.cache,pendingSuspenseBoundaries:dt.pendingSuspenseBoundaries,transitions:dt.transitions},_e.updateQueue.baseState=ut,_e.memoizedState=ut,_e.flags&256){at=Ki(Error(p$1(423)),_e),_e=mj(et,_e,it,nt,at);break e}else if(it!==at){at=Ki(Error(p$1(424)),_e),_e=mj(et,_e,it,nt,at);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$1=!0,zg=null,nt=Ch(_e,null,it,nt),_e.child=nt;nt;)nt.flags=nt.flags&-3|4096,nt=nt.sibling;else{if(Ig(),it===at){_e=$i(et,_e,nt);break e}Yi(et,_e,it,nt)}_e=_e.child}return _e;case 5:return Kh(_e),et===null&&Eg(_e),it=_e.type,at=_e.pendingProps,ut=et!==null?et.memoizedProps:null,dt=at.children,Ef(it,at)?dt=null:ut!==null&&Ef(it,ut)&&(_e.flags|=32),hj(et,_e),Yi(et,_e,dt,nt),_e.child;case 6:return et===null&&Eg(_e),null;case 13:return pj(et,_e,nt);case 4:return Ih(_e,_e.stateNode.containerInfo),it=_e.pendingProps,et===null?_e.child=Bh(_e,null,it,nt):Yi(et,_e,it,nt),_e.child;case 11:return it=_e.type,at=_e.pendingProps,at=_e.elementType===it?at:Lg(it,at),Zi(et,_e,it,at,nt);case 7:return Yi(et,_e,_e.pendingProps,nt),_e.child;case 8:return Yi(et,_e,_e.pendingProps.children,nt),_e.child;case 12:return Yi(et,_e,_e.pendingProps.children,nt),_e.child;case 10:e:{if(it=_e.type._context,at=_e.pendingProps,ut=_e.memoizedProps,dt=at.value,G$1(Mg,it._currentValue),it._currentValue=dt,ut!==null)if(He(ut.value,dt)){if(ut.children===at.children&&!Wf.current){_e=$i(et,_e,nt);break e}}else for(ut=_e.child,ut!==null&&(ut.return=_e);ut!==null;){var ft=ut.dependencies;if(ft!==null){dt=ut.child;for(var ht=ft.firstContext;ht!==null;){if(ht.context===it){if(ut.tag===1){ht=ch(-1,nt&-nt),ht.tag=2;var ct=ut.updateQueue;if(ct!==null){ct=ct.shared;var lt=ct.pending;lt===null?ht.next=ht:(ht.next=lt.next,lt.next=ht),ct.pending=ht}}ut.lanes|=nt,ht=ut.alternate,ht!==null&&(ht.lanes|=nt),Sg(ut.return,nt,_e),ft.lanes|=nt;break}ht=ht.next}}else if(ut.tag===10)dt=ut.type===_e.type?null:ut.child;else if(ut.tag===18){if(dt=ut.return,dt===null)throw Error(p$1(341));dt.lanes|=nt,ft=dt.alternate,ft!==null&&(ft.lanes|=nt),Sg(dt,nt,_e),dt=ut.sibling}else dt=ut.child;if(dt!==null)dt.return=ut;else for(dt=ut;dt!==null;){if(dt===_e){dt=null;break}if(ut=dt.sibling,ut!==null){ut.return=dt.return,dt=ut;break}dt=dt.return}ut=dt}Yi(et,_e,at.children,nt),_e=_e.child}return _e;case 9:return at=_e.type,it=_e.pendingProps.children,Tg(_e,nt),at=Vg(at),it=it(at),_e.flags|=1,Yi(et,_e,it,nt),_e.child;case 14:return it=_e.type,at=Lg(it,_e.pendingProps),at=Lg(it.type,at),aj(et,_e,it,at,nt);case 15:return cj(et,_e,_e.type,_e.pendingProps,nt);case 17:return it=_e.type,at=_e.pendingProps,at=_e.elementType===it?at:Lg(it,at),jj(et,_e),_e.tag=1,Zf(it)?(et=!0,cg(_e)):et=!1,Tg(_e,nt),ph(_e,it,at),rh(_e,it,at,nt),kj(null,_e,it,!0,et,nt);case 19:return yj(et,_e,nt);case 22:return ej(et,_e,nt)}throw Error(p$1(156,_e.tag))};function Gk(et,_e){return ac(et,_e)}function al(et,_e,nt,it){this.tag=et,this.key=nt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=it,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,_e,nt,it){return new al(et,_e,nt,it)}function bj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function $k(et){if(typeof et=="function")return bj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function wh(et,_e){var nt=et.alternate;return nt===null?(nt=Bg(et.tag,_e,et.key,et.mode),nt.elementType=et.elementType,nt.type=et.type,nt.stateNode=et.stateNode,nt.alternate=et,et.alternate=nt):(nt.pendingProps=_e,nt.type=et.type,nt.flags=0,nt.subtreeFlags=0,nt.deletions=null),nt.flags=et.flags&14680064,nt.childLanes=et.childLanes,nt.lanes=et.lanes,nt.child=et.child,nt.memoizedProps=et.memoizedProps,nt.memoizedState=et.memoizedState,nt.updateQueue=et.updateQueue,_e=et.dependencies,nt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},nt.sibling=et.sibling,nt.index=et.index,nt.ref=et.ref,nt}function yh(et,_e,nt,it,at,ut){var dt=2;if(it=et,typeof et=="function")bj(et)&&(dt=1);else if(typeof et=="string")dt=5;else e:switch(et){case ya:return Ah(nt.children,at,ut,_e);case za:dt=8,at|=8;break;case Aa:return et=Bg(12,nt,_e,at|2),et.elementType=Aa,et.lanes=ut,et;case Ea:return et=Bg(13,nt,_e,at),et.elementType=Ea,et.lanes=ut,et;case Fa:return et=Bg(19,nt,_e,at),et.elementType=Fa,et.lanes=ut,et;case Ia:return qj(nt,at,ut,_e);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:dt=10;break e;case Ca:dt=9;break e;case Da:dt=11;break e;case Ga:dt=14;break e;case Ha:dt=16,it=null;break e}throw Error(p$1(130,et==null?et:typeof et,""))}return _e=Bg(dt,nt,_e,at),_e.elementType=et,_e.type=it,_e.lanes=ut,_e}function Ah(et,_e,nt,it){return et=Bg(7,et,it,_e),et.lanes=nt,et}function qj(et,_e,nt,it){return et=Bg(22,et,it,_e),et.elementType=Ia,et.lanes=nt,et.stateNode={isHidden:!1},et}function xh(et,_e,nt){return et=Bg(6,et,null,_e),et.lanes=nt,et}function zh(et,_e,nt){return _e=Bg(4,et.children!==null?et.children:[],et.key,_e),_e.lanes=nt,_e.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},_e}function bl(et,_e,nt,it,at){this.tag=_e,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=it,this.onRecoverableError=at,this.mutableSourceEagerHydrationData=null}function cl(et,_e,nt,it,at,ut,dt,ft,ht){return et=new bl(et,_e,nt,ft,ht),_e===1?(_e=1,ut===!0&&(_e|=8)):_e=0,ut=Bg(3,null,null,_e),et.current=ut,ut.stateNode=et,ut.memoizedState={element:it,isDehydrated:nt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(ut),et}function dl(et,_e,nt){var it=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:it==null?null:""+it,children:et,containerInfo:_e,implementation:nt}}function el(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$1(170));var _e=et;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$1(171))}if(et.tag===1){var nt=et.type;if(Zf(nt))return bg(et,nt,_e)}return _e}function fl(et,_e,nt,it,at,ut,dt,ft,ht){return et=cl(nt,it,!0,et,at,ut,dt,ft,ht),et.context=el(null),nt=et.current,it=L(),at=lh(nt),ut=ch(it,at),ut.callback=_e??null,dh(nt,ut,at),et.current.lanes=at,Ac(et,at,it),Ek(et,it),et}function gl(et,_e,nt,it){var at=_e.current,ut=L(),dt=lh(at);return nt=el(nt),_e.context===null?_e.context=nt:_e.pendingContext=nt,_e=ch(ut,dt),_e.payload={element:et},it=it===void 0?null:it,it!==null&&(_e.callback=it),et=dh(at,_e,dt),et!==null&&(mh(et,at,dt,ut),eh(et,at,dt)),dt}function hl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function il(et,_e){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var nt=et.retryLane;et.retryLane=nt!==0&&nt<_e?nt:_e}}function jl(et,_e){il(et,_e),(et=et.alternate)&&il(et,_e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(et){console.error(et)};function ml(et){this._internalRoot=et}nl.prototype.render=ml.prototype.render=function(et){var _e=this._internalRoot;if(_e===null)throw Error(p$1(409));gl(et,_e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var _e=et.containerInfo;Sk(function(){gl(null,et,null,null)}),_e[uf]=null}};function nl(et){this._internalRoot=et}nl.prototype.unstable_scheduleHydration=function(et){if(et){var _e=Hc();et={blockedOn:null,target:et,priority:_e};for(var nt=0;nt<Qc.length&&_e!==0&&_e<Qc[nt].priority;nt++);Qc.splice(nt,0,et),nt===0&&Vc(et)}};function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function pl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(et,_e,nt,it,at){if(at){if(typeof it=="function"){var ut=it;it=function(){var ct=hl(dt);ut.call(ct)}}var dt=fl(_e,it,et,0,null,!1,!1,"",ql);return et._reactRootContainer=dt,et[uf]=dt.current,sf(et.nodeType===8?et.parentNode:et),Sk(),dt}for(;at=et.lastChild;)et.removeChild(at);if(typeof it=="function"){var ft=it;it=function(){var ct=hl(ht);ft.call(ct)}}var ht=cl(et,0,!1,null,null,!1,!1,"",ql);return et._reactRootContainer=ht,et[uf]=ht.current,sf(et.nodeType===8?et.parentNode:et),Sk(function(){gl(_e,ht,nt,it)}),ht}function sl(et,_e,nt,it,at){var ut=nt._reactRootContainer;if(ut){var dt=ut;if(typeof at=="function"){var ft=at;at=function(){var ht=hl(dt);ft.call(ht)}}gl(_e,dt,et,at)}else dt=rl(nt,_e,et,at,it);return hl(dt)}Ec=function(et){switch(et.tag){case 3:var _e=et.stateNode;if(_e.current.memoizedState.isDehydrated){var nt=tc(_e.pendingLanes);nt!==0&&(Cc(_e,nt|1),Ek(_e,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var it=Zg(et,1);if(it!==null){var at=L();mh(it,et,1,at)}}),jl(et,1)}};Fc=function(et){if(et.tag===13){var _e=Zg(et,134217728);if(_e!==null){var nt=L();mh(_e,et,134217728,nt)}jl(et,134217728)}};Gc=function(et){if(et.tag===13){var _e=lh(et),nt=Zg(et,_e);if(nt!==null){var it=L();mh(nt,et,_e,it)}jl(et,_e)}};Hc=function(){return C};Ic=function(et,_e){var nt=C;try{return C=et,_e()}finally{C=nt}};yb=function(et,_e,nt){switch(_e){case"input":if(bb(et,nt),_e=nt.name,nt.type==="radio"&&_e!=null){for(nt=et;nt.parentNode;)nt=nt.parentNode;for(nt=nt.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<nt.length;_e++){var it=nt[_e];if(it!==et&&it.form===et.form){var at=Db(it);if(!at)throw Error(p$1(90));Wa(it),bb(it,at)}}}break;case"textarea":ib(et,nt);break;case"select":_e=nt.value,_e!=null&&fb(et,!!nt.multiple,_e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(et,_e){var nt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_e))throw Error(p$1(200));return dl(et,_e,null,nt)};reactDom_production_min.createRoot=function(et,_e){if(!ol(et))throw Error(p$1(299));var nt=!1,it="",at=ll;return _e!=null&&(_e.unstable_strictMode===!0&&(nt=!0),_e.identifierPrefix!==void 0&&(it=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(at=_e.onRecoverableError)),_e=cl(et,1,!1,null,null,nt,!1,it,at),et[uf]=_e.current,sf(et.nodeType===8?et.parentNode:et),new ml(_e)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var _e=et._reactInternals;if(_e===void 0)throw typeof et.render=="function"?Error(p$1(188)):(et=Object.keys(et).join(","),Error(p$1(268,et)));return et=Zb(_e),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Sk(et)};reactDom_production_min.hydrate=function(et,_e,nt){if(!pl(_e))throw Error(p$1(200));return sl(null,et,_e,!0,nt)};reactDom_production_min.hydrateRoot=function(et,_e,nt){if(!ol(et))throw Error(p$1(405));var it=nt!=null&&nt.hydratedSources||null,at=!1,ut="",dt=ll;if(nt!=null&&(nt.unstable_strictMode===!0&&(at=!0),nt.identifierPrefix!==void 0&&(ut=nt.identifierPrefix),nt.onRecoverableError!==void 0&&(dt=nt.onRecoverableError)),_e=fl(_e,null,et,1,nt??null,at,!1,ut,dt),et[uf]=_e.current,sf(et),it)for(et=0;et<it.length;et++)nt=it[et],at=nt._getVersion,at=at(nt._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[nt,at]:_e.mutableSourceEagerHydrationData.push(nt,at);return new nl(_e)};reactDom_production_min.render=function(et,_e,nt){if(!pl(_e))throw Error(p$1(200));return sl(null,et,_e,!1,nt)};reactDom_production_min.unmountComponentAtNode=function(et){if(!pl(et))throw Error(p$1(40));return et._reactRootContainer?(Sk(function(){sl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,_e,nt,it){if(!pl(nt))throw Error(p$1(200));if(et==null||et._reactInternals===void 0)throw Error(p$1(38));return sl(et,_e,nt,!1,it)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(et){console.error(et)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;let e={data:""},t=et=>typeof window=="object"?((et?et.querySelector("#_goober"):window._goober)||Object.assign((et||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:et||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o=(et,_e)=>{let nt="",it="",at="";for(let ut in et){let dt=et[ut];ut[0]=="@"?ut[1]=="i"?nt=ut+" "+dt+";":it+=ut[1]=="f"?o(dt,ut):ut+"{"+o(dt,ut[1]=="k"?"":_e)+"}":typeof dt=="object"?it+=o(dt,_e?_e.replace(/([^,])+/g,ft=>ut.replace(/(^:.*)|([^,])+/g,ht=>/&/.test(ht)?ht.replace(/&/g,ft):ft?ft+" "+ht:ht)):ut):dt!=null&&(ut=/^--/.test(ut)?ut:ut.replace(/[A-Z]/g,"-$&").toLowerCase(),at+=o.p?o.p(ut,dt):ut+":"+dt+";")}return nt+(_e&&at?_e+"{"+at+"}":at)+it},c$1={},s=et=>{if(typeof et=="object"){let _e="";for(let nt in et)_e+=nt+s(et[nt]);return _e}return et},i=(et,_e,nt,it,at)=>{let ut=s(et),dt=c$1[ut]||(c$1[ut]=(ht=>{let ct=0,lt=11;for(;ct<ht.length;)lt=101*lt+ht.charCodeAt(ct++)>>>0;return"go"+lt})(ut));if(!c$1[dt]){let ht=ut!==et?et:(ct=>{let lt,ot,tt=[{}];for(;lt=l.exec(ct.replace(a,""));)lt[4]?tt.shift():lt[3]?(ot=lt[3].replace(n$1," ").trim(),tt.unshift(tt[0][ot]=tt[0][ot]||{})):tt[0][lt[1]]=lt[2].replace(n$1," ").trim();return tt[0]})(et);c$1[dt]=o(at?{["@keyframes "+dt]:ht}:ht,nt?"":"."+dt)}let ft=nt&&c$1.g?c$1.g:null;return nt&&(c$1.g=c$1[dt]),((ht,ct,lt,ot)=>{ot?ct.data=ct.data.replace(ot,ht):ct.data.indexOf(ht)===-1&&(ct.data=lt?ht+ct.data:ct.data+ht)})(c$1[dt],_e,it,ft),dt},p=(et,_e,nt)=>et.reduce((it,at,ut)=>{let dt=_e[ut];if(dt&&dt.call){let ft=dt(nt),ht=ft&&ft.props&&ft.props.className||/^go/.test(ft)&&ft;dt=ht?"."+ht:ft&&typeof ft=="object"?ft.props?"":o(ft,""):ft===!1?"":ft}return it+at+(dt??"")},"");function u$1(et){let _e=this||{},nt=et.call?et(_e.p):et;return i(nt.unshift?nt.raw?p(nt,[].slice.call(arguments,1),_e.p):nt.reduce((it,at)=>Object.assign(it,at&&at.call?at(_e.p):at),{}):nt,t(_e.target),_e.g,_e.o,_e.k)}let d,f,g;u$1.bind({g:1});let h$1=u$1.bind({k:1});function m(et,_e,nt,it){o.p=_e,d=et,f=nt,g=it}function j(et,_e){let nt=this||{};return function(){let it=arguments;function at(ut,dt){let ft=Object.assign({},ut),ht=ft.className||at.className;nt.p=Object.assign({theme:f&&f()},ft),nt.o=/ *go\d+/.test(ht),ft.className=u$1.apply(nt,it)+(ht?" "+ht:""),_e&&(ft.ref=dt);let ct=et;return et[0]&&(ct=ft.as||et,delete ft.as),g&&ct[0]&&g(ft),d(ct,ft)}return _e?_e(at):at}}var W=et=>typeof et=="function",T=(et,_e)=>W(et)?et(_e):et,U=(()=>{let et=0;return()=>(++et).toString()})(),b=(()=>{let et;return()=>{if(et===void 0&&typeof window<"u"){let _e=matchMedia("(prefers-reduced-motion: reduce)");et=!_e||_e.matches}return et}})(),Q=20,S=new Map,X=1e3,$=et=>{if(S.has(et))return;let _e=setTimeout(()=>{S.delete(et),u({type:4,toastId:et})},X);S.set(et,_e)},J=et=>{let _e=S.get(et);_e&&clearTimeout(_e)},v=(et,_e)=>{switch(_e.type){case 0:return{...et,toasts:[_e.toast,...et.toasts].slice(0,Q)};case 1:return _e.toast.id&&J(_e.toast.id),{...et,toasts:et.toasts.map(ut=>ut.id===_e.toast.id?{...ut,..._e.toast}:ut)};case 2:let{toast:nt}=_e;return et.toasts.find(ut=>ut.id===nt.id)?v(et,{type:1,toast:nt}):v(et,{type:0,toast:nt});case 3:let{toastId:it}=_e;return it?$(it):et.toasts.forEach(ut=>{$(ut.id)}),{...et,toasts:et.toasts.map(ut=>ut.id===it||it===void 0?{...ut,visible:!1}:ut)};case 4:return _e.toastId===void 0?{...et,toasts:[]}:{...et,toasts:et.toasts.filter(ut=>ut.id!==_e.toastId)};case 5:return{...et,pausedAt:_e.time};case 6:let at=_e.time-(et.pausedAt||0);return{...et,pausedAt:void 0,toasts:et.toasts.map(ut=>({...ut,pauseDuration:ut.pauseDuration+at}))}}},A=[],P={toasts:[],pausedAt:void 0},u=et=>{P=v(P,et),A.forEach(_e=>{_e(P)})},Y={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},I=(et={})=>{let[_e,nt]=reactExports.useState(P);reactExports.useEffect(()=>(A.push(nt),()=>{let at=A.indexOf(nt);at>-1&&A.splice(at,1)}),[_e]);let it=_e.toasts.map(at=>{var ut,dt;return{...et,...et[at.type],...at,duration:at.duration||((ut=et[at.type])==null?void 0:ut.duration)||(et==null?void 0:et.duration)||Y[at.type],style:{...et.style,...(dt=et[at.type])==null?void 0:dt.style,...at.style}}});return{..._e,toasts:it}},G=(et,_e="blank",nt)=>({createdAt:Date.now(),visible:!0,type:_e,ariaProps:{role:"status","aria-live":"polite"},message:et,pauseDuration:0,...nt,id:(nt==null?void 0:nt.id)||U()}),h=et=>(_e,nt)=>{let it=G(_e,et,nt);return u({type:2,toast:it}),it.id},n=(et,_e)=>h("blank")(et,_e);n.error=h("error");n.success=h("success");n.loading=h("loading");n.custom=h("custom");n.dismiss=et=>{u({type:3,toastId:et})};n.remove=et=>u({type:4,toastId:et});n.promise=(et,_e,nt)=>{let it=n.loading(_e.loading,{...nt,...nt==null?void 0:nt.loading});return et.then(at=>(n.success(T(_e.success,at),{id:it,...nt,...nt==null?void 0:nt.success}),at)).catch(at=>{n.error(T(_e.error,at),{id:it,...nt,...nt==null?void 0:nt.error})}),et};var Z=(et,_e)=>{u({type:1,toast:{id:et,height:_e}})},ee=()=>{u({type:5,time:Date.now()})},D=et=>{let{toasts:_e,pausedAt:nt}=I(et);reactExports.useEffect(()=>{if(nt)return;let ut=Date.now(),dt=_e.map(ft=>{if(ft.duration===1/0)return;let ht=(ft.duration||0)+ft.pauseDuration-(ut-ft.createdAt);if(ht<0){ft.visible&&n.dismiss(ft.id);return}return setTimeout(()=>n.dismiss(ft.id),ht)});return()=>{dt.forEach(ft=>ft&&clearTimeout(ft))}},[_e,nt]);let it=reactExports.useCallback(()=>{nt&&u({type:6,time:Date.now()})},[nt]),at=reactExports.useCallback((ut,dt)=>{let{reverseOrder:ft=!1,gutter:ht=8,defaultPosition:ct}=dt||{},lt=_e.filter(rt=>(rt.position||ct)===(ut.position||ct)&&rt.height),ot=lt.findIndex(rt=>rt.id===ut.id),tt=lt.filter((rt,st)=>st<ot&&rt.visible).length;return lt.filter(rt=>rt.visible).slice(...ft?[tt+1]:[0,tt]).reduce((rt,st)=>rt+(st.height||0)+ht,0)},[_e]);return{toasts:_e,handlers:{updateHeight:Z,startPause:ee,endPause:it,calculateOffset:at}}},oe=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,re=h$1`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,se=h$1`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${et=>et.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${re} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${et=>et.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${se} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ne=h$1`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V$1=j("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${et=>et.secondary||"#e0e0e0"};
  border-right-color: ${et=>et.primary||"#616161"};
  animation: ${ne} 1s linear infinite;
`,pe=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,de=h$1`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,w=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${et=>et.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${de} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${et=>et.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ue=j("div")`
  position: absolute;
`,le=j("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Te=h$1`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fe=j("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Te} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M=({toast:et})=>{let{icon:_e,type:nt,iconTheme:it}=et;return _e!==void 0?typeof _e=="string"?reactExports.createElement(fe,null,_e):_e:nt==="blank"?null:reactExports.createElement(le,null,reactExports.createElement(V$1,{...it}),nt!=="loading"&&reactExports.createElement(ue,null,nt==="error"?reactExports.createElement(_,{...it}):reactExports.createElement(w,{...it})))},ye=et=>`
0% {transform: translate3d(0,${et*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ge=et=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${et*-150}%,-1px) scale(.6); opacity:0;}
`,he="0%{opacity:0;} 100%{opacity:1;}",xe="0%{opacity:1;} 100%{opacity:0;}",be=j("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Se=j("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ae=(et,_e)=>{let nt=et.includes("top")?1:-1,[it,at]=b()?[he,xe]:[ye(nt),ge(nt)];return{animation:_e?`${h$1(it)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$1(at)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},F=reactExports.memo(({toast:et,position:_e,style:nt,children:it})=>{let at=et.height?Ae(et.position||_e||"top-center",et.visible):{opacity:0},ut=reactExports.createElement(M,{toast:et}),dt=reactExports.createElement(Se,{...et.ariaProps},T(et.message,et));return reactExports.createElement(be,{className:et.className,style:{...at,...nt,...et.style}},typeof it=="function"?it({icon:ut,message:dt}):reactExports.createElement(reactExports.Fragment,null,ut,dt))});m(reactExports.createElement);var Ee=({id:et,className:_e,style:nt,onHeightUpdate:it,children:at})=>{let ut=reactExports.useCallback(dt=>{if(dt){let ft=()=>{let ht=dt.getBoundingClientRect().height;it(et,ht)};ft(),new MutationObserver(ft).observe(dt,{subtree:!0,childList:!0,characterData:!0})}},[et,it]);return reactExports.createElement("div",{ref:ut,className:_e,style:nt},at)},Re=(et,_e)=>{let nt=et.includes("top"),it=nt?{top:0}:{bottom:0},at=et.includes("center")?{justifyContent:"center"}:et.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:b()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${_e*(nt?1:-1)}px)`,...it,...at}},ve=u$1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,O=16,Ie=({reverseOrder:et,position:_e="top-center",toastOptions:nt,gutter:it,children:at,containerStyle:ut,containerClassName:dt})=>{let{toasts:ft,handlers:ht}=D(nt);return reactExports.createElement("div",{style:{position:"fixed",zIndex:9999,top:O,left:O,right:O,bottom:O,pointerEvents:"none",...ut},className:dt,onMouseEnter:ht.startPause,onMouseLeave:ht.endPause},ft.map(ct=>{let lt=ct.position||_e,ot=ht.calculateOffset(ct,{reverseOrder:et,gutter:it,defaultPosition:_e}),tt=Re(lt,ot);return reactExports.createElement(Ee,{id:ct.id,key:ct.id,onHeightUpdate:ht.updateHeight,className:ct.visible?ve:"",style:tt},ct.type==="custom"?T(ct.message,ct):at?at(ct):reactExports.createElement(F,{toast:ct,position:lt}))}))},_t=n,Kind=(et=>(et[et.Out=0]="Out",et[et.Empty=1]="Empty",et[et.Unknown=2]="Unknown",et[et.Red=3]="Red",et[et.Blue=4]="Blue",et[et.Green=5]="Green",et[et.Yellow=6]="Yellow",et[et.Aqua=7]="Aqua",et[et.Pink=8]="Pink",et[et.Special=9]="Special",et[et.Bomb=10]="Bomb",et[et.HRocket=11]="HRocket",et[et.VRocket=12]="VRocket",et[et.Missile=13]="Missile",et[et.Mouse=14]="Mouse",et[et.Wood=15]="Wood",et))(Kind||{});const boosters=[9,10,11,12,13],colors$1=[3,4,5,6,7,8];function getKind(et){return et instanceof Object?et.kind:et}function isBooster(et){return boosters.includes(et)}function isColor(et){return colors$1.includes(et)}class Piece{constructor(_e,nt=0){this.face=_e,this.ice=nt}get kind(){return getKind(this.face)}isBooster(){return isBooster(this.face)}isColor(){return isColor(this.face)}}class Board{constructor(_e,nt){Fn(this,"pieces");Fn(this,"upstreams");Fn(this,"killers");Fn(this,"fallablePositions");this.pieces=Array.from({length:_e+2},()=>Array.from({length:nt+2},()=>new Piece(0))),this.upstreams=Array.from({length:_e+2},(it,at)=>Array.from({length:nt+2},(ut,dt)=>[at,dt-1])),this.killers={}}get width(){return this.pieces.length-2}get height(){return this.pieces[0].length-2}piece(_e){return this.pieces[_e[0]][_e[1]]}setPiece(_e,nt){const[it,at]=_e;this.pieces=[...this.pieces.slice(0,it),[...this.pieces[it].slice(0,at),nt,...this.pieces[it].slice(at+1)],...this.pieces.slice(it+1)]}upstream(_e){return this.upstreams[_e[0]][_e[1]]}setUpstream(_e,nt){this.upstreams[_e[0]][_e[1]]=nt}*allPositions(){for(let _e=1;_e<=this.width;_e++)for(let nt=1;nt<=this.height;nt++)yield[_e,nt]}killer(_e,nt){const it=this.killers[_e];return it===void 0||nt===void 0?0:nt===10?it.bomb??0:nt===11||nt===12?it.rocket??0:nt===13?it.missile??0:nt===9?Math.max(it.bomb??0,it.rocket??0,it.missile??0):0}}function dedent(et){for(var _e=[],nt=1;nt<arguments.length;nt++)_e[nt-1]=arguments[nt];var it=Array.from(typeof et=="string"?[et]:et);it[it.length-1]=it[it.length-1].replace(/\r?\n([\t ]*)$/,"");var at=it.reduce(function(ft,ht){var ct=ht.match(/\n([\t ]+|(?!\s).)/g);return ct?ft.concat(ct.map(function(lt){var ot,tt;return(tt=(ot=lt.match(/[\t ]/g))===null||ot===void 0?void 0:ot.length)!==null&&tt!==void 0?tt:0})):ft},[]);if(at.length){var ut=new RegExp(`
[	 ]{`+Math.min.apply(Math,at)+"}","g");it=it.map(function(ft){return ft.replace(ut,`
`)})}it[0]=it[0].replace(/^\r?\n/,"");var dt=it[0];return _e.forEach(function(ft,ht){var ct=dt.match(/(?:^|\n)( *)$/),lt=ct?ct[1]:"",ot=ft;typeof ft=="string"&&ft.includes(`
`)&&(ot=String(ft).split(`
`).map(function(tt,rt){return rt===0?tt:""+lt+tt}).join(`
`)),dt+=ot+it[ht+1]}),dt}function load(et){const _e=new Board(et.width??9,et.height??9);return et.colors!==void 0&&updateColor(_e,et.colors),et.mice!==void 0&&updateMouse(_e,et.mice),et.woods!==void 0&&updateWood(_e,et.woods),et.ices!==void 0&&updateIce(_e,et.ices),et.upstreams!==void 0&&updateUpstream(_e,et.upstreams),et.warps!==void 0&&updateWarp(_e,et.warps),_e}function updateColor(et,_e){for(const[nt,it]of tokens(_e)){let at;if(it==="r"?at=Kind.Red:it==="b"?at=Kind.Blue:it==="g"?at=Kind.Green:it==="y"?at=Kind.Yellow:it==="a"?at=Kind.Aqua:it==="p"?at=Kind.Pink:it==="."&&(at=Kind.Unknown),at!==void 0){const ut=et.piece(nt);et.setPiece(nt,new Piece(at,ut.ice))}}}function updateMouse(et,_e){for(const[nt,it]of positiveDigitToken(_e)){const at=et.piece(nt);et.setPiece(nt,new Piece({kind:Kind.Mouse,count:it},at.ice))}}function updateWood(et,_e){for(const[nt,it]of positiveDigitToken(_e)){const at=et.piece(nt);et.setPiece(nt,new Piece({kind:Kind.Wood,count:it},at.ice))}}function updateIce(et,_e){for(const[nt,it]of positiveDigitToken(_e)){const at=et.piece(nt);et.setPiece(nt,new Piece(at.face,it))}}function updateUpstream(et,_e){for(const[nt,it]of tokens(_e)){let at;if(it==="1"?at=[-1,-1]:it==="2"||it==="u"?at=[0,-1]:it==="3"?at=[1,-1]:it==="4"||it==="l"?at=[-1,0]:it==="6"||it==="r"?at=[1,0]:it==="7"?at=[-1,1]:it==="8"||it==="d"?at=[0,1]:it==="9"&&(at=[1,1]),at!==void 0){et.setUpstream(nt,[nt[0]+at[0],nt[1]+at[1]]);const ut=et.piece(nt);ut.face===Kind.Out&&et.setPiece(nt,new Piece(Kind.Unknown,ut.ice))}}}function updateWarp(et,_e){const nt=new Map;for(const[it,at]of tokens(_e)){if(!/^a-z$/i.test(at))continue;const ut=at.toLowerCase();let dt=nt.get(ut);dt===void 0&&(dt=[],nt.set(ut,dt)),at===ut?dt.unshift(it):dt.push(it)}for(const it of nt.values()){if(it.length!==2)continue;const[at,ut]=it;et.setUpstream(ut,at)}}function*tokens(et){for(const[_e,nt]of dedent(et).split(`
`).entries())for(const[it,at]of[...nt].entries())yield[[it+1,_e+1],at]}function*positiveDigitToken(et){for(const[_e,nt]of tokens(et))/^\d+$/.test(nt)&&parseInt(nt,10)>0&&(yield[_e,parseInt(nt,10)])}var tsPriorityQueue={},PriorityQueue$1={},BinaryHeapStrategy$1={};Object.defineProperty(BinaryHeapStrategy$1,"__esModule",{value:!0});class BinaryHeapStrategy{constructor(_e){this.comparator=_e.comparator,this.data=_e.initialValues?_e.initialValues.slice(0):[],this._heapify()}_heapify(){if(this.data.length>0)for(let _e=0;_e<this.data.length;_e++)this._bubbleUp(_e)}queue(_e){this.data.push(_e),this._bubbleUp(this.data.length-1)}dequeue(){const _e=this.data[0],nt=this.data.pop();return this.data.length>0&&nt!==void 0&&(this.data[0]=nt,this._bubbleDown(0)),_e}peek(){return this.data[0]}clear(){this.data.length=0}_bubbleUp(_e){for(;_e>0;){const nt=_e-1>>>1;if(this.comparator(this.data[_e],this.data[nt])<0){const it=this.data[nt];this.data[nt]=this.data[_e],this.data[_e]=it,_e=nt}else break}}_bubbleDown(_e){let nt=this.data.length-1;for(;;){const it=(_e<<1)+1,at=it+1;let ut=_e;if(it<=nt&&this.comparator(this.data[it],this.data[ut])<0&&(ut=it),at<=nt&&this.comparator(this.data[at],this.data[ut])<0&&(ut=at),ut!==_e){const dt=this.data[ut];this.data[ut]=this.data[_e],this.data[_e]=dt,_e=ut}else break}}}BinaryHeapStrategy$1.default=BinaryHeapStrategy;Object.defineProperty(PriorityQueue$1,"__esModule",{value:!0});const BinaryHeapStrategy_1=BinaryHeapStrategy$1;class PriorityQueue{constructor(_e){this._length=0,this._length=_e.initialValues?_e.initialValues.length:0,this.strategy=new BinaryHeapStrategy_1.default(_e)}get length(){return this._length}queue(_e){this._length++,this.strategy.queue(_e)}dequeue(){if(!this._length)throw new Error("Empty queue");return this._length--,this.strategy.dequeue()}peek(){if(!this._length)throw new Error("Empty queue");return this.strategy.peek()}clear(){this._length=0,this.strategy.clear()}}PriorityQueue$1.default=PriorityQueue;Object.defineProperty(tsPriorityQueue,"__esModule",{value:!0});const PriorityQueue_1=PriorityQueue$1;var _default=tsPriorityQueue.default=PriorityQueue_1.default;function range(et,_e){return Array.from({length:_e-et},(nt,it)=>it+et)}const gr=class gr extends Error{};gr.prototype.name="NotImplemented";let NotImplemented=gr;class GeneralSet{constructor(_e,nt=void 0){Fn(this,"map");if(this.keyFn=_e,this.map=new Map,nt!==void 0)for(const it of nt)this.add(it)}[Symbol.iterator](){return this.map.values()}add(_e){return this.map.set(this.keyFn(_e),_e),this}delete(_e){return this.map.delete(this.keyFn(_e))}has(_e){return this.map.has(this.keyFn(_e))}}function partition(et,_e){const nt=[],it=[];for(const at of et)(_e(at)?nt:it).push(at);return[nt,it]}var Direction=(et=>(et[et.Up=0]="Up",et[et.Down=1]="Down",et[et.Left=2]="Left",et[et.Right=3]="Right",et[et.Zero=4]="Zero",et))(Direction||{});class Move{constructor(_e,nt,it=!1){this.position=_e,this.direction=nt,this.swapSkill=it}diff(){switch(this.direction){case 0:return[0,-1];case 1:return[0,1];case 2:return[-1,0];case 3:return[1,0];case 4:return[0,0]}}positions(){return[this.position,add(this.position,this.diff())]}}const mr=class mr extends Error{};mr.prototype.name="InvalidMove";let InvalidMove=mr;var MoveScene=(et=>(et[et.Swap=0]="Swap",et[et.Match=1]="Match",et[et.Fall=2]="Fall",et))(MoveScene||{});function*moveScenes(et,_e){const nt=new BoardMove(et,_e);if(nt.pieces().some(isFixedPiece))throw new InvalidMove;if(_e.direction===4){const[dt]=nt.pieces();if(!dt.isBooster()||dt.face===Kind.Special)throw new InvalidMove}let it;nt.isCombo()?(it=et.piece(_e.position),fallAt(et,_e.position,nt.positions()[1])):nt.swap();let at=findMatches(et).map(dt=>fixBoosterPosition(dt,nt.positions()));if(it===void 0&&at.length===0&&nt.boosterCount()===0&&!nt.swapSkill)throw nt.swap(),new InvalidMove;yield 0;let ut;if(it!==void 0||!_e.swapSkill&&nt.boosterCount()>0){let dt,ft;if(it!==void 0){dt=nt.positions()[1];const[ct,lt]=[it,et.piece(dt)];ct.isBooster()&&lt.isBooster()?ft=[ct.face,lt.face]:ct.isColor()?ft=[Kind.Special,ct.face]:ft=[Kind.Special,lt.face]}else{const[ct,lt]=nt.booster();dt=ct,ft=lt}const ht=boosterEffects(et,dt,ft);applyBoosterEffects(et,dt,ht),ut=new GeneralSet(positionToInt,[...ht.values()].flat())}do applyMatches(et,at,ut),ut=void 0,yield 1,fall(et)&&(yield 2),at=findMatches(et);while(at.length>0)}function canMove(et,_e){const nt=new BoardMove(et,_e);if(nt.pieces().some(isFixedPiece))return!1;if(_e.direction===4){const[at]=nt.pieces();return at.isBooster()&&at.face!==Kind.Special}if(nt.swapSkill||nt.boosterCount()>0)return!0;nt.swap();const it=findMatches(et).length>0;return nt.swap(),it}function isCombo(et,_e){return new BoardMove(et,_e).isCombo()}class Match{constructor(_e=[],nt=void 0){this.positions=_e,this.booster=nt}}class Line{constructor(_e,nt,it){this.axis=_e,this.position=nt,this.length=it}get x(){return this.position[0]}get y(){return this.position[1]}positions(){return this.axis===0?range(this.x,this.x+this.length).map(_e=>[_e,this.y]):range(this.y,this.y+this.length).map(_e=>[this.x,_e])}center(){return this.axis===0?[this.x+Math.ceil((this.length-1)/2),this.y]:[this.x,this.y+Math.floor((this.length-1)/2)]}split(_e){const nt=[],[it,at]=_e;return this.axis===0?(it-this.x>=3&&nt.push(new Line(0,this.position,it-this.x)),this.x+this.length-1-it>=3&&nt.push(new Line(0,[it+1,this.y],this.x+this.length-1-it))):(at-this.y>=3&&nt.push(new Line(1,this.position,at-this.y)),this.y+this.length-1-at>=3&&nt.push(new Line(1,[this.x,at+1],this.y+this.length-1-at))),nt}}class BoardMove{constructor(_e,nt){this.board=_e,this.move=nt}get swapSkill(){return this.move.swapSkill??!1}positions(){return this.move.positions()}uniquePositions(){return this.move.direction===4?[this.move.position]:this.positions()}pieces(){return this.positions().map(_e=>this.board.piece(_e))}boosterCount(){return this.uniquePositions().filter(_e=>this.board.piece(_e).isBooster()).length}booster(){for(const _e of this.positions()){const nt=this.board.piece(_e);if(nt.isBooster())return[_e,nt.face]}}color(){for(const _e of this.positions()){const nt=this.board.piece(_e);if(nt.isColor())return nt.face}}isCombo(){if(this.swapSkill||this.move.direction===4)return!1;const[_e,nt]=this.pieces();return!!(_e.isBooster()&&nt.isBooster()||_e.face===Kind.Special&&nt.isColor()||_e.isColor()&&nt.face===Kind.Special)}swap(){const[_e,nt]=this.positions(),it=this.board.piece(nt);this.board.setPiece(nt,this.board.piece(_e)),this.board.setPiece(_e,it)}}function add(et,_e){return[et[0]+_e[0],et[1]+_e[1]]}function isFixedPiece(et){return et.ice>0?!0:et.face===Kind.Out||et.face===Kind.Empty||et.face===Kind.Unknown}function findMatches(et){const _e=[],nt=createLineMap(et);for(const it of[...nt.lines])it.length<5||(_e.push(new Match(it.positions(),{kind:Kind.Special,position:it.center()})),nt.delete(it));for(const[[it,at],ut]of nt.crosses()){const[dt,ft]=ut[0].axis===0?ut:[ut[1],ut[0]];let ht,ct,lt=!0;dt.x<it&&it<dt.x+dt.length-1&&ft.y<at&&at<ft.y+ft.length-1?(ht=it-1,ct=at-1,lt=!1):(dt.x<=it-2?ht=it-2:dt.x+dt.length-1>=it+2?ht=it:(ht=it-1,lt=!1),ft.y<=at-2?ct=at-2:ft.y+ft.length-1>=at+2?ct=at:(ct=at-1,lt=!1)),_e.push(new Match(range(0,3).map(ot=>[ht+ot,at]).filter(([ot,tt])=>ot!==it||tt!==at).concat(range(0,3).map(ot=>[it,ct+ot])),{kind:Kind.Bomb,position:lt?[it,at]:[ht+1,ct+1]}));for(const ot of[...ut])nt.delete(ot)}for(const it of[...nt.lines])it.length===4&&(_e.push(new Match(it.positions(),{kind:it.axis===0?Kind.VRocket:Kind.HRocket,position:it.center()})),nt.delete(it));for(const[it,at]of findSquares(et,new GeneralSet(positionToInt,_e.map(ut=>ut.positions).flat()))){const ut=new GeneralSet(positionToInt),dt=new Set;for(const ht of squarePositions([it,at])){ut.add(ht);const ct=nt.linesAt(ht);if(ct!==void 0)for(const lt of ct)dt.add(lt)}const ft=[it+1,at+1];if(dt.size>0){const[ht]=dt;for(const ct of ht.positions())ut.add(ct);(ht.axis===0&&ht.x<it||ht.axis===1&&ht.x>it)&&(ft[0]=it),(ht.axis===1&&ht.y<at||ht.axis===0&&ht.y>at)&&(ft[1]=at);for(const ct of dt)nt.delete(ct)}_e.push(new Match([...ut],{kind:Kind.Missile,position:ft}))}return _e.concat(Array.from(nt.lines).map(it=>new Match(it.positions())))}class LineMap{constructor(){Fn(this,"lines");Fn(this,"map");this.lines=new Set,this.map=new Map}add(_e){this.lines.add(_e);for(const nt of _e.positions()){const it=positionToInt(nt),at=this.map.get(it);at!==void 0?at.push(_e):this.map.set(it,[_e])}}delete(_e){this.lines.delete(_e);for(const nt of _e.positions()){const it=positionToInt(nt),at=this.map.get(it);if(at===void 0)continue;const ut=at.indexOf(_e);ut!==-1&&(at.length===1?this.map.delete(it):at.splice(ut,1))}}linesAt(_e){return this.map.get(positionToInt(_e))}crosses(){const _e=[];for(const[nt,it]of this.map)it.length===2&&_e.push([intToPosition(nt),it]);return _e}}function positionToInt(et){return et[0]*10+et[1]}function intToPosition(et){return[Math.floor(et/10),et%10]}function createLineMap(et){const _e=new LineMap,nt=new _default({comparator:(it,at)=>it.length!==at.length?at.length-it.length:it.axis-at.axis});for(const it of findLines(et))nt.queue(it);for(;nt.length>0;){const it=nt.dequeue();let at=!1;for(const ut of it.positions()){const dt=_e.linesAt(ut);if(dt!==void 0&&dt[0].length>=5){for(const ft of it.split(ut))nt.queue(ft);at=!0;break}}at||_e.add(it)}return _e}function findLines(et){const _e=[];for(const nt of range(1,et.height+1)){let it=1;for(;it<et.width-1;){const at=et.piece([it,nt]);if(!at.isColor()){it+=1;continue}for(const ut of range(it+1,et.width+2))if(et.piece([ut,nt]).face!==at.face){ut-it>=3&&_e.push(new Line(0,[it,nt],ut-it)),it=ut;break}}}for(const nt of range(1,et.width+1)){let it=1;for(;it<et.height-1;){const at=et.piece([nt,it]);if(!at.isColor()){it+=1;continue}for(const ut of range(it+1,et.height+2))if(et.piece([nt,ut]).face!==at.face){ut-it>=3&&_e.push(new Line(1,[nt,it],ut-it)),it=ut;break}}}return _e}function findSquares(et,_e){const nt=[];for(const it of range(1,et.height+1)){let at=0;for(;at<et.width+1;){const ut=squarePositions([at,it]);if(ut.some(ft=>_e.has(ft))){at+=1;continue}const dt=et.piece([at,it]);if(dt.isColor()&&ut.slice(1).every(ft=>et.piece(ft).face===dt.face)){nt.push([at,it]);for(const ft of ut)_e.add(ft);at+=2;continue}at+=1}}return nt}function squarePositions(et){const[_e,nt]=et;return[[_e,nt],[_e+1,nt],[_e,nt+1],[_e+1,nt+1]]}function fixBoosterPosition(et,_e){if(et.booster===void 0)return et;for(const nt of _e)if(et.positions.some(it=>it[0]===nt[0]&&it[1]===nt[1]))return new Match(et.positions,{kind:et.booster.kind,position:nt});return et}function applyMatches(et,_e,nt){for(const it of _e){for(const at of it.positions)nt!==void 0&&nt.has(at)||et.setPiece(at,matchedPiece(et,et.piece(at)));it.booster!==void 0&&et.piece(it.booster.position).face===Kind.Empty&&et.setPiece(it.booster.position,new Piece(it.booster.kind))}}function boosterEffects(et,_e,nt){const it=new Map,at=new GeneralSet(positionToInt,[_e]),ut=[[_e,nt]];for(;ut.length>0;){const dt=ut.shift();if(dt===void 0)break;const[ft,ht]=dt,ct=boosterRange(et,ft,ht).filter(tt=>!at.has(tt));if(ct.length===0)continue;const lt=boosterEffectAs(ht);let ot=it.get(lt);ot===void 0&&(ot=[],it.set(lt,ot));for(const tt of ct){at.add(tt),ot.push(tt);const rt=et.piece(tt);rt.isBooster()&&ut.push([tt,rt.face])}}return it}function boosterRange(et,_e,nt){const[it,at]=_e,ut=[];function dt(ft){const[ht,ct]=ft;if(ht===it&&ct===at||ht<1||ht>et.width||ct<1||ct>et.height)return;const lt=et.piece(ft);lt.face===Kind.Out||lt.face===Kind.Empty||lt.face===Kind.Unknown||ut.push(ft)}if(nt instanceof Array)if(isColor(nt[1])){const ft=nt[1];for(const ht of et.allPositions())et.piece(ht).face===ft&&dt(ht)}else{const[ft,ht]=nt;if(ft===Kind.Special||ht===Kind.Special)for(const ct of et.allPositions())dt(ct);else if(ft===Kind.Bomb&&ht===Kind.Bomb){for(let ct=-1;ct<=1;ct++)for(let lt=-3;lt<=3;lt++)dt([it+ct,at+lt]);for(let ct=-2;ct<=2;ct++)dt([it-2,at+ct]),dt([it+2,at+ct]);for(let ct=-1;ct<=1;ct++)dt([it-3,at+ct]),dt([it+3,at+ct])}else if(ft===Kind.Bomb&&(ht===Kind.HRocket||ht===Kind.VRocket)||(ft===Kind.HRocket||ft===Kind.VRocket)&&ht===Kind.Bomb){for(let ct=1;ct<=et.width;ct++)dt([ct,at-1]),dt([ct,at]),dt([ct,at+1]);for(let ct=1;ct<=et.height;ct++)at-1<=ct&&ct<=at+1||(dt([it-1,ct]),dt([it,ct]),dt([it+1,ct]))}else if((ft===Kind.HRocket||ft===Kind.VRocket)&&(ht===Kind.HRocket||ht===Kind.VRocket)){for(let ct=1;ct<=et.width;ct++)dt([ct,at]);for(let ct=1;ct<=et.height;ct++)dt([it,ct])}else if(ft===Kind.Missile&&ht===Kind.Missile)for(let ct=-1;ct<=1;ct++)for(let lt=-1;lt<=1;lt++)dt([it+ct,at+lt]);else(ft===Kind.Missile||ht===Kind.Missile)&&(dt([it,at]),dt([it-1,at]),dt([it+1,at]),dt([it,at-1]),dt([it,at+1]))}else if(nt!==Kind.Special)if(nt===Kind.Bomb){for(let ft=-1;ft<=1;ft++)for(let ht=-2;ht<=2;ht++)dt([it+ft,at+ht]);for(let ft=-1;ft<=1;ft++)dt([it-2,at+ft]),dt([it+2,at+ft])}else if(nt===Kind.HRocket)for(let ft=1;ft<=et.width;ft++)dt([ft,at]);else if(nt===Kind.VRocket)for(let ft=1;ft<=et.height;ft++)dt([it,ft]);else nt===Kind.Missile&&(dt([it,at]),dt([it-1,at]),dt([it+1,at]),dt([it,at-1]),dt([it,at+1]));return ut}function boosterEffectAs(et){if(et instanceof Array){if(isColor(et[1]))return Kind.Empty;const[_e,nt]=et;return _e===Kind.Special?nt:nt===Kind.Special?_e:_e===Kind.HRocket||_e===Kind.VRocket||nt===Kind.HRocket||nt===Kind.VRocket?Kind.HRocket:_e===Kind.Bomb||nt===Kind.Bomb?Kind.Bomb:Kind.Missile}return et}function applyBoosterEffects(et,_e,nt){et.setPiece(_e,new Piece(Kind.Empty));for(const[it,at]of nt.entries())for(const ut of at)et.setPiece(ut,matchedPiece(et,et.piece(ut),it===Kind.Empty?void 0:it))}function matchedPiece(et,_e,nt=void 0){if(_e.ice>0){const at=1+et.killer("ice",nt);return new Piece(_e.face,Math.max(_e.ice-at,0))}const it=_e.face;if(it instanceof Object&&it.kind===Kind.Mouse){const at=1+et.killer("mouse",nt);return at<it.count?new Piece({kind:Kind.Mouse,count:it.count-at}):new Piece(Kind.Empty)}if(it instanceof Object&&it.kind===Kind.Wood){const at=1+et.killer("wood",nt);return at<it.count?new Piece({kind:Kind.Wood,count:it.count-at}):new Piece(Kind.Empty)}return new Piece(Kind.Empty)}function fall(et){let _e=!1;for(;;){const nt=findEmpty(et);if(nt===void 0)break;_e=!0,fallAt(et,nt)}return _e}function fallAt(et,_e,nt=void 0){if(_e===nt)return;const it=et.upstream(_e),at=et.piece(it);if(at.face===Kind.Out){et.setPiece(_e,new Piece(Kind.Unknown));return}et.setPiece(_e,at),fallAt(et,it,nt)}function findEmpty(et){for(const _e of getFallablePositions(et))if(et.piece(_e).face===Kind.Empty)return _e}function getFallablePositions(et){if(et.fallablePositions!==void 0)return et.fallablePositions;const _e=Array.from({length:et.width+2},()=>Array.from({length:et.height+2},()=>[]));for(const at of et.allPositions()){if(et.piece(at).face===Kind.Out)continue;const ut=et.upstream(at);et.piece(ut).face!==Kind.Out&&_e[ut[0]][ut[1]].push(at)}const nt=new GeneralSet(positionToInt);function it(at){if(nt.has(at))return;nt.add(at);const[ut,dt]=partition(_e[at[0]][at[1]],ft=>ft[0]===at[0]||ft[1]===at[1]);for(const ft of ut)it(ft);for(const ft of dt)it(ft)}for(const at of et.allPositions())et.piece(at).face!==Kind.Out&&et.piece(et.upstream(at)).face===Kind.Out&&it(at);return et.fallablePositions=[...nt],et.fallablePositions}var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(et){(function(){var _e={}.hasOwnProperty;function nt(){for(var it=[],at=0;at<arguments.length;at++){var ut=arguments[at];if(ut){var dt=typeof ut;if(dt==="string"||dt==="number")it.push(ut);else if(Array.isArray(ut)){if(ut.length){var ft=nt.apply(null,ut);ft&&it.push(ft)}}else if(dt==="object"){if(ut.toString!==Object.prototype.toString&&!ut.toString.toString().includes("[native code]")){it.push(ut.toString());continue}for(var ht in ut)_e.call(ut,ht)&&ut[ht]&&it.push(ht)}}}return it.join(" ")}et.exports?(nt.default=nt,et.exports=nt):window.classNames=nt})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);var __defProp=Object.defineProperty,__export=(et,_e)=>{for(var nt in _e)__defProp(et,nt,{get:_e[nt],enumerable:!0})},globals_exports={};__export(globals_exports,{assign:()=>assign,colors:()=>colors,createStringInterpolator:()=>createStringInterpolator,skipAnimation:()=>skipAnimation,to:()=>to,willAdvance:()=>willAdvance});var updateQueue=makeQueue(),raf=et=>schedule(et,updateQueue),writeQueue=makeQueue();raf.write=et=>schedule(et,writeQueue);var onStartQueue=makeQueue();raf.onStart=et=>schedule(et,onStartQueue);var onFrameQueue=makeQueue();raf.onFrame=et=>schedule(et,onFrameQueue);var onFinishQueue=makeQueue();raf.onFinish=et=>schedule(et,onFinishQueue);var timeouts=[];raf.setTimeout=(et,_e)=>{const nt=raf.now()+_e,it=()=>{const ut=timeouts.findIndex(dt=>dt.cancel==it);~ut&&timeouts.splice(ut,1),pendingCount-=~ut?1:0},at={time:nt,handler:et,cancel:it};return timeouts.splice(findTimeout(nt),0,at),pendingCount+=1,start(),at};var findTimeout=et=>~(~timeouts.findIndex(_e=>_e.time>et)||~timeouts.length);raf.cancel=et=>{onStartQueue.delete(et),onFrameQueue.delete(et),onFinishQueue.delete(et),updateQueue.delete(et),writeQueue.delete(et)};raf.sync=et=>{sync=!0,raf.batchedUpdates(et),sync=!1};raf.throttle=et=>{let _e;function nt(){try{et(..._e)}finally{_e=null}}function it(...at){_e=at,raf.onStart(nt)}return it.handler=et,it.cancel=()=>{onStartQueue.delete(nt),_e=null},it};var nativeRaf=typeof window<"u"?window.requestAnimationFrame:()=>{};raf.use=et=>nativeRaf=et;raf.now=typeof performance<"u"?()=>performance.now():Date.now;raf.batchedUpdates=et=>et();raf.catch=console.error;raf.frameLoop="always";raf.advance=()=>{raf.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update()};var ts=-1,pendingCount=0,sync=!1;function schedule(et,_e){sync?(_e.delete(et),et(0)):(_e.add(et),start())}function start(){ts<0&&(ts=0,raf.frameLoop!=="demand"&&nativeRaf(loop))}function stop(){ts=-1}function loop(){~ts&&(nativeRaf(loop),raf.batchedUpdates(update))}function update(){const et=ts;ts=raf.now();const _e=findTimeout(ts);if(_e&&(eachSafely(timeouts.splice(0,_e),nt=>nt.handler()),pendingCount-=_e),!pendingCount){stop();return}onStartQueue.flush(),updateQueue.flush(et?Math.min(64,ts-et):16.667),onFrameQueue.flush(),writeQueue.flush(),onFinishQueue.flush()}function makeQueue(){let et=new Set,_e=et;return{add(nt){pendingCount+=_e==et&&!et.has(nt)?1:0,et.add(nt)},delete(nt){return pendingCount-=_e==et&&et.has(nt)?1:0,et.delete(nt)},flush(nt){_e.size&&(et=new Set,pendingCount-=_e.size,eachSafely(_e,it=>it(nt)&&et.add(it)),pendingCount+=et.size,_e=et)}}}function eachSafely(et,_e){et.forEach(nt=>{try{_e(nt)}catch(it){raf.catch(it)}})}function noop$1(){}var defineHidden=(et,_e,nt)=>Object.defineProperty(et,_e,{value:nt,writable:!0,configurable:!0}),is={arr:Array.isArray,obj:et=>!!et&&et.constructor.name==="Object",fun:et=>typeof et=="function",str:et=>typeof et=="string",num:et=>typeof et=="number",und:et=>et===void 0};function isEqual(et,_e){if(is.arr(et)){if(!is.arr(_e)||et.length!==_e.length)return!1;for(let nt=0;nt<et.length;nt++)if(et[nt]!==_e[nt])return!1;return!0}return et===_e}var each=(et,_e)=>et.forEach(_e);function eachProp(et,_e,nt){if(is.arr(et)){for(let it=0;it<et.length;it++)_e.call(nt,et[it],`${it}`);return}for(const it in et)et.hasOwnProperty(it)&&_e.call(nt,et[it],it)}var toArray=et=>is.und(et)?[]:is.arr(et)?et:[et];function flush(et,_e){if(et.size){const nt=Array.from(et);et.clear(),each(nt,_e)}}var flushCalls=(et,..._e)=>flush(et,nt=>nt(..._e)),isSSR=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),createStringInterpolator,to,colors=null,skipAnimation=!1,willAdvance=noop$1,assign=et=>{et.to&&(to=et.to),et.now&&(raf.now=et.now),et.colors!==void 0&&(colors=et.colors),et.skipAnimation!=null&&(skipAnimation=et.skipAnimation),et.createStringInterpolator&&(createStringInterpolator=et.createStringInterpolator),et.requestAnimationFrame&&raf.use(et.requestAnimationFrame),et.batchedUpdates&&(raf.batchedUpdates=et.batchedUpdates),et.willAdvance&&(willAdvance=et.willAdvance),et.frameLoop&&(raf.frameLoop=et.frameLoop)},startQueue=new Set,currentFrame=[],prevFrame=[],priority=0,frameLoop={get idle(){return!startQueue.size&&!currentFrame.length},start(et){priority>et.priority?(startQueue.add(et),raf.onStart(flushStartQueue)):(startSafely(et),raf(advance))},advance,sort(et){if(priority)raf.onFrame(()=>frameLoop.sort(et));else{const _e=currentFrame.indexOf(et);~_e&&(currentFrame.splice(_e,1),startUnsafely(et))}},clear(){currentFrame=[],startQueue.clear()}};function flushStartQueue(){startQueue.forEach(startSafely),startQueue.clear(),raf(advance)}function startSafely(et){currentFrame.includes(et)||startUnsafely(et)}function startUnsafely(et){currentFrame.splice(findIndex(currentFrame,_e=>_e.priority>et.priority),0,et)}function advance(et){const _e=prevFrame;for(let nt=0;nt<currentFrame.length;nt++){const it=currentFrame[nt];priority=it.priority,it.idle||(willAdvance(it),it.advance(et),it.idle||_e.push(it))}return priority=0,prevFrame=currentFrame,prevFrame.length=0,currentFrame=_e,currentFrame.length>0}function findIndex(et,_e){const nt=et.findIndex(_e);return nt<0?et.length:nt}var clamp$1=(et,_e,nt)=>Math.min(Math.max(nt,et),_e),colors2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER="[-+]?\\d*\\.?\\d+",PERCENTAGE=NUMBER+"%";function call$1(...et){return"\\(\\s*("+et.join(")\\s*,\\s*(")+")\\s*\\)"}var rgb=new RegExp("rgb"+call$1(NUMBER,NUMBER,NUMBER)),rgba=new RegExp("rgba"+call$1(NUMBER,NUMBER,NUMBER,NUMBER)),hsl=new RegExp("hsl"+call$1(NUMBER,PERCENTAGE,PERCENTAGE)),hsla=new RegExp("hsla"+call$1(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER)),hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6=/^#([0-9a-fA-F]{6})$/,hex8=/^#([0-9a-fA-F]{8})$/;function normalizeColor(et){let _e;return typeof et=="number"?et>>>0===et&&et>=0&&et<=4294967295?et:null:(_e=hex6.exec(et))?parseInt(_e[1]+"ff",16)>>>0:colors&&colors[et]!==void 0?colors[et]:(_e=rgb.exec(et))?(parse255(_e[1])<<24|parse255(_e[2])<<16|parse255(_e[3])<<8|255)>>>0:(_e=rgba.exec(et))?(parse255(_e[1])<<24|parse255(_e[2])<<16|parse255(_e[3])<<8|parse1(_e[4]))>>>0:(_e=hex3.exec(et))?parseInt(_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]+"ff",16)>>>0:(_e=hex8.exec(et))?parseInt(_e[1],16)>>>0:(_e=hex4.exec(et))?parseInt(_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]+_e[4]+_e[4],16)>>>0:(_e=hsl.exec(et))?(hslToRgb(parse360(_e[1]),parsePercentage(_e[2]),parsePercentage(_e[3]))|255)>>>0:(_e=hsla.exec(et))?(hslToRgb(parse360(_e[1]),parsePercentage(_e[2]),parsePercentage(_e[3]))|parse1(_e[4]))>>>0:null}function hue2rgb(et,_e,nt){return nt<0&&(nt+=1),nt>1&&(nt-=1),nt<1/6?et+(_e-et)*6*nt:nt<1/2?_e:nt<2/3?et+(_e-et)*(2/3-nt)*6:et}function hslToRgb(et,_e,nt){const it=nt<.5?nt*(1+_e):nt+_e-nt*_e,at=2*nt-it,ut=hue2rgb(at,it,et+1/3),dt=hue2rgb(at,it,et),ft=hue2rgb(at,it,et-1/3);return Math.round(ut*255)<<24|Math.round(dt*255)<<16|Math.round(ft*255)<<8}function parse255(et){const _e=parseInt(et,10);return _e<0?0:_e>255?255:_e}function parse360(et){return(parseFloat(et)%360+360)%360/360}function parse1(et){const _e=parseFloat(et);return _e<0?0:_e>1?255:Math.round(_e*255)}function parsePercentage(et){const _e=parseFloat(et);return _e<0?0:_e>100?1:_e/100}function colorToRgba(et){let _e=normalizeColor(et);if(_e===null)return et;_e=_e||0;const nt=(_e&4278190080)>>>24,it=(_e&16711680)>>>16,at=(_e&65280)>>>8,ut=(_e&255)/255;return`rgba(${nt}, ${it}, ${at}, ${ut})`}var createInterpolator=(et,_e,nt)=>{if(is.fun(et))return et;if(is.arr(et))return createInterpolator({range:et,output:_e,extrapolate:nt});if(is.str(et.output[0]))return createStringInterpolator(et);const it=et,at=it.output,ut=it.range||[0,1],dt=it.extrapolateLeft||it.extrapolate||"extend",ft=it.extrapolateRight||it.extrapolate||"extend",ht=it.easing||(ct=>ct);return ct=>{const lt=findRange(ct,ut);return interpolate(ct,ut[lt],ut[lt+1],at[lt],at[lt+1],ht,dt,ft,it.map)}};function interpolate(et,_e,nt,it,at,ut,dt,ft,ht){let ct=ht?ht(et):et;if(ct<_e){if(dt==="identity")return ct;dt==="clamp"&&(ct=_e)}if(ct>nt){if(ft==="identity")return ct;ft==="clamp"&&(ct=nt)}return it===at?it:_e===nt?et<=_e?it:at:(_e===-1/0?ct=-ct:nt===1/0?ct=ct-_e:ct=(ct-_e)/(nt-_e),ct=ut(ct),it===-1/0?ct=-ct:at===1/0?ct=ct+it:ct=ct*(at-it)+it,ct)}function findRange(et,_e){for(var nt=1;nt<_e.length-1&&!(_e[nt]>=et);++nt);return nt-1}var steps=(et,_e="end")=>nt=>{nt=_e==="end"?Math.min(nt,.999):Math.max(nt,.001);const it=nt*et,at=_e==="end"?Math.floor(it):Math.ceil(it);return clamp$1(0,1,at/et)},c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*Math.PI/3,c5=2*Math.PI/4.5,bounceOut=et=>et<1/2.75?7.5625*et*et:et<2/2.75?7.5625*(et-=1.5/2.75)*et+.75:et<2.5/2.75?7.5625*(et-=2.25/2.75)*et+.9375:7.5625*(et-=2.625/2.75)*et+.984375,easings={linear:et=>et,easeInQuad:et=>et*et,easeOutQuad:et=>1-(1-et)*(1-et),easeInOutQuad:et=>et<.5?2*et*et:1-Math.pow(-2*et+2,2)/2,easeInCubic:et=>et*et*et,easeOutCubic:et=>1-Math.pow(1-et,3),easeInOutCubic:et=>et<.5?4*et*et*et:1-Math.pow(-2*et+2,3)/2,easeInQuart:et=>et*et*et*et,easeOutQuart:et=>1-Math.pow(1-et,4),easeInOutQuart:et=>et<.5?8*et*et*et*et:1-Math.pow(-2*et+2,4)/2,easeInQuint:et=>et*et*et*et*et,easeOutQuint:et=>1-Math.pow(1-et,5),easeInOutQuint:et=>et<.5?16*et*et*et*et*et:1-Math.pow(-2*et+2,5)/2,easeInSine:et=>1-Math.cos(et*Math.PI/2),easeOutSine:et=>Math.sin(et*Math.PI/2),easeInOutSine:et=>-(Math.cos(Math.PI*et)-1)/2,easeInExpo:et=>et===0?0:Math.pow(2,10*et-10),easeOutExpo:et=>et===1?1:1-Math.pow(2,-10*et),easeInOutExpo:et=>et===0?0:et===1?1:et<.5?Math.pow(2,20*et-10)/2:(2-Math.pow(2,-20*et+10))/2,easeInCirc:et=>1-Math.sqrt(1-Math.pow(et,2)),easeOutCirc:et=>Math.sqrt(1-Math.pow(et-1,2)),easeInOutCirc:et=>et<.5?(1-Math.sqrt(1-Math.pow(2*et,2)))/2:(Math.sqrt(1-Math.pow(-2*et+2,2))+1)/2,easeInBack:et=>c3*et*et*et-c1*et*et,easeOutBack:et=>1+c3*Math.pow(et-1,3)+c1*Math.pow(et-1,2),easeInOutBack:et=>et<.5?Math.pow(2*et,2)*((c2+1)*2*et-c2)/2:(Math.pow(2*et-2,2)*((c2+1)*(et*2-2)+c2)+2)/2,easeInElastic:et=>et===0?0:et===1?1:-Math.pow(2,10*et-10)*Math.sin((et*10-10.75)*c4),easeOutElastic:et=>et===0?0:et===1?1:Math.pow(2,-10*et)*Math.sin((et*10-.75)*c4)+1,easeInOutElastic:et=>et===0?0:et===1?1:et<.5?-(Math.pow(2,20*et-10)*Math.sin((20*et-11.125)*c5))/2:Math.pow(2,-20*et+10)*Math.sin((20*et-11.125)*c5)/2+1,easeInBounce:et=>1-bounceOut(1-et),easeOutBounce:bounceOut,easeInOutBounce:et=>et<.5?(1-bounceOut(1-2*et))/2:(1+bounceOut(2*et-1))/2,steps},$get=Symbol.for("FluidValue.get"),$observers=Symbol.for("FluidValue.observers"),hasFluidValue=et=>!!(et&&et[$get]),getFluidValue=et=>et&&et[$get]?et[$get]():et,getFluidObservers=et=>et[$observers]||null;function callFluidObserver(et,_e){et.eventObserved?et.eventObserved(_e):et(_e)}function callFluidObservers(et,_e){const nt=et[$observers];nt&&nt.forEach(it=>{callFluidObserver(it,_e)})}var FluidValue=class{constructor(et){if(!et&&!(et=this.get))throw Error("Unknown getter");setFluidGetter(this,et)}},setFluidGetter=(et,_e)=>setHidden(et,$get,_e);function addFluidObserver(et,_e){if(et[$get]){let nt=et[$observers];nt||setHidden(et,$observers,nt=new Set),nt.has(_e)||(nt.add(_e),et.observerAdded&&et.observerAdded(nt.size,_e))}return _e}function removeFluidObserver(et,_e){const nt=et[$observers];if(nt&&nt.has(_e)){const it=nt.size-1;it?nt.delete(_e):et[$observers]=null,et.observerRemoved&&et.observerRemoved(it,_e)}}var setHidden=(et,_e,nt)=>Object.defineProperty(et,_e,{value:nt,writable:!0,configurable:!0}),numberRegex=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex=new RegExp(`(${numberRegex.source})(%|[a-z]+)`,"i"),rgbaRegex=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba=et=>{const[_e,nt]=parseCSSVariable(et);if(!_e||isSSR())return et;const it=window.getComputedStyle(document.documentElement).getPropertyValue(_e);if(it)return it.trim();if(nt&&nt.startsWith("--")){const at=window.getComputedStyle(document.documentElement).getPropertyValue(nt);return at||et}else{if(nt&&cssVariableRegex.test(nt))return variableToRgba(nt);if(nt)return nt}return et},parseCSSVariable=et=>{const _e=cssVariableRegex.exec(et);if(!_e)return[,];const[,nt,it]=_e;return[nt,it]},namedColorRegex,rgbaRound=(et,_e,nt,it,at)=>`rgba(${Math.round(_e)}, ${Math.round(nt)}, ${Math.round(it)}, ${at})`,createStringInterpolator2=et=>{namedColorRegex||(namedColorRegex=colors?new RegExp(`(${Object.keys(colors).join("|")})(?!\\w)`,"g"):/^\b$/);const _e=et.output.map(ut=>getFluidValue(ut).replace(cssVariableRegex,variableToRgba).replace(colorRegex,colorToRgba).replace(namedColorRegex,colorToRgba)),nt=_e.map(ut=>ut.match(numberRegex).map(Number)),at=nt[0].map((ut,dt)=>nt.map(ft=>{if(!(dt in ft))throw Error('The arity of each "output" value must be equal');return ft[dt]})).map(ut=>createInterpolator({...et,output:ut}));return ut=>{var ht;const dt=!unitRegex.test(_e[0])&&((ht=_e.find(ct=>unitRegex.test(ct)))==null?void 0:ht.replace(numberRegex,""));let ft=0;return _e[0].replace(numberRegex,()=>`${at[ft++](ut)}${dt||""}`).replace(rgbaRegex,rgbaRound)}},prefix="react-spring: ",once=et=>{const _e=et;let nt=!1;if(typeof _e!="function")throw new TypeError(`${prefix}once requires a function parameter`);return(...it)=>{nt||(_e(...it),nt=!0)}},warnInterpolate=once(console.warn);function deprecateInterpolate(){warnInterpolate(`${prefix}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var warnDirectCall=once(console.warn);function deprecateDirectCall(){warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function isAnimatedString(et){return is.str(et)&&(et[0]=="#"||/\d/.test(et)||!isSSR()&&cssVariableRegex.test(et)||et in(colors||{}))}var useIsomorphicLayoutEffect=isSSR()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted=()=>{const et=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(et.current=!0,()=>{et.current=!1}),[]),et};function useForceUpdate(){const et=reactExports.useState()[1],_e=useIsMounted();return()=>{_e.current&&et(Math.random())}}function useMemoOne(et,_e){const[nt]=reactExports.useState(()=>({inputs:_e,result:et()})),it=reactExports.useRef(),at=it.current;let ut=at;return ut?_e&&ut.inputs&&areInputsEqual(_e,ut.inputs)||(ut={inputs:_e,result:et()}):ut=nt,reactExports.useEffect(()=>{it.current=ut,at==nt&&(nt.inputs=nt.result=void 0)},[ut]),ut.result}function areInputsEqual(et,_e){if(et.length!==_e.length)return!1;for(let nt=0;nt<et.length;nt++)if(et[nt]!==_e[nt])return!1;return!0}var useOnce=et=>reactExports.useEffect(et,emptyDeps),emptyDeps=[];function usePrev(et){const _e=reactExports.useRef();return reactExports.useEffect(()=>{_e.current=et}),_e.current}var $node=Symbol.for("Animated:node"),isAnimated=et=>!!et&&et[$node]===et,getAnimated=et=>et&&et[$node],setAnimated=(et,_e)=>defineHidden(et,$node,_e),getPayload=et=>et&&et[$node]&&et[$node].getPayload(),Animated=class{constructor(){setAnimated(this,this)}getPayload(){return this.payload||[]}},AnimatedValue=class extends Animated{constructor(et){super(),this._value=et,this.done=!0,this.durationProgress=0,is.num(this._value)&&(this.lastPosition=this._value)}static create(et){return new AnimatedValue(et)}getPayload(){return[this]}getValue(){return this._value}setValue(et,_e){return is.num(et)&&(this.lastPosition=et,_e&&(et=Math.round(et/_e)*_e,this.done&&(this.lastPosition=et))),this._value===et?!1:(this._value=et,!0)}reset(){const{done:et}=this;this.done=!1,is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,et&&(this.lastVelocity=null),this.v0=null)}},AnimatedString=class extends AnimatedValue{constructor(et){super(0),this._string=null,this._toString=createInterpolator({output:[et,et]})}static create(et){return new AnimatedString(et)}getValue(){const et=this._string;return et??(this._string=this._toString(this._value))}setValue(et){if(is.str(et)){if(et==this._string)return!1;this._string=et,this._value=1}else if(super.setValue(et))this._string=null;else return!1;return!0}reset(et){et&&(this._toString=createInterpolator({output:[this.getValue(),et]})),this._value=0,super.reset()}},TreeContext={dependencies:null},AnimatedObject=class extends Animated{constructor(et){super(),this.source=et,this.setValue(et)}getValue(et){const _e={};return eachProp(this.source,(nt,it)=>{isAnimated(nt)?_e[it]=nt.getValue(et):hasFluidValue(nt)?_e[it]=getFluidValue(nt):et||(_e[it]=nt)}),_e}setValue(et){this.source=et,this.payload=this._makePayload(et)}reset(){this.payload&&each(this.payload,et=>et.reset())}_makePayload(et){if(et){const _e=new Set;return eachProp(et,this._addToPayload,_e),Array.from(_e)}}_addToPayload(et){TreeContext.dependencies&&hasFluidValue(et)&&TreeContext.dependencies.add(et);const _e=getPayload(et);_e&&each(_e,nt=>this.add(nt))}},AnimatedArray=class extends AnimatedObject{constructor(et){super(et)}static create(et){return new AnimatedArray(et)}getValue(){return this.source.map(et=>et.getValue())}setValue(et){const _e=this.getPayload();return et.length==_e.length?_e.map((nt,it)=>nt.setValue(et[it])).some(Boolean):(super.setValue(et.map(makeAnimated)),!0)}};function makeAnimated(et){return(isAnimatedString(et)?AnimatedString:AnimatedValue).create(et)}function getAnimatedType(et){const _e=getAnimated(et);return _e?_e.constructor:is.arr(et)?AnimatedArray:isAnimatedString(et)?AnimatedString:AnimatedValue}var withAnimated=(et,_e)=>{const nt=!is.fun(et)||et.prototype&&et.prototype.isReactComponent;return reactExports.forwardRef((it,at)=>{const ut=reactExports.useRef(null),dt=nt&&reactExports.useCallback(st=>{ut.current=updateRef(at,st)},[at]),[ft,ht]=getAnimatedState(it,_e),ct=useForceUpdate(),lt=()=>{const st=ut.current;if(nt&&!st)return;(st?_e.applyAnimatedValues(st,ft.getValue(!0)):!1)===!1&&ct()},ot=new PropsObserver(lt,ht),tt=reactExports.useRef();useIsomorphicLayoutEffect(()=>(tt.current=ot,each(ht,st=>addFluidObserver(st,ot)),()=>{tt.current&&(each(tt.current.deps,st=>removeFluidObserver(st,tt.current)),raf.cancel(tt.current.update))})),reactExports.useEffect(lt,[]),useOnce(()=>()=>{const st=tt.current;each(st.deps,pt=>removeFluidObserver(pt,st))});const rt=_e.getComponentProps(ft.getValue());return reactExports.createElement(et,{...rt,ref:dt})})},PropsObserver=class{constructor(et,_e){this.update=et,this.deps=_e}eventObserved(et){et.type=="change"&&raf.write(this.update)}};function getAnimatedState(et,_e){const nt=new Set;return TreeContext.dependencies=nt,et.style&&(et={...et,style:_e.createAnimatedStyle(et.style)}),et=new AnimatedObject(et),TreeContext.dependencies=null,[et,nt]}function updateRef(et,_e){return et&&(is.fun(et)?et(_e):et.current=_e),_e}var cacheKey=Symbol.for("AnimatedComponent"),createHost=(et,{applyAnimatedValues:_e=()=>!1,createAnimatedStyle:nt=at=>new AnimatedObject(at),getComponentProps:it=at=>at}={})=>{const at={applyAnimatedValues:_e,createAnimatedStyle:nt,getComponentProps:it},ut=dt=>{const ft=getDisplayName(dt)||"Anonymous";return is.str(dt)?dt=ut[dt]||(ut[dt]=withAnimated(dt,at)):dt=dt[cacheKey]||(dt[cacheKey]=withAnimated(dt,at)),dt.displayName=`Animated(${ft})`,dt};return eachProp(et,(dt,ft)=>{is.arr(et)&&(ft=getDisplayName(dt)),ut[ft]=ut(dt)}),{animated:ut}},getDisplayName=et=>is.str(et)?et:et&&is.str(et.displayName)?et.displayName:is.fun(et)&&et.name||null;function callProp(et,..._e){return is.fun(et)?et(..._e):et}var matchProp=(et,_e)=>et===!0||!!(_e&&et&&(is.fun(et)?et(_e):toArray(et).includes(_e))),resolveProp=(et,_e)=>is.obj(et)?_e&&et[_e]:et,getDefaultProp=(et,_e)=>et.default===!0?et[_e]:et.default?et.default[_e]:void 0,noopTransform=et=>et,getDefaultProps=(et,_e=noopTransform)=>{let nt=DEFAULT_PROPS;et.default&&et.default!==!0&&(et=et.default,nt=Object.keys(et));const it={};for(const at of nt){const ut=_e(et[at],at);is.und(ut)||(it[at]=ut)}return it},DEFAULT_PROPS=["config","onProps","onStart","onChange","onPause","onResume","onRest"],RESERVED_PROPS={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps(et){const _e={};let nt=0;if(eachProp(et,(it,at)=>{RESERVED_PROPS[at]||(_e[at]=it,nt++)}),nt)return _e}function inferTo(et){const _e=getForwardProps(et);if(_e){const nt={to:_e};return eachProp(et,(it,at)=>at in _e||(nt[at]=it)),nt}return{...et}}function computeGoal(et){return et=getFluidValue(et),is.arr(et)?et.map(computeGoal):isAnimatedString(et)?globals_exports.createStringInterpolator({range:[0,1],output:[et,et]})(1):et}function hasProps(et){for(const _e in et)return!0;return!1}function isAsyncTo(et){return is.fun(et)||is.arr(et)&&is.obj(et[0])}function detachRefs(et,_e){var nt;(nt=et.ref)==null||nt.delete(et),_e==null||_e.delete(et)}function replaceRef(et,_e){var nt;_e&&et.ref!==_e&&((nt=et.ref)==null||nt.delete(et),_e.add(et),et.ref=_e)}var config={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},defaults={...config.default,mass:1,damping:1,easing:easings.linear,clamp:!1},AnimationConfig=class{constructor(){this.velocity=0,Object.assign(this,defaults)}};function mergeConfig(et,_e,nt){nt&&(nt={...nt},sanitizeConfig(nt,_e),_e={...nt,..._e}),sanitizeConfig(et,_e),Object.assign(et,_e);for(const dt in defaults)et[dt]==null&&(et[dt]=defaults[dt]);let{frequency:it,damping:at}=et;const{mass:ut}=et;return is.und(it)||(it<.01&&(it=.01),at<0&&(at=0),et.tension=Math.pow(2*Math.PI/it,2)*ut,et.friction=4*Math.PI*at*ut/it),et}function sanitizeConfig(et,_e){if(!is.und(_e.decay))et.duration=void 0;else{const nt=!is.und(_e.tension)||!is.und(_e.friction);(nt||!is.und(_e.frequency)||!is.und(_e.damping)||!is.und(_e.mass))&&(et.duration=void 0,et.decay=void 0),nt&&(et.frequency=void 0)}}var emptyArray=[],Animation=class{constructor(){this.changed=!1,this.values=emptyArray,this.toValues=null,this.fromValues=emptyArray,this.config=new AnimationConfig,this.immediate=!1}};function scheduleProps(et,{key:_e,props:nt,defaultProps:it,state:at,actions:ut}){return new Promise((dt,ft)=>{let ht,ct,lt=matchProp(nt.cancel??(it==null?void 0:it.cancel),_e);if(lt)rt();else{is.und(nt.pause)||(at.paused=matchProp(nt.pause,_e));let st=it==null?void 0:it.pause;st!==!0&&(st=at.paused||matchProp(st,_e)),ht=callProp(nt.delay||0,_e),st?(at.resumeQueue.add(tt),ut.pause()):(ut.resume(),tt())}function ot(){at.resumeQueue.add(tt),at.timeouts.delete(ct),ct.cancel(),ht=ct.time-raf.now()}function tt(){ht>0&&!globals_exports.skipAnimation?(at.delayed=!0,ct=raf.setTimeout(rt,ht),at.pauseQueue.add(ot),at.timeouts.add(ct)):rt()}function rt(){at.delayed&&(at.delayed=!1),at.pauseQueue.delete(ot),at.timeouts.delete(ct),et<=(at.cancelId||0)&&(lt=!0);try{ut.start({...nt,callId:et,cancel:lt},dt)}catch(st){ft(st)}}})}var getCombinedResult=(et,_e)=>_e.length==1?_e[0]:_e.some(nt=>nt.cancelled)?getCancelledResult(et.get()):_e.every(nt=>nt.noop)?getNoopResult(et.get()):getFinishedResult(et.get(),_e.every(nt=>nt.finished)),getNoopResult=et=>({value:et,noop:!0,finished:!0,cancelled:!1}),getFinishedResult=(et,_e,nt=!1)=>({value:et,finished:_e,cancelled:nt}),getCancelledResult=et=>({value:et,cancelled:!0,finished:!1});function runAsync(et,_e,nt,it){const{callId:at,parentId:ut,onRest:dt}=_e,{asyncTo:ft,promise:ht}=nt;return!ut&&et===ft&&!_e.reset?ht:nt.promise=(async()=>{nt.asyncId=at,nt.asyncTo=et;const ct=getDefaultProps(_e,(gt,mt)=>mt==="onRest"?void 0:gt);let lt,ot;const tt=new Promise((gt,mt)=>(lt=gt,ot=mt)),rt=gt=>{const mt=at<=(nt.cancelId||0)&&getCancelledResult(it)||at!==nt.asyncId&&getFinishedResult(it,!1);if(mt)throw gt.result=mt,ot(gt),gt},st=(gt,mt)=>{const yt=new BailSignal,bt=new SkipAnimationSignal;return(async()=>{if(globals_exports.skipAnimation)throw stopAsync(nt),bt.result=getFinishedResult(it,!1),ot(bt),bt;rt(yt);const vt=is.obj(gt)?{...gt}:{...mt,to:gt};vt.parentId=at,eachProp(ct,(xt,Tt)=>{is.und(vt[Tt])&&(vt[Tt]=xt)});const wt=await it.start(vt);return rt(yt),nt.paused&&await new Promise(xt=>{nt.resumeQueue.add(xt)}),wt})()};let pt;if(globals_exports.skipAnimation)return stopAsync(nt),getFinishedResult(it,!1);try{let gt;is.arr(et)?gt=(async mt=>{for(const yt of mt)await st(yt)})(et):gt=Promise.resolve(et(st,it.stop.bind(it))),await Promise.all([gt.then(lt),tt]),pt=getFinishedResult(it.get(),!0,!1)}catch(gt){if(gt instanceof BailSignal)pt=gt.result;else if(gt instanceof SkipAnimationSignal)pt=gt.result;else throw gt}finally{at==nt.asyncId&&(nt.asyncId=ut,nt.asyncTo=ut?ft:void 0,nt.promise=ut?ht:void 0)}return is.fun(dt)&&raf.batchedUpdates(()=>{dt(pt,it,it.item)}),pt})()}function stopAsync(et,_e){flush(et.timeouts,nt=>nt.cancel()),et.pauseQueue.clear(),et.resumeQueue.clear(),et.asyncId=et.asyncTo=et.promise=void 0,_e&&(et.cancelId=_e)}var BailSignal=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},SkipAnimationSignal=class extends Error{constructor(){super("SkipAnimationSignal")}},isFrameValue=et=>et instanceof FrameValue,nextId=1,FrameValue=class extends FluidValue{constructor(){super(...arguments),this.id=nextId++,this._priority=0}get priority(){return this._priority}set priority(et){this._priority!=et&&(this._priority=et,this._onPriorityChange(et))}get(){const et=getAnimated(this);return et&&et.getValue()}to(...et){return globals_exports.to(this,et)}interpolate(...et){return deprecateInterpolate(),globals_exports.to(this,et)}toJSON(){return this.get()}observerAdded(et){et==1&&this._attach()}observerRemoved(et){et==0&&this._detach()}_attach(){}_detach(){}_onChange(et,_e=!1){callFluidObservers(this,{type:"change",parent:this,value:et,idle:_e})}_onPriorityChange(et){this.idle||frameLoop.sort(this),callFluidObservers(this,{type:"priority",parent:this,priority:et})}},$P=Symbol.for("SpringPhase"),HAS_ANIMATED=1,IS_ANIMATING=2,IS_PAUSED=4,hasAnimated=et=>(et[$P]&HAS_ANIMATED)>0,isAnimating=et=>(et[$P]&IS_ANIMATING)>0,isPaused=et=>(et[$P]&IS_PAUSED)>0,setActiveBit=(et,_e)=>_e?et[$P]|=IS_ANIMATING|HAS_ANIMATED:et[$P]&=~IS_ANIMATING,setPausedBit=(et,_e)=>_e?et[$P]|=IS_PAUSED:et[$P]&=~IS_PAUSED,SpringValue=class extends FrameValue{constructor(et,_e){if(super(),this.animation=new Animation,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!is.und(et)||!is.und(_e)){const nt=is.obj(et)?{...et}:{..._e,from:et};is.und(nt.default)&&(nt.default=!0),this.start(nt)}}get idle(){return!(isAnimating(this)||this._state.asyncTo)||isPaused(this)}get goal(){return getFluidValue(this.animation.to)}get velocity(){const et=getAnimated(this);return et instanceof AnimatedValue?et.lastVelocity||0:et.getPayload().map(_e=>_e.lastVelocity||0)}get hasAnimated(){return hasAnimated(this)}get isAnimating(){return isAnimating(this)}get isPaused(){return isPaused(this)}get isDelayed(){return this._state.delayed}advance(et){let _e=!0,nt=!1;const it=this.animation;let{toValues:at}=it;const{config:ut}=it,dt=getPayload(it.to);!dt&&hasFluidValue(it.to)&&(at=toArray(getFluidValue(it.to))),it.values.forEach((ct,lt)=>{if(ct.done)return;const ot=ct.constructor==AnimatedString?1:dt?dt[lt].lastPosition:at[lt];let tt=it.immediate,rt=ot;if(!tt){if(rt=ct.lastPosition,ut.tension<=0){ct.done=!0;return}let st=ct.elapsedTime+=et;const pt=it.fromValues[lt],gt=ct.v0!=null?ct.v0:ct.v0=is.arr(ut.velocity)?ut.velocity[lt]:ut.velocity;let mt;const yt=ut.precision||(pt==ot?.005:Math.min(1,Math.abs(ot-pt)*.001));if(is.und(ut.duration))if(ut.decay){const bt=ut.decay===!0?.998:ut.decay,vt=Math.exp(-(1-bt)*st);rt=pt+gt/(1-bt)*(1-vt),tt=Math.abs(ct.lastPosition-rt)<=yt,mt=gt*vt}else{mt=ct.lastVelocity==null?gt:ct.lastVelocity;const bt=ut.restVelocity||yt/10,vt=ut.clamp?0:ut.bounce,wt=!is.und(vt),xt=pt==ot?ct.v0>0:pt<ot;let Tt,Ot=!1;const $t=1,It=Math.ceil(et/$t);for(let Rt=0;Rt<It&&(Tt=Math.abs(mt)>bt,!(!Tt&&(tt=Math.abs(ot-rt)<=yt,tt)));++Rt){wt&&(Ot=rt==ot||rt>ot==xt,Ot&&(mt=-mt*vt,rt=ot));const Ft=-ut.tension*1e-6*(rt-ot),Pt=-ut.friction*.001*mt,Bt=(Ft+Pt)/ut.mass;mt=mt+Bt*$t,rt=rt+mt*$t}}else{let bt=1;ut.duration>0&&(this._memoizedDuration!==ut.duration&&(this._memoizedDuration=ut.duration,ct.durationProgress>0&&(ct.elapsedTime=ut.duration*ct.durationProgress,st=ct.elapsedTime+=et)),bt=(ut.progress||0)+st/this._memoizedDuration,bt=bt>1?1:bt<0?0:bt,ct.durationProgress=bt),rt=pt+ut.easing(bt)*(ot-pt),mt=(rt-ct.lastPosition)/et,tt=bt==1}ct.lastVelocity=mt,Number.isNaN(rt)&&(console.warn("Got NaN while animating:",this),tt=!0)}dt&&!dt[lt].done&&(tt=!1),tt?ct.done=!0:_e=!1,ct.setValue(rt,ut.round)&&(nt=!0)});const ft=getAnimated(this),ht=ft.getValue();if(_e){const ct=getFluidValue(it.to);(ht!==ct||nt)&&!ut.decay?(ft.setValue(ct),this._onChange(ct)):nt&&ut.decay&&this._onChange(ht),this._stop()}else nt&&this._onChange(ht)}set(et){return raf.batchedUpdates(()=>{this._stop(),this._focus(et),this._set(et)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(isAnimating(this)){const{to:et,config:_e}=this.animation;raf.batchedUpdates(()=>{this._onStart(),_e.decay||this._set(et,!1),this._stop()})}return this}update(et){return(this.queue||(this.queue=[])).push(et),this}start(et,_e){let nt;return is.und(et)?(nt=this.queue||[],this.queue=[]):nt=[is.obj(et)?et:{..._e,to:et}],Promise.all(nt.map(it=>this._update(it))).then(it=>getCombinedResult(this,it))}stop(et){const{to:_e}=this.animation;return this._focus(this.get()),stopAsync(this._state,et&&this._lastCallId),raf.batchedUpdates(()=>this._stop(_e,et)),this}reset(){this._update({reset:!0})}eventObserved(et){et.type=="change"?this._start():et.type=="priority"&&(this.priority=et.priority+1)}_prepareNode(et){const _e=this.key||"";let{to:nt,from:it}=et;nt=is.obj(nt)?nt[_e]:nt,(nt==null||isAsyncTo(nt))&&(nt=void 0),it=is.obj(it)?it[_e]:it,it==null&&(it=void 0);const at={to:nt,from:it};return hasAnimated(this)||(et.reverse&&([nt,it]=[it,nt]),it=getFluidValue(it),is.und(it)?getAnimated(this)||this._set(nt):this._set(it)),at}_update({...et},_e){const{key:nt,defaultProps:it}=this;et.default&&Object.assign(it,getDefaultProps(et,(dt,ft)=>/^on/.test(ft)?resolveProp(dt,nt):dt)),mergeActiveFn(this,et,"onProps"),sendEvent(this,"onProps",et,this);const at=this._prepareNode(et);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const ut=this._state;return scheduleProps(++this._lastCallId,{key:nt,props:et,defaultProps:it,state:ut,actions:{pause:()=>{isPaused(this)||(setPausedBit(this,!0),flushCalls(ut.pauseQueue),sendEvent(this,"onPause",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},resume:()=>{isPaused(this)&&(setPausedBit(this,!1),isAnimating(this)&&this._resume(),flushCalls(ut.resumeQueue),sendEvent(this,"onResume",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},start:this._merge.bind(this,at)}}).then(dt=>{if(et.loop&&dt.finished&&!(_e&&dt.noop)){const ft=createLoopUpdate(et);if(ft)return this._update(ft,!0)}return dt})}_merge(et,_e,nt){if(_e.cancel)return this.stop(!0),nt(getCancelledResult(this));const it=!is.und(et.to),at=!is.und(et.from);if(it||at)if(_e.callId>this._lastToId)this._lastToId=_e.callId;else return nt(getCancelledResult(this));const{key:ut,defaultProps:dt,animation:ft}=this,{to:ht,from:ct}=ft;let{to:lt=ht,from:ot=ct}=et;at&&!it&&(!_e.default||is.und(lt))&&(lt=ot),_e.reverse&&([lt,ot]=[ot,lt]);const tt=!isEqual(ot,ct);tt&&(ft.from=ot),ot=getFluidValue(ot);const rt=!isEqual(lt,ht);rt&&this._focus(lt);const st=isAsyncTo(_e.to),{config:pt}=ft,{decay:gt,velocity:mt}=pt;(it||at)&&(pt.velocity=0),_e.config&&!st&&mergeConfig(pt,callProp(_e.config,ut),_e.config!==dt.config?callProp(dt.config,ut):void 0);let yt=getAnimated(this);if(!yt||is.und(lt))return nt(getFinishedResult(this,!0));const bt=is.und(_e.reset)?at&&!_e.default:!is.und(ot)&&matchProp(_e.reset,ut),vt=bt?ot:this.get(),wt=computeGoal(lt),xt=is.num(wt)||is.arr(wt)||isAnimatedString(wt),Tt=!st&&(!xt||matchProp(dt.immediate||_e.immediate,ut));if(rt){const Rt=getAnimatedType(lt);if(Rt!==yt.constructor)if(Tt)yt=this._set(wt);else throw Error(`Cannot animate between ${yt.constructor.name} and ${Rt.name}, as the "to" prop suggests`)}const Ot=yt.constructor;let $t=hasFluidValue(lt),It=!1;if(!$t){const Rt=bt||!hasAnimated(this)&&tt;(rt||Rt)&&(It=isEqual(computeGoal(vt),wt),$t=!It),(!isEqual(ft.immediate,Tt)&&!Tt||!isEqual(pt.decay,gt)||!isEqual(pt.velocity,mt))&&($t=!0)}if(It&&isAnimating(this)&&(ft.changed&&!bt?$t=!0:$t||this._stop(ht)),!st&&(($t||hasFluidValue(ht))&&(ft.values=yt.getPayload(),ft.toValues=hasFluidValue(lt)?null:Ot==AnimatedString?[1]:toArray(wt)),ft.immediate!=Tt&&(ft.immediate=Tt,!Tt&&!bt&&this._set(ht)),$t)){const{onRest:Rt}=ft;each(ACTIVE_EVENTS,Pt=>mergeActiveFn(this,_e,Pt));const Ft=getFinishedResult(this,checkFinished(this,ht));flushCalls(this._pendingCalls,Ft),this._pendingCalls.add(nt),ft.changed&&raf.batchedUpdates(()=>{var Pt;ft.changed=!bt,Rt==null||Rt(Ft,this),bt?callProp(dt.onRest,Ft):(Pt=ft.onStart)==null||Pt.call(ft,Ft,this)})}bt&&this._set(vt),st?nt(runAsync(_e.to,_e,this._state,this)):$t?this._start():isAnimating(this)&&!rt?this._pendingCalls.add(nt):nt(getNoopResult(vt))}_focus(et){const _e=this.animation;et!==_e.to&&(getFluidObservers(this)&&this._detach(),_e.to=et,getFluidObservers(this)&&this._attach())}_attach(){let et=0;const{to:_e}=this.animation;hasFluidValue(_e)&&(addFluidObserver(_e,this),isFrameValue(_e)&&(et=_e.priority+1)),this.priority=et}_detach(){const{to:et}=this.animation;hasFluidValue(et)&&removeFluidObserver(et,this)}_set(et,_e=!0){const nt=getFluidValue(et);if(!is.und(nt)){const it=getAnimated(this);if(!it||!isEqual(nt,it.getValue())){const at=getAnimatedType(nt);!it||it.constructor!=at?setAnimated(this,at.create(nt)):it.setValue(nt),it&&raf.batchedUpdates(()=>{this._onChange(nt,_e)})}}return getAnimated(this)}_onStart(){const et=this.animation;et.changed||(et.changed=!0,sendEvent(this,"onStart",getFinishedResult(this,checkFinished(this,et.to)),this))}_onChange(et,_e){_e||(this._onStart(),callProp(this.animation.onChange,et,this)),callProp(this.defaultProps.onChange,et,this),super._onChange(et,_e)}_start(){const et=this.animation;getAnimated(this).reset(getFluidValue(et.to)),et.immediate||(et.fromValues=et.values.map(_e=>_e.lastPosition)),isAnimating(this)||(setActiveBit(this,!0),isPaused(this)||this._resume())}_resume(){globals_exports.skipAnimation?this.finish():frameLoop.start(this)}_stop(et,_e){if(isAnimating(this)){setActiveBit(this,!1);const nt=this.animation;each(nt.values,at=>{at.done=!0}),nt.toValues&&(nt.onChange=nt.onPause=nt.onResume=void 0),callFluidObservers(this,{type:"idle",parent:this});const it=_e?getCancelledResult(this.get()):getFinishedResult(this.get(),checkFinished(this,et??nt.to));flushCalls(this._pendingCalls,it),nt.changed&&(nt.changed=!1,sendEvent(this,"onRest",it,this))}}};function checkFinished(et,_e){const nt=computeGoal(_e),it=computeGoal(et.get());return isEqual(it,nt)}function createLoopUpdate(et,_e=et.loop,nt=et.to){const it=callProp(_e);if(it){const at=it!==!0&&inferTo(it),ut=(at||et).reverse,dt=!at||at.reset;return createUpdate({...et,loop:_e,default:!1,pause:void 0,to:!ut||isAsyncTo(nt)?nt:void 0,from:dt?et.from:void 0,reset:dt,...at})}}function createUpdate(et){const{to:_e,from:nt}=et=inferTo(et),it=new Set;return is.obj(_e)&&findDefined(_e,it),is.obj(nt)&&findDefined(nt,it),et.keys=it.size?Array.from(it):null,et}function declareUpdate(et){const _e=createUpdate(et);return is.und(_e.default)&&(_e.default=getDefaultProps(_e)),_e}function findDefined(et,_e){eachProp(et,(nt,it)=>nt!=null&&_e.add(it))}var ACTIVE_EVENTS=["onStart","onRest","onChange","onPause","onResume"];function mergeActiveFn(et,_e,nt){et.animation[nt]=_e[nt]!==getDefaultProp(_e,nt)?resolveProp(_e[nt],et.key):void 0}function sendEvent(et,_e,...nt){var it,at,ut,dt;(at=(it=et.animation)[_e])==null||at.call(it,...nt),(dt=(ut=et.defaultProps)[_e])==null||dt.call(ut,...nt)}var BATCHED_EVENTS=["onStart","onChange","onRest"],nextId2=1,Controller$1=class{constructor(_e,nt){this.id=nextId2++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),nt&&(this._flush=nt),_e&&this.start({default:!0,..._e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(_e=>_e.idle&&!_e.isDelayed&&!_e.isPaused)}get item(){return this._item}set item(_e){this._item=_e}get(){const _e={};return this.each((nt,it)=>_e[it]=nt.get()),_e}set(_e){for(const nt in _e){const it=_e[nt];is.und(it)||this.springs[nt].set(it)}}update(_e){return _e&&this.queue.push(createUpdate(_e)),this}start(_e){let{queue:nt}=this;return _e?nt=toArray(_e).map(createUpdate):this.queue=[],this._flush?this._flush(this,nt):(prepareKeys(this,nt),flushUpdateQueue(this,nt))}stop(_e,nt){if(_e!==!!_e&&(nt=_e),nt){const it=this.springs;each(toArray(nt),at=>it[at].stop(!!_e))}else stopAsync(this._state,this._lastAsyncId),this.each(it=>it.stop(!!_e));return this}pause(_e){if(is.und(_e))this.start({pause:!0});else{const nt=this.springs;each(toArray(_e),it=>nt[it].pause())}return this}resume(_e){if(is.und(_e))this.start({pause:!1});else{const nt=this.springs;each(toArray(_e),it=>nt[it].resume())}return this}each(_e){eachProp(this.springs,_e)}_onFrame(){const{onStart:_e,onChange:nt,onRest:it}=this._events,at=this._active.size>0,ut=this._changed.size>0;(at&&!this._started||ut&&!this._started)&&(this._started=!0,flush(_e,([ht,ct])=>{ct.value=this.get(),ht(ct,this,this._item)}));const dt=!at&&this._started,ft=ut||dt&&it.size?this.get():null;ut&&nt.size&&flush(nt,([ht,ct])=>{ct.value=ft,ht(ct,this,this._item)}),dt&&(this._started=!1,flush(it,([ht,ct])=>{ct.value=ft,ht(ct,this,this._item)}))}eventObserved(_e){if(_e.type=="change")this._changed.add(_e.parent),_e.idle||this._active.add(_e.parent);else if(_e.type=="idle")this._active.delete(_e.parent);else return;raf.onFrame(this._onFrame)}};function flushUpdateQueue(et,_e){return Promise.all(_e.map(nt=>flushUpdate(et,nt))).then(nt=>getCombinedResult(et,nt))}async function flushUpdate(et,_e,nt){const{keys:it,to:at,from:ut,loop:dt,onRest:ft,onResolve:ht}=_e,ct=is.obj(_e.default)&&_e.default;dt&&(_e.loop=!1),at===!1&&(_e.to=null),ut===!1&&(_e.from=null);const lt=is.arr(at)||is.fun(at)?at:void 0;lt?(_e.to=void 0,_e.onRest=void 0,ct&&(ct.onRest=void 0)):each(BATCHED_EVENTS,pt=>{const gt=_e[pt];if(is.fun(gt)){const mt=et._events[pt];_e[pt]=({finished:yt,cancelled:bt})=>{const vt=mt.get(gt);vt?(yt||(vt.finished=!1),bt&&(vt.cancelled=!0)):mt.set(gt,{value:null,finished:yt||!1,cancelled:bt||!1})},ct&&(ct[pt]=_e[pt])}});const ot=et._state;_e.pause===!ot.paused?(ot.paused=_e.pause,flushCalls(_e.pause?ot.pauseQueue:ot.resumeQueue)):ot.paused&&(_e.pause=!0);const tt=(it||Object.keys(et.springs)).map(pt=>et.springs[pt].start(_e)),rt=_e.cancel===!0||getDefaultProp(_e,"cancel")===!0;(lt||rt&&ot.asyncId)&&tt.push(scheduleProps(++et._lastAsyncId,{props:_e,state:ot,actions:{pause:noop$1,resume:noop$1,start(pt,gt){rt?(stopAsync(ot,et._lastAsyncId),gt(getCancelledResult(et))):(pt.onRest=ft,gt(runAsync(lt,pt,ot,et)))}}})),ot.paused&&await new Promise(pt=>{ot.resumeQueue.add(pt)});const st=getCombinedResult(et,await Promise.all(tt));if(dt&&st.finished&&!(nt&&st.noop)){const pt=createLoopUpdate(_e,dt,at);if(pt)return prepareKeys(et,[pt]),flushUpdate(et,pt,!0)}return ht&&raf.batchedUpdates(()=>ht(st,et,et.item)),st}function getSprings(et,_e){const nt={...et.springs};return _e&&each(toArray(_e),it=>{is.und(it.keys)&&(it=createUpdate(it)),is.obj(it.to)||(it={...it,to:void 0}),prepareSprings(nt,it,at=>createSpring(at))}),setSprings(et,nt),nt}function setSprings(et,_e){eachProp(_e,(nt,it)=>{et.springs[it]||(et.springs[it]=nt,addFluidObserver(nt,et))})}function createSpring(et,_e){const nt=new SpringValue;return nt.key=et,_e&&addFluidObserver(nt,_e),nt}function prepareSprings(et,_e,nt){_e.keys&&each(_e.keys,it=>{(et[it]||(et[it]=nt(it)))._prepareNode(_e)})}function prepareKeys(et,_e){each(_e,nt=>{prepareSprings(et.springs,nt,it=>createSpring(it,et))})}var SpringContext=({children:et,..._e})=>{const nt=reactExports.useContext(ctx),it=_e.pause||!!nt.pause,at=_e.immediate||!!nt.immediate;_e=useMemoOne(()=>({pause:it,immediate:at}),[it,at]);const{Provider:ut}=ctx;return reactExports.createElement(ut,{value:_e},et)},ctx=makeContext(SpringContext,{});SpringContext.Provider=ctx.Provider;SpringContext.Consumer=ctx.Consumer;function makeContext(et,_e){return Object.assign(et,reactExports.createContext(_e)),et.Provider._context=et,et.Consumer._context=et,et}var SpringRef=()=>{const et=[],_e=function(it){deprecateDirectCall();const at=[];return each(et,(ut,dt)=>{if(is.und(it))at.push(ut.start());else{const ft=nt(it,ut,dt);ft&&at.push(ut.start(ft))}}),at};_e.current=et,_e.add=function(it){et.includes(it)||et.push(it)},_e.delete=function(it){const at=et.indexOf(it);~at&&et.splice(at,1)},_e.pause=function(){return each(et,it=>it.pause(...arguments)),this},_e.resume=function(){return each(et,it=>it.resume(...arguments)),this},_e.set=function(it){each(et,(at,ut)=>{const dt=is.fun(it)?it(ut,at):it;dt&&at.set(dt)})},_e.start=function(it){const at=[];return each(et,(ut,dt)=>{if(is.und(it))at.push(ut.start());else{const ft=this._getProps(it,ut,dt);ft&&at.push(ut.start(ft))}}),at},_e.stop=function(){return each(et,it=>it.stop(...arguments)),this},_e.update=function(it){return each(et,(at,ut)=>at.update(this._getProps(it,at,ut))),this};const nt=function(it,at,ut){return is.fun(it)?it(ut,at):it};return _e._getProps=nt,_e};function useSprings(et,_e,nt){const it=is.fun(_e)&&_e;it&&!nt&&(nt=[]);const at=reactExports.useMemo(()=>it||arguments.length==3?SpringRef():void 0,[]),ut=reactExports.useRef(0),dt=useForceUpdate(),ft=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(mt,yt){const bt=getSprings(mt,yt);return ut.current>0&&!ft.queue.length&&!Object.keys(bt).some(wt=>!mt.springs[wt])?flushUpdateQueue(mt,yt):new Promise(wt=>{setSprings(mt,bt),ft.queue.push(()=>{wt(flushUpdateQueue(mt,yt))}),dt()})}}),[]),ht=reactExports.useRef([...ft.ctrls]),ct=[],lt=usePrev(et)||0;reactExports.useMemo(()=>{each(ht.current.slice(et,lt),mt=>{detachRefs(mt,at),mt.stop(!0)}),ht.current.length=et,ot(lt,et)},[et]),reactExports.useMemo(()=>{ot(0,Math.min(lt,et))},nt);function ot(mt,yt){for(let bt=mt;bt<yt;bt++){const vt=ht.current[bt]||(ht.current[bt]=new Controller$1(null,ft.flush)),wt=it?it(bt,vt):_e[bt];wt&&(ct[bt]=declareUpdate(wt))}}const tt=ht.current.map((mt,yt)=>getSprings(mt,ct[yt])),rt=reactExports.useContext(SpringContext),st=usePrev(rt),pt=rt!==st&&hasProps(rt);useIsomorphicLayoutEffect(()=>{ut.current++,ft.ctrls=ht.current;const{queue:mt}=ft;mt.length&&(ft.queue=[],each(mt,yt=>yt())),each(ht.current,(yt,bt)=>{at==null||at.add(yt),pt&&yt.start({default:rt});const vt=ct[bt];vt&&(replaceRef(yt,vt.ref),yt.ref?yt.queue.push(vt):yt.start(vt))})}),useOnce(()=>()=>{each(ft.ctrls,mt=>mt.stop(!0))});const gt=tt.map(mt=>({...mt}));return at?[gt,at]:gt}function useSpring(et,_e){const nt=is.fun(et),[[it],at]=useSprings(1,nt?et:[et],nt?_e||[]:_e);return nt||arguments.length==2?[it,at]:it}var Interpolation=class extends FrameValue{constructor(et,_e){super(),this.source=et,this.idle=!0,this._active=new Set,this.calc=createInterpolator(..._e);const nt=this._get(),it=getAnimatedType(nt);setAnimated(this,it.create(nt))}advance(et){const _e=this._get(),nt=this.get();isEqual(_e,nt)||(getAnimated(this).setValue(_e),this._onChange(_e,this.idle)),!this.idle&&checkIdle(this._active)&&becomeIdle(this)}_get(){const et=is.arr(this.source)?this.source.map(getFluidValue):toArray(getFluidValue(this.source));return this.calc(...et)}_start(){this.idle&&!checkIdle(this._active)&&(this.idle=!1,each(getPayload(this),et=>{et.done=!1}),globals_exports.skipAnimation?(raf.batchedUpdates(()=>this.advance()),becomeIdle(this)):frameLoop.start(this))}_attach(){let et=1;each(toArray(this.source),_e=>{hasFluidValue(_e)&&addFluidObserver(_e,this),isFrameValue(_e)&&(_e.idle||this._active.add(_e),et=Math.max(et,_e.priority+1))}),this.priority=et,this._start()}_detach(){each(toArray(this.source),et=>{hasFluidValue(et)&&removeFluidObserver(et,this)}),this._active.clear(),becomeIdle(this)}eventObserved(et){et.type=="change"?et.idle?this.advance():(this._active.add(et.parent),this._start()):et.type=="idle"?this._active.delete(et.parent):et.type=="priority"&&(this.priority=toArray(this.source).reduce((_e,nt)=>Math.max(_e,(isFrameValue(nt)?nt.priority:0)+1),0))}};function isIdle(et){return et.idle!==!1}function checkIdle(et){return!et.size||Array.from(et).every(isIdle)}function becomeIdle(et){et.idle||(et.idle=!0,each(getPayload(et),_e=>{_e.done=!0}),callFluidObservers(et,{type:"idle",parent:et}))}globals_exports.assign({createStringInterpolator:createStringInterpolator2,to:(et,_e)=>new Interpolation(et,_e)});var isCustomPropRE=/^--/;function dangerousStyleValue(et,_e){return _e==null||typeof _e=="boolean"||_e===""?"":typeof _e=="number"&&_e!==0&&!isCustomPropRE.test(et)&&!(isUnitlessNumber.hasOwnProperty(et)&&isUnitlessNumber[et])?_e+"px":(""+_e).trim()}var attributeCache={};function applyAnimatedValues(et,_e){if(!et.nodeType||!et.setAttribute)return!1;const nt=et.nodeName==="filter"||et.parentNode&&et.parentNode.nodeName==="filter",{style:it,children:at,scrollTop:ut,scrollLeft:dt,viewBox:ft,...ht}=_e,ct=Object.values(ht),lt=Object.keys(ht).map(ot=>nt||et.hasAttribute(ot)?ot:attributeCache[ot]||(attributeCache[ot]=ot.replace(/([A-Z])/g,tt=>"-"+tt.toLowerCase())));at!==void 0&&(et.textContent=at);for(const ot in it)if(it.hasOwnProperty(ot)){const tt=dangerousStyleValue(ot,it[ot]);isCustomPropRE.test(ot)?et.style.setProperty(ot,tt):et.style[ot]=tt}lt.forEach((ot,tt)=>{et.setAttribute(ot,ct[tt])}),ut!==void 0&&(et.scrollTop=ut),dt!==void 0&&(et.scrollLeft=dt),ft!==void 0&&et.setAttribute("viewBox",ft)}var isUnitlessNumber={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},prefixKey=(et,_e)=>et+_e.charAt(0).toUpperCase()+_e.substring(1),prefixes=["Webkit","Ms","Moz","O"];isUnitlessNumber=Object.keys(isUnitlessNumber).reduce((et,_e)=>(prefixes.forEach(nt=>et[prefixKey(nt,_e)]=et[_e]),et),isUnitlessNumber);var domTransforms=/^(matrix|translate|scale|rotate|skew)/,pxTransforms=/^(translate)/,degTransforms=/^(rotate|skew)/,addUnit=(et,_e)=>is.num(et)&&et!==0?et+_e:et,isValueIdentity=(et,_e)=>is.arr(et)?et.every(nt=>isValueIdentity(nt,_e)):is.num(et)?et===_e:parseFloat(et)===_e,AnimatedStyle=class extends AnimatedObject{constructor({x:et,y:_e,z:nt,...it}){const at=[],ut=[];(et||_e||nt)&&(at.push([et||0,_e||0,nt||0]),ut.push(dt=>[`translate3d(${dt.map(ft=>addUnit(ft,"px")).join(",")})`,isValueIdentity(dt,0)])),eachProp(it,(dt,ft)=>{if(ft==="transform")at.push([dt||""]),ut.push(ht=>[ht,ht===""]);else if(domTransforms.test(ft)){if(delete it[ft],is.und(dt))return;const ht=pxTransforms.test(ft)?"px":degTransforms.test(ft)?"deg":"";at.push(toArray(dt)),ut.push(ft==="rotate3d"?([ct,lt,ot,tt])=>[`rotate3d(${ct},${lt},${ot},${addUnit(tt,ht)})`,isValueIdentity(tt,0)]:ct=>[`${ft}(${ct.map(lt=>addUnit(lt,ht)).join(",")})`,isValueIdentity(ct,ft.startsWith("scale")?1:0)])}}),at.length&&(it.transform=new FluidTransform(at,ut)),super(it)}},FluidTransform=class extends FluidValue{constructor(et,_e){super(),this.inputs=et,this.transforms=_e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let et="",_e=!0;return each(this.inputs,(nt,it)=>{const at=getFluidValue(nt[0]),[ut,dt]=this.transforms[it](is.arr(at)?at:nt.map(getFluidValue));et+=" "+ut,_e=_e&&dt}),_e?"none":et}observerAdded(et){et==1&&each(this.inputs,_e=>each(_e,nt=>hasFluidValue(nt)&&addFluidObserver(nt,this)))}observerRemoved(et){et==0&&each(this.inputs,_e=>each(_e,nt=>hasFluidValue(nt)&&removeFluidObserver(nt,this)))}eventObserved(et){et.type=="change"&&(this._value=null),callFluidObservers(this,et)}},primitives=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];globals_exports.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator:createStringInterpolator2,colors:colors2});var host=createHost(primitives,{applyAnimatedValues,createAnimatedStyle:et=>new AnimatedStyle(et),getComponentProps:({scrollTop:et,scrollLeft:_e,...nt})=>nt}),animated=host.animated;function clamp(et,_e,nt){return Math.max(_e,Math.min(et,nt))}const V={toVector(et,_e){return et===void 0&&(et=_e),Array.isArray(et)?et:[et,et]},add(et,_e){return[et[0]+_e[0],et[1]+_e[1]]},sub(et,_e){return[et[0]-_e[0],et[1]-_e[1]]},addTo(et,_e){et[0]+=_e[0],et[1]+=_e[1]},subTo(et,_e){et[0]-=_e[0],et[1]-=_e[1]}};function rubberband(et,_e,nt){return _e===0||Math.abs(_e)===1/0?Math.pow(et,nt*5):et*_e*nt/(_e+nt*et)}function rubberbandIfOutOfBounds(et,_e,nt,it=.15){return it===0?clamp(et,_e,nt):et<_e?-rubberband(_e-et,nt-_e,it)+_e:et>nt?+rubberband(et-nt,nt-_e,it)+nt:et}function computeRubberband(et,[_e,nt],[it,at]){const[[ut,dt],[ft,ht]]=et;return[rubberbandIfOutOfBounds(_e,ut,dt,it),rubberbandIfOutOfBounds(nt,ft,ht,at)]}function _toPrimitive(et,_e){if(typeof et!="object"||et===null)return et;var nt=et[Symbol.toPrimitive];if(nt!==void 0){var it=nt.call(et,_e||"default");if(typeof it!="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey(et){var _e=_toPrimitive(et,"string");return typeof _e=="symbol"?_e:String(_e)}function _defineProperty(et,_e,nt){return _e=_toPropertyKey(_e),_e in et?Object.defineProperty(et,_e,{value:nt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=nt,et}function ownKeys(et,_e){var nt=Object.keys(et);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(et);_e&&(it=it.filter(function(at){return Object.getOwnPropertyDescriptor(et,at).enumerable})),nt.push.apply(nt,it)}return nt}function _objectSpread2(et){for(var _e=1;_e<arguments.length;_e++){var nt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(nt),!0).forEach(function(it){_defineProperty(et,it,nt[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(nt)):ownKeys(Object(nt)).forEach(function(it){Object.defineProperty(et,it,Object.getOwnPropertyDescriptor(nt,it))})}return et}const EVENT_TYPE_MAP={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function capitalize(et){return et?et[0].toUpperCase()+et.slice(1):""}const actionsWithoutCaptureSupported=["enter","leave"];function hasCapture(et=!1,_e){return et&&!actionsWithoutCaptureSupported.includes(_e)}function toHandlerProp(et,_e="",nt=!1){const it=EVENT_TYPE_MAP[et],at=it&&it[_e]||_e;return"on"+capitalize(et)+capitalize(at)+(hasCapture(nt,at)?"Capture":"")}const pointerCaptureEvents=["gotpointercapture","lostpointercapture"];function parseProp(et){let _e=et.substring(2).toLowerCase();const nt=!!~_e.indexOf("passive");nt&&(_e=_e.replace("passive",""));const it=pointerCaptureEvents.includes(_e)?"capturecapture":"capture",at=!!~_e.indexOf(it);return at&&(_e=_e.replace("capture","")),{device:_e,capture:at,passive:nt}}function toDomEventType(et,_e=""){const nt=EVENT_TYPE_MAP[et],it=nt&&nt[_e]||_e;return et+it}function isTouch(et){return"touches"in et}function getPointerType(et){return isTouch(et)?"touch":"pointerType"in et?et.pointerType:"mouse"}function getCurrentTargetTouchList(et){return Array.from(et.touches).filter(_e=>{var nt,it;return _e.target===et.currentTarget||((nt=et.currentTarget)===null||nt===void 0||(it=nt.contains)===null||it===void 0?void 0:it.call(nt,_e.target))})}function getTouchList(et){return et.type==="touchend"||et.type==="touchcancel"?et.changedTouches:et.targetTouches}function getValueEvent(et){return isTouch(et)?getTouchList(et)[0]:et}function distanceAngle(et,_e){try{const nt=_e.clientX-et.clientX,it=_e.clientY-et.clientY,at=(_e.clientX+et.clientX)/2,ut=(_e.clientY+et.clientY)/2,dt=Math.hypot(nt,it);return{angle:-(Math.atan2(nt,it)*180)/Math.PI,distance:dt,origin:[at,ut]}}catch{}return null}function touchIds(et){return getCurrentTargetTouchList(et).map(_e=>_e.identifier)}function touchDistanceAngle(et,_e){const[nt,it]=Array.from(et.touches).filter(at=>_e.includes(at.identifier));return distanceAngle(nt,it)}function pointerId(et){const _e=getValueEvent(et);return isTouch(et)?_e.identifier:_e.pointerId}function pointerValues(et){const _e=getValueEvent(et);return[_e.clientX,_e.clientY]}const LINE_HEIGHT=40,PAGE_HEIGHT=800;function wheelValues(et){let{deltaX:_e,deltaY:nt,deltaMode:it}=et;return it===1?(_e*=LINE_HEIGHT,nt*=LINE_HEIGHT):it===2&&(_e*=PAGE_HEIGHT,nt*=PAGE_HEIGHT),[_e,nt]}function scrollValues(et){var _e,nt;const{scrollX:it,scrollY:at,scrollLeft:ut,scrollTop:dt}=et.currentTarget;return[(_e=it??ut)!==null&&_e!==void 0?_e:0,(nt=at??dt)!==null&&nt!==void 0?nt:0]}function getEventDetails(et){const _e={};if("buttons"in et&&(_e.buttons=et.buttons),"shiftKey"in et){const{shiftKey:nt,altKey:it,metaKey:at,ctrlKey:ut}=et;Object.assign(_e,{shiftKey:nt,altKey:it,metaKey:at,ctrlKey:ut})}return _e}function call(et,..._e){return typeof et=="function"?et(..._e):et}function noop(){}function chain(...et){return et.length===0?noop:et.length===1?et[0]:function(){let _e;for(const nt of et)_e=nt.apply(this,arguments)||_e;return _e}}function assignDefault(et,_e){return Object.assign({},_e,et||{})}const BEFORE_LAST_KINEMATICS_DELAY=32;class Engine{constructor(_e,nt,it){this.ctrl=_e,this.args=nt,this.key=it,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(_e){this.ctrl.state[this.key]=_e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:_e,shared:nt,ingKey:it,args:at}=this;nt[it]=_e._active=_e.active=_e._blocked=_e._force=!1,_e._step=[!1,!1],_e.intentional=!1,_e._movement=[0,0],_e._distance=[0,0],_e._direction=[0,0],_e._delta=[0,0],_e._bounds=[[-1/0,1/0],[-1/0,1/0]],_e.args=at,_e.axis=void 0,_e.memo=void 0,_e.elapsedTime=_e.timeDelta=0,_e.direction=[0,0],_e.distance=[0,0],_e.overflow=[0,0],_e._movementBound=[!1,!1],_e.velocity=[0,0],_e.movement=[0,0],_e.delta=[0,0],_e.timeStamp=0}start(_e){const nt=this.state,it=this.config;nt._active||(this.reset(),this.computeInitial(),nt._active=!0,nt.target=_e.target,nt.currentTarget=_e.currentTarget,nt.lastOffset=it.from?call(it.from,nt):nt.offset,nt.offset=nt.lastOffset,nt.startTime=nt.timeStamp=_e.timeStamp)}computeValues(_e){const nt=this.state;nt._values=_e,nt.values=this.config.transform(_e)}computeInitial(){const _e=this.state;_e._initial=_e._values,_e.initial=_e.values}compute(_e){const{state:nt,config:it,shared:at}=this;nt.args=this.args;let ut=0;if(_e&&(nt.event=_e,it.preventDefault&&_e.cancelable&&nt.event.preventDefault(),nt.type=_e.type,at.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,at.locked=!!document.pointerLockElement,Object.assign(at,getEventDetails(_e)),at.down=at.pressed=at.buttons%2===1||at.touches>0,ut=_e.timeStamp-nt.timeStamp,nt.timeStamp=_e.timeStamp,nt.elapsedTime=nt.timeStamp-nt.startTime),nt._active){const xt=nt._delta.map(Math.abs);V.addTo(nt._distance,xt)}this.axisIntent&&this.axisIntent(_e);const[dt,ft]=nt._movement,[ht,ct]=it.threshold,{_step:lt,values:ot}=nt;if(it.hasCustomTransform?(lt[0]===!1&&(lt[0]=Math.abs(dt)>=ht&&ot[0]),lt[1]===!1&&(lt[1]=Math.abs(ft)>=ct&&ot[1])):(lt[0]===!1&&(lt[0]=Math.abs(dt)>=ht&&Math.sign(dt)*ht),lt[1]===!1&&(lt[1]=Math.abs(ft)>=ct&&Math.sign(ft)*ct)),nt.intentional=lt[0]!==!1||lt[1]!==!1,!nt.intentional)return;const tt=[0,0];if(it.hasCustomTransform){const[xt,Tt]=ot;tt[0]=lt[0]!==!1?xt-lt[0]:0,tt[1]=lt[1]!==!1?Tt-lt[1]:0}else tt[0]=lt[0]!==!1?dt-lt[0]:0,tt[1]=lt[1]!==!1?ft-lt[1]:0;this.restrictToAxis&&!nt._blocked&&this.restrictToAxis(tt);const rt=nt.offset,st=nt._active&&!nt._blocked||nt.active;st&&(nt.first=nt._active&&!nt.active,nt.last=!nt._active&&nt.active,nt.active=at[this.ingKey]=nt._active,_e&&(nt.first&&("bounds"in it&&(nt._bounds=call(it.bounds,nt)),this.setup&&this.setup()),nt.movement=tt,this.computeOffset()));const[pt,gt]=nt.offset,[[mt,yt],[bt,vt]]=nt._bounds;nt.overflow=[pt<mt?-1:pt>yt?1:0,gt<bt?-1:gt>vt?1:0],nt._movementBound[0]=nt.overflow[0]?nt._movementBound[0]===!1?nt._movement[0]:nt._movementBound[0]:!1,nt._movementBound[1]=nt.overflow[1]?nt._movementBound[1]===!1?nt._movement[1]:nt._movementBound[1]:!1;const wt=nt._active?it.rubberband||[0,0]:[0,0];if(nt.offset=computeRubberband(nt._bounds,nt.offset,wt),nt.delta=V.sub(nt.offset,rt),this.computeMovement(),st&&(!nt.last||ut>BEFORE_LAST_KINEMATICS_DELAY)){nt.delta=V.sub(nt.offset,rt);const xt=nt.delta.map(Math.abs);V.addTo(nt.distance,xt),nt.direction=nt.delta.map(Math.sign),nt._direction=nt._delta.map(Math.sign),!nt.first&&ut>0&&(nt.velocity=[xt[0]/ut,xt[1]/ut],nt.timeDelta=ut)}}emit(){const _e=this.state,nt=this.shared,it=this.config;if(_e._active||this.clean(),(_e._blocked||!_e.intentional)&&!_e._force&&!it.triggerAllEvents)return;const at=this.handler(_objectSpread2(_objectSpread2(_objectSpread2({},nt),_e),{},{[this.aliasKey]:_e.values}));at!==void 0&&(_e.memo=at)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function selectAxis([et,_e],nt){const it=Math.abs(et),at=Math.abs(_e);if(it>at&&it>nt)return"x";if(at>it&&at>nt)return"y"}class CoordinatesEngine extends Engine{constructor(..._e){super(..._e),_defineProperty(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=V.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=V.sub(this.state.offset,this.state.lastOffset)}axisIntent(_e){const nt=this.state,it=this.config;if(!nt.axis&&_e){const at=typeof it.axisThreshold=="object"?it.axisThreshold[getPointerType(_e)]:it.axisThreshold;nt.axis=selectAxis(nt._movement,at)}nt._blocked=(it.lockDirection||!!it.axis)&&!nt.axis||!!it.axis&&it.axis!==nt.axis}restrictToAxis(_e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":_e[1]=0;break;case"y":_e[0]=0;break}}}const identity=et=>et,DEFAULT_RUBBERBAND=.15,commonConfigResolver={enabled(et=!0){return et},eventOptions(et,_e,nt){return _objectSpread2(_objectSpread2({},nt.shared.eventOptions),et)},preventDefault(et=!1){return et},triggerAllEvents(et=!1){return et},rubberband(et=0){switch(et){case!0:return[DEFAULT_RUBBERBAND,DEFAULT_RUBBERBAND];case!1:return[0,0];default:return V.toVector(et)}},from(et){if(typeof et=="function")return et;if(et!=null)return V.toVector(et)},transform(et,_e,nt){const it=et||nt.shared.transform;return this.hasCustomTransform=!!it,it||identity},threshold(et){return V.toVector(et,0)}},DEFAULT_AXIS_THRESHOLD=0,coordinatesConfigResolver=_objectSpread2(_objectSpread2({},commonConfigResolver),{},{axis(et,_e,{axis:nt}){if(this.lockDirection=nt==="lock",!this.lockDirection)return nt},axisThreshold(et=DEFAULT_AXIS_THRESHOLD){return et},bounds(et={}){if(typeof et=="function")return ut=>coordinatesConfigResolver.bounds(et(ut));if("current"in et)return()=>et.current;if(typeof HTMLElement=="function"&&et instanceof HTMLElement)return et;const{left:_e=-1/0,right:nt=1/0,top:it=-1/0,bottom:at=1/0}=et;return[[_e,nt],[it,at]]}}),KEYS_DELTA_MAP={ArrowRight:(et,_e=1)=>[et*_e,0],ArrowLeft:(et,_e=1)=>[-1*et*_e,0],ArrowUp:(et,_e=1)=>[0,-1*et*_e],ArrowDown:(et,_e=1)=>[0,et*_e]};class DragEngine extends CoordinatesEngine{constructor(..._e){super(..._e),_defineProperty(this,"ingKey","dragging")}reset(){super.reset();const _e=this.state;_e._pointerId=void 0,_e._pointerActive=!1,_e._keyboardActive=!1,_e._preventScroll=!1,_e._delayed=!1,_e.swipe=[0,0],_e.tap=!1,_e.canceled=!1,_e.cancel=this.cancel.bind(this)}setup(){const _e=this.state;if(_e._bounds instanceof HTMLElement){const nt=_e._bounds.getBoundingClientRect(),it=_e.currentTarget.getBoundingClientRect(),at={left:nt.left-it.left+_e.offset[0],right:nt.right-it.right+_e.offset[0],top:nt.top-it.top+_e.offset[1],bottom:nt.bottom-it.bottom+_e.offset[1]};_e._bounds=coordinatesConfigResolver.bounds(at)}}cancel(){const _e=this.state;_e.canceled||(_e.canceled=!0,_e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(_e){const nt=this.config,it=this.state;if(_e.buttons!=null&&(Array.isArray(nt.pointerButtons)?!nt.pointerButtons.includes(_e.buttons):nt.pointerButtons!==-1&&nt.pointerButtons!==_e.buttons))return;const at=this.ctrl.setEventIds(_e);nt.pointerCapture&&_e.target.setPointerCapture(_e.pointerId),!(at&&at.size>1&&it._pointerActive)&&(this.start(_e),this.setupPointer(_e),it._pointerId=pointerId(_e),it._pointerActive=!0,this.computeValues(pointerValues(_e)),this.computeInitial(),nt.preventScrollAxis&&getPointerType(_e)!=="mouse"?(it._active=!1,this.setupScrollPrevention(_e)):nt.delay>0?(this.setupDelayTrigger(_e),nt.triggerAllEvents&&(this.compute(_e),this.emit())):this.startPointerDrag(_e))}startPointerDrag(_e){const nt=this.state;nt._active=!0,nt._preventScroll=!0,nt._delayed=!1,this.compute(_e),this.emit()}pointerMove(_e){const nt=this.state,it=this.config;if(!nt._pointerActive)return;const at=pointerId(_e);if(nt._pointerId!==void 0&&at!==nt._pointerId)return;const ut=pointerValues(_e);if(document.pointerLockElement===_e.target?nt._delta=[_e.movementX,_e.movementY]:(nt._delta=V.sub(ut,nt._values),this.computeValues(ut)),V.addTo(nt._movement,nt._delta),this.compute(_e),nt._delayed&&nt.intentional){this.timeoutStore.remove("dragDelay"),nt.active=!1,this.startPointerDrag(_e);return}if(it.preventScrollAxis&&!nt._preventScroll)if(nt.axis)if(nt.axis===it.preventScrollAxis||it.preventScrollAxis==="xy"){nt._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(_e);return}else return;this.emit()}pointerUp(_e){this.ctrl.setEventIds(_e);try{this.config.pointerCapture&&_e.target.hasPointerCapture(_e.pointerId)&&_e.target.releasePointerCapture(_e.pointerId)}catch{}const nt=this.state,it=this.config;if(!nt._active||!nt._pointerActive)return;const at=pointerId(_e);if(nt._pointerId!==void 0&&at!==nt._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(_e);const[ut,dt]=nt._distance;if(nt.tap=ut<=it.tapsThreshold&&dt<=it.tapsThreshold,nt.tap&&it.filterTaps)nt._force=!0;else{const[ft,ht]=nt._delta,[ct,lt]=nt._movement,[ot,tt]=it.swipe.velocity,[rt,st]=it.swipe.distance,pt=it.swipe.duration;if(nt.elapsedTime<pt){const gt=Math.abs(ft/nt.timeDelta),mt=Math.abs(ht/nt.timeDelta);gt>ot&&Math.abs(ct)>rt&&(nt.swipe[0]=Math.sign(ft)),mt>tt&&Math.abs(lt)>st&&(nt.swipe[1]=Math.sign(ht))}}this.emit()}pointerClick(_e){!this.state.tap&&_e.detail>0&&(_e.preventDefault(),_e.stopPropagation())}setupPointer(_e){const nt=this.config,it=nt.device;nt.pointerLock&&_e.currentTarget.requestPointerLock(),nt.pointerCapture||(this.eventStore.add(this.sharedConfig.window,it,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,it,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,it,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(_e){this.state._preventScroll&&_e.cancelable&&_e.preventDefault()}setupScrollPrevention(_e){this.state._preventScroll=!1,persistEvent(_e);const nt=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",nt),this.eventStore.add(this.sharedConfig.window,"touch","cancel",nt),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,_e)}setupDelayTrigger(_e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(_e)},this.config.delay)}keyDown(_e){const nt=KEYS_DELTA_MAP[_e.key];if(nt){const it=this.state,at=_e.shiftKey?10:_e.altKey?.1:1;this.start(_e),it._delta=nt(this.config.keyboardDisplacement,at),it._keyboardActive=!0,V.addTo(it._movement,it._delta),this.compute(_e),this.emit()}}keyUp(_e){_e.key in KEYS_DELTA_MAP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(_e),this.emit())}bind(_e){const nt=this.config.device;_e(nt,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(_e(nt,"change",this.pointerMove.bind(this)),_e(nt,"end",this.pointerUp.bind(this)),_e(nt,"cancel",this.pointerUp.bind(this)),_e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(_e("key","down",this.keyDown.bind(this)),_e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&_e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function persistEvent(et){"persist"in et&&typeof et.persist=="function"&&et.persist()}const isBrowser=typeof window<"u"&&window.document&&window.document.createElement;function supportsTouchEvents(){return isBrowser&&"ontouchstart"in window}function isTouchScreen(){return supportsTouchEvents()||isBrowser&&window.navigator.maxTouchPoints>1}function supportsPointerEvents(){return isBrowser&&"onpointerdown"in window}function supportsPointerLock(){return isBrowser&&"exitPointerLock"in window.document}function supportsGestureEvents(){try{return"constructor"in GestureEvent}catch{return!1}}const SUPPORT={isBrowser,gesture:supportsGestureEvents(),touch:supportsTouchEvents(),touchscreen:isTouchScreen(),pointer:supportsPointerEvents(),pointerLock:supportsPointerLock()},DEFAULT_PREVENT_SCROLL_DELAY=250,DEFAULT_DRAG_DELAY=180,DEFAULT_SWIPE_VELOCITY=.5,DEFAULT_SWIPE_DISTANCE=50,DEFAULT_SWIPE_DURATION=250,DEFAULT_KEYBOARD_DISPLACEMENT=10,DEFAULT_DRAG_AXIS_THRESHOLD={mouse:0,touch:0,pen:8},dragConfigResolver=_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{device(et,_e,{pointer:{touch:nt=!1,lock:it=!1,mouse:at=!1}={}}){return this.pointerLock=it&&SUPPORT.pointerLock,SUPPORT.touch&&nt?"touch":this.pointerLock?"mouse":SUPPORT.pointer&&!at?"pointer":SUPPORT.touch?"touch":"mouse"},preventScrollAxis(et,_e,{preventScroll:nt}){if(this.preventScrollDelay=typeof nt=="number"?nt:nt||nt===void 0&&et?DEFAULT_PREVENT_SCROLL_DELAY:void 0,!(!SUPPORT.touchscreen||nt===!1))return et||(nt!==void 0?"y":void 0)},pointerCapture(et,_e,{pointer:{capture:nt=!0,buttons:it=1,keys:at=!0}={}}){return this.pointerButtons=it,this.keys=at,!this.pointerLock&&this.device==="pointer"&&nt},threshold(et,_e,{filterTaps:nt=!1,tapsThreshold:it=3,axis:at=void 0}){const ut=V.toVector(et,nt?it:at?1:0);return this.filterTaps=nt,this.tapsThreshold=it,ut},swipe({velocity:et=DEFAULT_SWIPE_VELOCITY,distance:_e=DEFAULT_SWIPE_DISTANCE,duration:nt=DEFAULT_SWIPE_DURATION}={}){return{velocity:this.transform(V.toVector(et)),distance:this.transform(V.toVector(_e)),duration:nt}},delay(et=0){switch(et){case!0:return DEFAULT_DRAG_DELAY;case!1:return 0;default:return et}},axisThreshold(et){return et?_objectSpread2(_objectSpread2({},DEFAULT_DRAG_AXIS_THRESHOLD),et):DEFAULT_DRAG_AXIS_THRESHOLD},keyboardDisplacement(et=DEFAULT_KEYBOARD_DISPLACEMENT){return et}});function clampStateInternalMovementToBounds(et){const[_e,nt]=et.overflow,[it,at]=et._delta,[ut,dt]=et._direction;(_e<0&&it>0&&ut<0||_e>0&&it<0&&ut>0)&&(et._movement[0]=et._movementBound[0]),(nt<0&&at>0&&dt<0||nt>0&&at<0&&dt>0)&&(et._movement[1]=et._movementBound[1])}const SCALE_ANGLE_RATIO_INTENT_DEG=30,PINCH_WHEEL_RATIO=100;class PinchEngine extends Engine{constructor(..._e){super(..._e),_defineProperty(this,"ingKey","pinching"),_defineProperty(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const _e=this.state;_e._touchIds=[],_e.canceled=!1,_e.cancel=this.cancel.bind(this),_e.turns=0}computeOffset(){const{type:_e,movement:nt,lastOffset:it}=this.state;_e==="wheel"?this.state.offset=V.add(nt,it):this.state.offset=[(1+nt[0])*it[0],nt[1]+it[1]]}computeMovement(){const{offset:_e,lastOffset:nt}=this.state;this.state.movement=[_e[0]/nt[0],_e[1]-nt[1]]}axisIntent(){const _e=this.state,[nt,it]=_e._movement;if(!_e.axis){const at=Math.abs(nt)*SCALE_ANGLE_RATIO_INTENT_DEG-Math.abs(it);at<0?_e.axis="angle":at>0&&(_e.axis="scale")}}restrictToAxis(_e){this.config.lockDirection&&(this.state.axis==="scale"?_e[1]=0:this.state.axis==="angle"&&(_e[0]=0))}cancel(){const _e=this.state;_e.canceled||setTimeout(()=>{_e.canceled=!0,_e._active=!1,this.compute(),this.emit()},0)}touchStart(_e){this.ctrl.setEventIds(_e);const nt=this.state,it=this.ctrl.touchIds;if(nt._active&&nt._touchIds.every(ut=>it.has(ut))||it.size<2)return;this.start(_e),nt._touchIds=Array.from(it).slice(0,2);const at=touchDistanceAngle(_e,nt._touchIds);at&&this.pinchStart(_e,at)}pointerStart(_e){if(_e.buttons!=null&&_e.buttons%2!==1)return;this.ctrl.setEventIds(_e),_e.target.setPointerCapture(_e.pointerId);const nt=this.state,it=nt._pointerEvents,at=this.ctrl.pointerIds;if(nt._active&&Array.from(it.keys()).every(dt=>at.has(dt))||(it.size<2&&it.set(_e.pointerId,_e),nt._pointerEvents.size<2))return;this.start(_e);const ut=distanceAngle(...Array.from(it.values()));ut&&this.pinchStart(_e,ut)}pinchStart(_e,nt){const it=this.state;it.origin=nt.origin,this.computeValues([nt.distance,nt.angle]),this.computeInitial(),this.compute(_e),this.emit()}touchMove(_e){if(!this.state._active)return;const nt=touchDistanceAngle(_e,this.state._touchIds);nt&&this.pinchMove(_e,nt)}pointerMove(_e){const nt=this.state._pointerEvents;if(nt.has(_e.pointerId)&&nt.set(_e.pointerId,_e),!this.state._active)return;const it=distanceAngle(...Array.from(nt.values()));it&&this.pinchMove(_e,it)}pinchMove(_e,nt){const it=this.state,at=it._values[1],ut=nt.angle-at;let dt=0;Math.abs(ut)>270&&(dt+=Math.sign(ut)),this.computeValues([nt.distance,nt.angle-360*dt]),it.origin=nt.origin,it.turns=dt,it._movement=[it._values[0]/it._initial[0]-1,it._values[1]-it._initial[1]],this.compute(_e),this.emit()}touchEnd(_e){this.ctrl.setEventIds(_e),this.state._active&&this.state._touchIds.some(nt=>!this.ctrl.touchIds.has(nt))&&(this.state._active=!1,this.compute(_e),this.emit())}pointerEnd(_e){const nt=this.state;this.ctrl.setEventIds(_e);try{_e.target.releasePointerCapture(_e.pointerId)}catch{}nt._pointerEvents.has(_e.pointerId)&&nt._pointerEvents.delete(_e.pointerId),nt._active&&nt._pointerEvents.size<2&&(nt._active=!1,this.compute(_e),this.emit())}gestureStart(_e){_e.cancelable&&_e.preventDefault();const nt=this.state;nt._active||(this.start(_e),this.computeValues([_e.scale,_e.rotation]),nt.origin=[_e.clientX,_e.clientY],this.compute(_e),this.emit())}gestureMove(_e){if(_e.cancelable&&_e.preventDefault(),!this.state._active)return;const nt=this.state;this.computeValues([_e.scale,_e.rotation]),nt.origin=[_e.clientX,_e.clientY];const it=nt._movement;nt._movement=[_e.scale-1,_e.rotation],nt._delta=V.sub(nt._movement,it),this.compute(_e),this.emit()}gestureEnd(_e){this.state._active&&(this.state._active=!1,this.compute(_e),this.emit())}wheel(_e){const nt=this.config.modifierKey;nt&&(Array.isArray(nt)?!nt.find(it=>_e[it]):!_e[nt])||(this.state._active?this.wheelChange(_e):this.wheelStart(_e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(_e){this.start(_e),this.wheelChange(_e)}wheelChange(_e){"uv"in _e||_e.cancelable&&_e.preventDefault();const it=this.state;it._delta=[-wheelValues(_e)[1]/PINCH_WHEEL_RATIO*it.offset[0],0],V.addTo(it._movement,it._delta),clampStateInternalMovementToBounds(it),this.state.origin=[_e.clientX,_e.clientY],this.compute(_e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(_e){const nt=this.config.device;nt&&(_e(nt,"start",this[nt+"Start"].bind(this)),_e(nt,"change",this[nt+"Move"].bind(this)),_e(nt,"end",this[nt+"End"].bind(this)),_e(nt,"cancel",this[nt+"End"].bind(this)),_e("lostPointerCapture","",this[nt+"End"].bind(this))),this.config.pinchOnWheel&&_e("wheel","",this.wheel.bind(this),{passive:!1})}}const pinchConfigResolver=_objectSpread2(_objectSpread2({},commonConfigResolver),{},{device(et,_e,{shared:nt,pointer:{touch:it=!1}={}}){if(nt.target&&!SUPPORT.touch&&SUPPORT.gesture)return"gesture";if(SUPPORT.touch&&it)return"touch";if(SUPPORT.touchscreen){if(SUPPORT.pointer)return"pointer";if(SUPPORT.touch)return"touch"}},bounds(et,_e,{scaleBounds:nt={},angleBounds:it={}}){const at=dt=>{const ft=assignDefault(call(nt,dt),{min:-1/0,max:1/0});return[ft.min,ft.max]},ut=dt=>{const ft=assignDefault(call(it,dt),{min:-1/0,max:1/0});return[ft.min,ft.max]};return typeof nt!="function"&&typeof it!="function"?[at(),ut()]:dt=>[at(dt),ut(dt)]},threshold(et,_e,nt){return this.lockDirection=nt.axis==="lock",V.toVector(et,this.lockDirection?[.1,3]:0)},modifierKey(et){return et===void 0?"ctrlKey":et},pinchOnWheel(et=!0){return et}});class MoveEngine extends CoordinatesEngine{constructor(..._e){super(..._e),_defineProperty(this,"ingKey","moving")}move(_e){this.config.mouseOnly&&_e.pointerType!=="mouse"||(this.state._active?this.moveChange(_e):this.moveStart(_e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(_e){this.start(_e),this.computeValues(pointerValues(_e)),this.compute(_e),this.computeInitial(),this.emit()}moveChange(_e){if(!this.state._active)return;const nt=pointerValues(_e),it=this.state;it._delta=V.sub(nt,it._values),V.addTo(it._movement,it._delta),this.computeValues(nt),this.compute(_e),this.emit()}moveEnd(_e){this.state._active&&(this.state._active=!1,this.compute(_e),this.emit())}bind(_e){_e("pointer","change",this.move.bind(this)),_e("pointer","leave",this.moveEnd.bind(this))}}const moveConfigResolver=_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{mouseOnly:(et=!0)=>et});class ScrollEngine extends CoordinatesEngine{constructor(..._e){super(..._e),_defineProperty(this,"ingKey","scrolling")}scroll(_e){this.state._active||this.start(_e),this.scrollChange(_e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(_e){_e.cancelable&&_e.preventDefault();const nt=this.state,it=scrollValues(_e);nt._delta=V.sub(it,nt._values),V.addTo(nt._movement,nt._delta),this.computeValues(it),this.compute(_e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(_e){_e("scroll","",this.scroll.bind(this))}}const scrollConfigResolver=coordinatesConfigResolver;class WheelEngine extends CoordinatesEngine{constructor(..._e){super(..._e),_defineProperty(this,"ingKey","wheeling")}wheel(_e){this.state._active||this.start(_e),this.wheelChange(_e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(_e){const nt=this.state;nt._delta=wheelValues(_e),V.addTo(nt._movement,nt._delta),clampStateInternalMovementToBounds(nt),this.compute(_e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(_e){_e("wheel","",this.wheel.bind(this))}}const wheelConfigResolver=coordinatesConfigResolver;class HoverEngine extends CoordinatesEngine{constructor(..._e){super(..._e),_defineProperty(this,"ingKey","hovering")}enter(_e){this.config.mouseOnly&&_e.pointerType!=="mouse"||(this.start(_e),this.computeValues(pointerValues(_e)),this.compute(_e),this.emit())}leave(_e){if(this.config.mouseOnly&&_e.pointerType!=="mouse")return;const nt=this.state;if(!nt._active)return;nt._active=!1;const it=pointerValues(_e);nt._movement=nt._delta=V.sub(it,nt._values),this.computeValues(it),this.compute(_e),nt.delta=nt.movement,this.emit()}bind(_e){_e("pointer","enter",this.enter.bind(this)),_e("pointer","leave",this.leave.bind(this))}}const hoverConfigResolver=_objectSpread2(_objectSpread2({},coordinatesConfigResolver),{},{mouseOnly:(et=!0)=>et}),EngineMap=new Map,ConfigResolverMap=new Map;function registerAction(et){EngineMap.set(et.key,et.engine),ConfigResolverMap.set(et.key,et.resolver)}const dragAction={key:"drag",engine:DragEngine,resolver:dragConfigResolver},hoverAction={key:"hover",engine:HoverEngine,resolver:hoverConfigResolver},moveAction={key:"move",engine:MoveEngine,resolver:moveConfigResolver},pinchAction={key:"pinch",engine:PinchEngine,resolver:pinchConfigResolver},scrollAction={key:"scroll",engine:ScrollEngine,resolver:scrollConfigResolver},wheelAction={key:"wheel",engine:WheelEngine,resolver:wheelConfigResolver};function _objectWithoutPropertiesLoose(et,_e){if(et==null)return{};var nt={},it=Object.keys(et),at,ut;for(ut=0;ut<it.length;ut++)at=it[ut],!(_e.indexOf(at)>=0)&&(nt[at]=et[at]);return nt}function _objectWithoutProperties(et,_e){if(et==null)return{};var nt=_objectWithoutPropertiesLoose(et,_e),it,at;if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(et);for(at=0;at<ut.length;at++)it=ut[at],!(_e.indexOf(it)>=0)&&Object.prototype.propertyIsEnumerable.call(et,it)&&(nt[it]=et[it])}return nt}const sharedConfigResolver={target(et){if(et)return()=>"current"in et?et.current:et},enabled(et=!0){return et},window(et=SUPPORT.isBrowser?window:void 0){return et},eventOptions({passive:et=!0,capture:_e=!1}={}){return{passive:et,capture:_e}},transform(et){return et}},_excluded=["target","eventOptions","window","enabled","transform"];function resolveWith(et={},_e){const nt={};for(const[it,at]of Object.entries(_e))switch(typeof at){case"function":nt[it]=at.call(nt,et[it],it,et);break;case"object":nt[it]=resolveWith(et[it],at);break;case"boolean":at&&(nt[it]=et[it]);break}return nt}function parse(et,_e,nt={}){const it=et,{target:at,eventOptions:ut,window:dt,enabled:ft,transform:ht}=it,ct=_objectWithoutProperties(it,_excluded);if(nt.shared=resolveWith({target:at,eventOptions:ut,window:dt,enabled:ft,transform:ht},sharedConfigResolver),_e){const lt=ConfigResolverMap.get(_e);nt[_e]=resolveWith(_objectSpread2({shared:nt.shared},ct),lt)}else for(const lt in ct){const ot=ConfigResolverMap.get(lt);ot&&(nt[lt]=resolveWith(_objectSpread2({shared:nt.shared},ct[lt]),ot))}return nt}class EventStore{constructor(_e,nt){_defineProperty(this,"_listeners",new Set),this._ctrl=_e,this._gestureKey=nt}add(_e,nt,it,at,ut){const dt=this._listeners,ft=toDomEventType(nt,it),ht=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},ct=_objectSpread2(_objectSpread2({},ht),ut);_e.addEventListener(ft,at,ct);const lt=()=>{_e.removeEventListener(ft,at,ct),dt.delete(lt)};return dt.add(lt),lt}clean(){this._listeners.forEach(_e=>_e()),this._listeners.clear()}}class TimeoutStore{constructor(){_defineProperty(this,"_timeouts",new Map)}add(_e,nt,it=140,...at){this.remove(_e),this._timeouts.set(_e,window.setTimeout(nt,it,...at))}remove(_e){const nt=this._timeouts.get(_e);nt&&window.clearTimeout(nt)}clean(){this._timeouts.forEach(_e=>void window.clearTimeout(_e)),this._timeouts.clear()}}class Controller{constructor(_e){_defineProperty(this,"gestures",new Set),_defineProperty(this,"_targetEventStore",new EventStore(this)),_defineProperty(this,"gestureEventStores",{}),_defineProperty(this,"gestureTimeoutStores",{}),_defineProperty(this,"handlers",{}),_defineProperty(this,"config",{}),_defineProperty(this,"pointerIds",new Set),_defineProperty(this,"touchIds",new Set),_defineProperty(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),resolveGestures(this,_e)}setEventIds(_e){if(isTouch(_e))return this.touchIds=new Set(touchIds(_e)),this.touchIds;if("pointerId"in _e)return _e.type==="pointerup"||_e.type==="pointercancel"?this.pointerIds.delete(_e.pointerId):_e.type==="pointerdown"&&this.pointerIds.add(_e.pointerId),this.pointerIds}applyHandlers(_e,nt){this.handlers=_e,this.nativeHandlers=nt}applyConfig(_e,nt){this.config=parse(_e,nt,this.config)}clean(){this._targetEventStore.clean();for(const _e of this.gestures)this.gestureEventStores[_e].clean(),this.gestureTimeoutStores[_e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(..._e){const nt=this.config.shared,it={};let at;if(!(nt.target&&(at=nt.target(),!at))){if(nt.enabled){for(const dt of this.gestures){const ft=this.config[dt],ht=bindToProps(it,ft.eventOptions,!!at);if(ft.enabled){const ct=EngineMap.get(dt);new ct(this,_e,dt).bind(ht)}}const ut=bindToProps(it,nt.eventOptions,!!at);for(const dt in this.nativeHandlers)ut(dt,"",ft=>this.nativeHandlers[dt](_objectSpread2(_objectSpread2({},this.state.shared),{},{event:ft,args:_e})),void 0,!0)}for(const ut in it)it[ut]=chain(...it[ut]);if(!at)return it;for(const ut in it){const{device:dt,capture:ft,passive:ht}=parseProp(ut);this._targetEventStore.add(at,dt,"",it[ut],{capture:ft,passive:ht})}}}}function setupGesture(et,_e){et.gestures.add(_e),et.gestureEventStores[_e]=new EventStore(et,_e),et.gestureTimeoutStores[_e]=new TimeoutStore}function resolveGestures(et,_e){_e.drag&&setupGesture(et,"drag"),_e.wheel&&setupGesture(et,"wheel"),_e.scroll&&setupGesture(et,"scroll"),_e.move&&setupGesture(et,"move"),_e.pinch&&setupGesture(et,"pinch"),_e.hover&&setupGesture(et,"hover")}const bindToProps=(et,_e,nt)=>(it,at,ut,dt={},ft=!1)=>{var ht,ct;const lt=(ht=dt.capture)!==null&&ht!==void 0?ht:_e.capture,ot=(ct=dt.passive)!==null&&ct!==void 0?ct:_e.passive;let tt=ft?it:toHandlerProp(it,at,lt);nt&&ot&&(tt+="Passive"),et[tt]=et[tt]||[],et[tt].push(ut)},RE_NOT_NATIVE=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function sortHandlers(et){const _e={},nt={},it=new Set;for(let at in et)RE_NOT_NATIVE.test(at)?(it.add(RegExp.lastMatch),nt[at]=et[at]):_e[at]=et[at];return[nt,_e,it]}function registerGesture(et,_e,nt,it,at,ut){if(!et.has(nt)||!EngineMap.has(it))return;const dt=nt+"Start",ft=nt+"End",ht=ct=>{let lt;return ct.first&&dt in _e&&_e[dt](ct),nt in _e&&(lt=_e[nt](ct)),ct.last&&ft in _e&&_e[ft](ct),lt};at[it]=ht,ut[it]=ut[it]||{}}function parseMergedHandlers(et,_e){const[nt,it,at]=sortHandlers(et),ut={};return registerGesture(at,nt,"onDrag","drag",ut,_e),registerGesture(at,nt,"onWheel","wheel",ut,_e),registerGesture(at,nt,"onScroll","scroll",ut,_e),registerGesture(at,nt,"onPinch","pinch",ut,_e),registerGesture(at,nt,"onMove","move",ut,_e),registerGesture(at,nt,"onHover","hover",ut,_e),{handlers:ut,config:_e,nativeHandlers:it}}function useRecognizers(et,_e={},nt,it){const at=React.useMemo(()=>new Controller(et),[]);if(at.applyHandlers(et,it),at.applyConfig(_e,nt),React.useEffect(at.effect.bind(at)),React.useEffect(()=>at.clean.bind(at),[]),_e.target===void 0)return at.bind.bind(at)}function useDrag(et,_e){return registerAction(dragAction),useRecognizers({drag:et},_e||{},"drag")}function createUseGesture(et){return et.forEach(registerAction),function(nt,it){const{handlers:at,nativeHandlers:ut,config:dt}=parseMergedHandlers(nt,it||{});return useRecognizers(at,dt,void 0,ut)}}function useGesture(et,_e){return createUseGesture([dragAction,pinchAction,scrollAction,wheelAction,moveAction,hoverAction])(et,_e||{})}function c(et,_e=300,nt={}){const it=reactExports.useRef(null),at=reactExports.useCallback(ut=>{it.current?(clearTimeout(it.current),it.current=null,et&&et(ut)):it.current=setTimeout(()=>{nt.onSingleTap&&nt.onSingleTap(ut),it.current=null},_e)},[et,_e,nt.onSingleTap]);return et?{onClick:at}:{}}function createBoard(et){return load(configs[et])}const configs={xmas_4_1:{colors:`
    yygy yrgy
    bgyb ryrr
    rbbr rryb
    rbyr bbgy
    ggrg yryg
    ybrgygbrg
    yygbyrryb
    ggrbrbrbg
    grbyggygy
    `,ices:`
    3333 0000
    3333 0000
    3333 0000
    3333 0000
    0000 0000
    000000000
    000000000
    000000000
    000000000
    `,upstreams:`
    uuuu dddd
    uuuu dddd
    uuuu dddd
    uuuu dddd
    uuuu dddd
    uuuullddd
    uuulllldd
    uulllllld
    ullllllll
    `},xmas_4_2:{colors:`
    grggbbyyr
    rgbyyrygb
    gbybyrbrr
    rggyrgbyg
    yrbb brgg
    gryr bbgb
    bggy grbr
    byrr yggr
         grbg
    `,ices:`
    600060006
    060060060
    006060600
    000666000
    0000 0000
    0000 0000
    6666 0000
    6666 0000
         0000
    `,upstreams:`
    rrrrrrrrd
    urrrrrrdd
    uurrrrddd
    uuurrdddd
    uuuu dddd
    uuuu dddd
    uuuu dddd
    uuuu dddd
         dddd
    `},masters_3_3:{colors:`
    byarayyra
    ra.aayayb
    ayayyaayb
    byb   b.y
    baa   ary
    y.y
    abryrab.y
    abbrbyrra
    byy.abryr
    `,woods:`
    000000000
    003000000
    000000000
    000   030
    000   000
    030
    000000030
    000000000
    000300000
    `,upstreams:`
    rrrrrrrrd
    urrrrrrdd
    uurrrrddd
    uuu   ddd
    uuu   ddd
    uuu
    uuullllll
    uulllllll
    ullllllll
    `}},initialStage="xmas_4_1",initialBoard=createBoard(initialStage),initialState$1={stage:initialStage,board:initialBoard,pieces:initialBoard.pieces,histories:[initialBoard.pieces],historyIndex:0,isPlaying:!1};function reduce$1(et,_e){switch(_e.type){case"setStage":return setStage(et,_e.stage);case"setSwap":return setSwap(et,_e.position,_e.triggerPosition);case"moved":return moved(et,_e.complete);case"historyBack":return historyTo(et,et.historyIndex-1);case"historyBackFirst":return historyTo(et,0);case"historyForward":return historyTo(et,et.historyIndex+1);case"historyForwardLast":return historyTo(et,et.histories.length-1);case"reset":return reset(et)}}function setStage(et,_e){if(et.stage===_e)return et;const nt=createBoard(_e);return{stage:_e,board:nt,pieces:nt.pieces,histories:[nt.pieces],historyIndex:0,isPlaying:!1}}function setSwap(et,_e,nt){return _e===void 0||nt===void 0?{...et,swap:void 0}:{...et,swap:{position:_e,triggerPosition:nt}}}function moved(et,_e){const nt=_e?{histories:et.histories.slice(0,et.historyIndex+1).concat([et.board.pieces]),historyIndex:et.historyIndex+1}:{};return{...et,...nt,pieces:et.board.pieces,isPlaying:!_e}}function historyTo(et,_e){return _e<0||_e>=et.histories.length?et:(et.board.pieces=et.histories[_e],{...et,pieces:et.board.pieces,historyIndex:_e})}function reset(et){return{...et,pieces:et.board.pieces,histories:[et.board.pieces],historyIndex:0,isPlaying:!1,swap:void 0}}const AppContext=reactExports.createContext([initialState$1,()=>{}]);function useApp(){const[et,_e]=reactExports.useContext(AppContext);return{...et,dispatch:_e}}function usePlayMove(){const{board:et,dispatch:_e}=useApp();return async nt=>{try{for(const it of moveScenes(et,nt))_e({type:"moved",complete:!1}),await new Promise(at=>setTimeout(at,it===MoveScene.Match?300:200));_e({type:"moved",complete:!0})}catch(it){if(it instanceof InvalidMove){console.warn("InvalidMove",nt);return}throw it}}}function PieceView({position:et}){const{board:_e,pieces:nt,isPlaying:it,swap:at,dispatch:ut}=useApp(),dt=nt[et[0]][et[1]],[ft,ht]=reactExports.useState(!1),[ct,lt]=reactExports.useState(),ot=reactExports.useRef(null),[tt,rt]=reactExports.useState(new Set),[st,pt]=reactExports.useState(new Set),[{x:gt,y:mt},yt]=useSpring(()=>({x:0,y:0,config:{tension:300}})),bt=usePlayMove(),vt=useDrag(({first:It,down:Rt,movement:Ft})=>{var jt;if(it)return;if(It){clearTimeout(ct),ht(!0);const Mt=[Direction.Up,Direction.Down,Direction.Left,Direction.Right].filter(Lt=>canMove(_e,new Move(et,Lt)));rt(new Set(Mt)),pt(new Set(Mt.filter(Lt=>isCombo(_e,new Move(et,Lt)))))}Rt||lt(setTimeout(()=>{ht(!1)},500));let[Pt,Bt]=Ft;const Et=((jt=ot.current)==null?void 0:jt.clientWidth)??64;Math.abs(Pt)>Math.abs(Bt)?(Bt=0,Pt=Math.max(Pt,tt.has(Direction.Left)?-Et:0),Pt=Math.min(Pt,tt.has(Direction.Right)?Et:0)):(Pt=0,Bt=Math.max(Bt,tt.has(Direction.Up)?-Et:0),Bt=Math.min(Bt,tt.has(Direction.Down)?Et:0));let At;Math.abs(Pt+Bt)>Et/2&&(Pt<0?At=Direction.Left:Pt>0?At=Direction.Right:Bt<0?At=Direction.Up:Bt>0&&(At=Direction.Down)),Rt?At!==void 0&&!st.has(At)?ut({type:"setSwap",position:new Move(et,At).positions()[1],triggerPosition:et}):ut({type:"setSwap"}):(ut({type:"setSwap"}),At!==void 0&&bt(new Move(et,At)).catch(console.error)),yt.start({x:Rt?Pt:0,y:Rt?Bt:0,immediate:Rt||At!==void 0})},{threshold:10}),[wt,xt]=reactExports.useState(!1);reactExports.useEffect(()=>{var It;if(at===void 0)wt&&(xt(!1),yt.start({x:0,y:0}));else if(!wt&&at.position[0]===et[0]&&at.position[1]===et[1]){xt(!0);const Rt=((It=ot.current)==null?void 0:It.clientWidth)??64;yt.start({x:(at.triggerPosition[0]-et[0])*Rt,y:(at.triggerPosition[1]-et[1])*Rt})}},[yt,at,wt,et]),reactExports.useEffect(()=>{wt&&(xt(!1),yt.start({x:0,y:0,immediate:!0}))},[nt]);const Tt=reactExports.useCallback(()=>{if(ft||wt)return;const It=new Move(et,Direction.Zero);canMove(_e,It)&&bt(It).catch(console.error)},[ft,wt,et,_e,dt]),Ot=c(Tt),$t=reactExports.useMemo(()=>pieceClasses(dt),[dt]);return jsxRuntimeExports.jsx("div",{className:classNames("piece-view",{"is-moving":ft,"is-swapping":wt}),...Ot,ref:ot,children:jsxRuntimeExports.jsx(animated.div,{className:classNames("piece",$t),...vt(),style:{x:gt,y:mt}})})}function pieceClasses(et){const _e=[];return et.face===Kind.Unknown?_e.push("is-unknown"):isColor(et.face)?_e.push("is-"+{[Kind.Red]:"red",[Kind.Blue]:"blue",[Kind.Green]:"green",[Kind.Yellow]:"yellow",[Kind.Aqua]:"aqua",[Kind.Pink]:"pink"}[et.face]):isBooster(et.face)?_e.push("is-"+{[Kind.Special]:"special",[Kind.Bomb]:"bomb",[Kind.HRocket]:"hrocket",[Kind.VRocket]:"vrocket",[Kind.Missile]:"missile"}[et.face]):et.face instanceof Object&&_e.push("is-"+{[Kind.Mouse]:"mouse",[Kind.Wood]:"wood"}[et.face.kind]+"-"+String(et.face.count)),et.ice>0&&_e.push("is-ice-"+String(et.ice)),_e}function BoardView(){const{board:et}=useApp();return jsxRuntimeExports.jsxs("div",{className:"board-view",children:[jsxRuntimeExports.jsx("div",{className:"pieces is-bg",children:range(1,et.height+1).map(_e=>jsxRuntimeExports.jsx("div",{className:"row",children:range(1,et.width+1).map(nt=>jsxRuntimeExports.jsx(BackgroundPiece,{position:[nt,_e]},nt))},_e))}),jsxRuntimeExports.jsx("div",{className:"pieces",children:range(1,et.height+1).map(_e=>jsxRuntimeExports.jsx("div",{className:"row",children:range(1,et.width+1).map(nt=>jsxRuntimeExports.jsx(PieceView,{position:[nt,_e]},nt))},_e))})]})}function BackgroundPiece({position:et}){const{pieces:_e}=useApp(),nt=_e[et[0]][et[1]];return jsxRuntimeExports.jsx("div",{className:classNames("background-piece",{"is-out":nt.face===Kind.Out}),children:jsxRuntimeExports.jsx("div",{className:"piece"})})}function HistoryNav(){const{histories:et,historyIndex:_e,dispatch:nt}=useApp();return jsxRuntimeExports.jsxs("div",{className:"history-nav",children:[jsxRuntimeExports.jsx("button",{className:"button",disabled:_e===0,onClick:()=>{nt({type:"historyBackFirst"})},children:jsxRuntimeExports.jsx("span",{className:"icon",children:jsxRuntimeExports.jsx("i",{className:"fas fa-solid fa-backward-step"})})}),jsxRuntimeExports.jsx("button",{className:"button is-disabled",disabled:_e===0,onClick:()=>{nt({type:"historyBack"})},children:jsxRuntimeExports.jsx("span",{className:"icon",children:jsxRuntimeExports.jsx("i",{className:"fas fa-solid fa-caret-left fa-lg"})})}),jsxRuntimeExports.jsx("button",{className:"button",disabled:_e===et.length-1,onClick:()=>{nt({type:"historyForward"})},children:jsxRuntimeExports.jsx("span",{className:"icon",children:jsxRuntimeExports.jsx("i",{className:"fas fa-solid fa-caret-right fa-lg"})})}),jsxRuntimeExports.jsx("button",{className:"button",disabled:_e===et.length-1,onClick:()=>{nt({type:"historyForwardLast"})},children:jsxRuntimeExports.jsx("span",{className:"icon",children:jsxRuntimeExports.jsx("i",{className:"fas fa-solid fa-forward-step"})})})]})}function StageSelect(){const{stage:et,dispatch:_e}=useApp(),nt=reactExports.useCallback(it=>{_e({type:"setStage",stage:it.target.value})},[_e]);return jsxRuntimeExports.jsxs("div",{className:"field has-addons stage-select",children:[jsxRuntimeExports.jsx("div",{className:"control",children:jsxRuntimeExports.jsx("a",{className:"button is-static",children:""})}),jsxRuntimeExports.jsx("div",{className:"control is-expanded",children:jsxRuntimeExports.jsx("div",{className:"select is-fullwidth",children:jsxRuntimeExports.jsxs("select",{value:et,onChange:nt,children:[jsxRuntimeExports.jsx("optgroup",{label:"",children:jsxRuntimeExports.jsx("option",{value:"masters_3_3",children:" 3 C"})}),jsxRuntimeExports.jsxs("optgroup",{label:"",children:[jsxRuntimeExports.jsx("option",{value:"xmas_4_1",children:" 4 wave1"}),jsxRuntimeExports.jsx("option",{value:"xmas_4_2",children:" 4 wave2"})]})]})})})]})}const AppProvider=({children:et})=>{const[_e,nt]=reactExports.useReducer(reduce$1,initialState$1);return jsxRuntimeExports.jsx(AppContext.Provider,{value:[_e,nt],children:et})};function Canvas(){return jsxRuntimeExports.jsx("canvas",{id:"capture-canvas",width:"64",height:"64",style:{width:"1px",height:"1px",visibility:"hidden"}})}async function loadImage(et){return await new Promise((_e,nt)=>{const it=new Image;it.onload=()=>{_e(it)},it.onerror=ut=>{nt(ut)};const at=new FileReader;at.onload=()=>{it.src=at.result},at.readAsDataURL(et)})}const initialState={};function reduce(et,_e){switch(_e.type){case"setImage":return setImage(et,_e.image)}}function setImage(et,_e){return{...et,image:_e}}const CaptureContext=reactExports.createContext([initialState,()=>{}]);function useCapture(){const[et,_e]=reactExports.useContext(CaptureContext);return{...et,dispatch:_e}}function CaptureButton(){const{dispatch:et}=useCapture(),_e=reactExports.useCallback(nt=>{(async()=>{const it=nt.target.files;if(it===null)return;const at=await loadImage(it[0]);et({type:"setImage",image:at}),nt.target.value=""})().catch(()=>{_t.error("")})},[et]);return jsxRuntimeExports.jsx("div",{className:"file capture-button",children:jsxRuntimeExports.jsxs("label",{className:"file-label",children:[jsxRuntimeExports.jsx("input",{className:"file-input",type:"file",accept:"image/*",onChange:_e}),jsxRuntimeExports.jsxs("span",{className:"file-cta",children:[jsxRuntimeExports.jsx("span",{className:"file-icon",children:jsxRuntimeExports.jsx("i",{className:"fas fa-image"})}),jsxRuntimeExports.jsx("span",{className:"file-label",children:""})]})]})})}function set(et,_e){localStorage.setItem(et,JSON.stringify(_e))}function get(et){const _e=localStorage.getItem(et);if(_e!==null)return JSON.parse(_e)}function useBodySize(){const[et,_e]=reactExports.useState(()=>[document.body.scrollWidth,document.body.scrollHeight]);return reactExports.useEffect(()=>{const nt=()=>{_e([document.body.scrollWidth,document.body.scrollHeight])};return window.addEventListener("resize",nt),()=>{window.removeEventListener("resize",nt)}},[]),et}function iota$1(et){for(var _e=new Array(et),nt=0;nt<et;++nt)_e[nt]=nt;return _e}var iota_1=iota$1;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var isBuffer_1=function(et){return et!=null&&(isBuffer$1(et)||isSlowBuffer(et)||!!et._isBuffer)};function isBuffer$1(et){return!!et.constructor&&typeof et.constructor.isBuffer=="function"&&et.constructor.isBuffer(et)}function isSlowBuffer(et){return typeof et.readFloatLE=="function"&&typeof et.slice=="function"&&isBuffer$1(et.slice(0,0))}var iota=iota_1,isBuffer=isBuffer_1,hasTypedArrays=typeof Float64Array<"u";function compare1st(et,_e){return et[0]-_e[0]}function order(){var et=this.stride,_e=new Array(et.length),nt;for(nt=0;nt<_e.length;++nt)_e[nt]=[Math.abs(et[nt]),nt];_e.sort(compare1st);var it=new Array(_e.length);for(nt=0;nt<it.length;++nt)it[nt]=_e[nt][1];return it}function compileConstructor(et,_e){var nt=["View",_e,"d",et].join("");_e<0&&(nt="View_Nil"+et);var it=et==="generic";if(_e===-1){var at="function "+nt+"(a){this.data=a;};var proto="+nt+".prototype;proto.dtype='"+et+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+nt+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+nt+"(a){return new "+nt+"(a);}",pt=new Function(at);return pt()}else if(_e===0){var at="function "+nt+"(a,d) {this.data = a;this.offset = d};var proto="+nt+".prototype;proto.dtype='"+et+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+nt+"_copy() {return new "+nt+"(this.data,this.offset)};proto.pick=function "+nt+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+nt+"_get(){return "+(it?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+nt+"_set(v){return "+(it?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+nt+"(a,b,c,d){return new "+nt+"(a,d)}",pt=new Function("TrivialArray",at);return pt(CACHED_CONSTRUCTORS[et][0])}var at=["'use strict'"],ut=iota(_e),dt=ut.map(function(gt){return"i"+gt}),ft="this.offset+"+ut.map(function(gt){return"this.stride["+gt+"]*i"+gt}).join("+"),ht=ut.map(function(gt){return"b"+gt}).join(","),ct=ut.map(function(gt){return"c"+gt}).join(",");at.push("function "+nt+"(a,"+ht+","+ct+",d){this.data=a","this.shape=["+ht+"]","this.stride=["+ct+"]","this.offset=d|0}","var proto="+nt+".prototype","proto.dtype='"+et+"'","proto.dimension="+_e),at.push("Object.defineProperty(proto,'size',{get:function "+nt+"_size(){return "+ut.map(function(gt){return"this.shape["+gt+"]"}).join("*"),"}})"),_e===1?at.push("proto.order=[0]"):(at.push("Object.defineProperty(proto,'order',{get:"),_e<4?(at.push("function "+nt+"_order(){"),_e===2?at.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):_e===3&&at.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):at.push("ORDER})")),at.push("proto.set=function "+nt+"_set("+dt.join(",")+",v){"),it?at.push("return this.data.set("+ft+",v)}"):at.push("return this.data["+ft+"]=v}"),at.push("proto.get=function "+nt+"_get("+dt.join(",")+"){"),it?at.push("return this.data.get("+ft+")}"):at.push("return this.data["+ft+"]}"),at.push("proto.index=function "+nt+"_index(",dt.join(),"){return "+ft+"}"),at.push("proto.hi=function "+nt+"_hi("+dt.join(",")+"){return new "+nt+"(this.data,"+ut.map(function(gt){return["(typeof i",gt,"!=='number'||i",gt,"<0)?this.shape[",gt,"]:i",gt,"|0"].join("")}).join(",")+","+ut.map(function(gt){return"this.stride["+gt+"]"}).join(",")+",this.offset)}");var lt=ut.map(function(gt){return"a"+gt+"=this.shape["+gt+"]"}),ot=ut.map(function(gt){return"c"+gt+"=this.stride["+gt+"]"});at.push("proto.lo=function "+nt+"_lo("+dt.join(",")+"){var b=this.offset,d=0,"+lt.join(",")+","+ot.join(","));for(var tt=0;tt<_e;++tt)at.push("if(typeof i"+tt+"==='number'&&i"+tt+">=0){d=i"+tt+"|0;b+=c"+tt+"*d;a"+tt+"-=d}");at.push("return new "+nt+"(this.data,"+ut.map(function(gt){return"a"+gt}).join(",")+","+ut.map(function(gt){return"c"+gt}).join(",")+",b)}"),at.push("proto.step=function "+nt+"_step("+dt.join(",")+"){var "+ut.map(function(gt){return"a"+gt+"=this.shape["+gt+"]"}).join(",")+","+ut.map(function(gt){return"b"+gt+"=this.stride["+gt+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var tt=0;tt<_e;++tt)at.push("if(typeof i"+tt+"==='number'){d=i"+tt+"|0;if(d<0){c+=b"+tt+"*(a"+tt+"-1);a"+tt+"=ceil(-a"+tt+"/d)}else{a"+tt+"=ceil(a"+tt+"/d)}b"+tt+"*=d}");at.push("return new "+nt+"(this.data,"+ut.map(function(gt){return"a"+gt}).join(",")+","+ut.map(function(gt){return"b"+gt}).join(",")+",c)}");for(var rt=new Array(_e),st=new Array(_e),tt=0;tt<_e;++tt)rt[tt]="a[i"+tt+"]",st[tt]="b[i"+tt+"]";at.push("proto.transpose=function "+nt+"_transpose("+dt+"){"+dt.map(function(gt,mt){return gt+"=("+gt+"===undefined?"+mt+":"+gt+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+nt+"(this.data,"+rt.join(",")+","+st.join(",")+",this.offset)}"),at.push("proto.pick=function "+nt+"_pick("+dt+"){var a=[],b=[],c=this.offset");for(var tt=0;tt<_e;++tt)at.push("if(typeof i"+tt+"==='number'&&i"+tt+">=0){c=(c+this.stride["+tt+"]*i"+tt+")|0}else{a.push(this.shape["+tt+"]);b.push(this.stride["+tt+"])}");at.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),at.push("return function construct_"+nt+"(data,shape,stride,offset){return new "+nt+"(data,"+ut.map(function(gt){return"shape["+gt+"]"}).join(",")+","+ut.map(function(gt){return"stride["+gt+"]"}).join(",")+",offset)}");var pt=new Function("CTOR_LIST","ORDER",at.join(`
`));return pt(CACHED_CONSTRUCTORS[et],order)}function arrayDType(et){if(isBuffer(et))return"buffer";if(hasTypedArrays)switch(Object.prototype.toString.call(et)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(et)?"array":"generic"}var CACHED_CONSTRUCTORS={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function wrappedNDArrayCtor(et,_e,nt,it){if(et===void 0){var ct=CACHED_CONSTRUCTORS.array[0];return ct([])}else typeof et=="number"&&(et=[et]);_e===void 0&&(_e=[et.length]);var at=_e.length;if(nt===void 0){nt=new Array(at);for(var ut=at-1,dt=1;ut>=0;--ut)nt[ut]=dt,dt*=_e[ut]}if(it===void 0){it=0;for(var ut=0;ut<at;++ut)nt[ut]<0&&(it-=(_e[ut]-1)*nt[ut])}for(var ft=arrayDType(et),ht=CACHED_CONSTRUCTORS[ft];ht.length<=at+1;)ht.push(compileConstructor(ft,ht.length-1));var ct=ht[at+1];return ct(et,_e,nt,it)}var ndarray=wrappedNDArrayCtor;const ndarray$1=getDefaultExportFromCjs(ndarray);var ndarrayOps={};function unique_pred(et,_e){for(var nt=1,it=et.length,at=et[0],ut=et[0],dt=1;dt<it;++dt)if(ut=at,at=et[dt],_e(at,ut)){if(dt===nt){nt++;continue}et[nt++]=at}return et.length=nt,et}function unique_eq(et){for(var _e=1,nt=et.length,it=et[0],at=et[0],ut=1;ut<nt;++ut,at=it)if(at=it,it=et[ut],it!==at){if(ut===_e){_e++;continue}et[_e++]=it}return et.length=_e,et}function unique(et,_e,nt){return et.length===0?et:_e?(nt||et.sort(_e),unique_pred(et,_e)):(nt||et.sort(),unique_eq(et))}var uniq$1=unique,uniq=uniq$1;function innerFill(et,_e,nt){var it=et.length,at=_e.arrayArgs.length,ut=_e.indexArgs.length>0,dt=[],ft=[],ht=0,ct=0,lt,ot;for(lt=0;lt<it;++lt)ft.push(["i",lt,"=0"].join(""));for(ot=0;ot<at;++ot)for(lt=0;lt<it;++lt)ct=ht,ht=et[lt],lt===0?ft.push(["d",ot,"s",lt,"=t",ot,"p",ht].join("")):ft.push(["d",ot,"s",lt,"=(t",ot,"p",ht,"-s",ct,"*t",ot,"p",ct,")"].join(""));for(ft.length>0&&dt.push("var "+ft.join(",")),lt=it-1;lt>=0;--lt)ht=et[lt],dt.push(["for(i",lt,"=0;i",lt,"<s",ht,";++i",lt,"){"].join(""));for(dt.push(nt),lt=0;lt<it;++lt){for(ct=ht,ht=et[lt],ot=0;ot<at;++ot)dt.push(["p",ot,"+=d",ot,"s",lt].join(""));ut&&(lt>0&&dt.push(["index[",ct,"]-=s",ct].join("")),dt.push(["++index[",ht,"]"].join(""))),dt.push("}")}return dt.join(`
`)}function outerFill(et,_e,nt,it){for(var at=_e.length,ut=nt.arrayArgs.length,dt=nt.blockSize,ft=nt.indexArgs.length>0,ht=[],ct=0;ct<ut;++ct)ht.push(["var offset",ct,"=p",ct].join(""));for(var ct=et;ct<at;++ct)ht.push(["for(var j"+ct+"=SS[",_e[ct],"]|0;j",ct,">0;){"].join("")),ht.push(["if(j",ct,"<",dt,"){"].join("")),ht.push(["s",_e[ct],"=j",ct].join("")),ht.push(["j",ct,"=0"].join("")),ht.push(["}else{s",_e[ct],"=",dt].join("")),ht.push(["j",ct,"-=",dt,"}"].join("")),ft&&ht.push(["index[",_e[ct],"]=j",ct].join(""));for(var ct=0;ct<ut;++ct){for(var lt=["offset"+ct],ot=et;ot<at;++ot)lt.push(["j",ot,"*t",ct,"p",_e[ot]].join(""));ht.push(["p",ct,"=(",lt.join("+"),")"].join(""))}ht.push(innerFill(_e,nt,it));for(var ct=et;ct<at;++ct)ht.push("}");return ht.join(`
`)}function countMatches(et){for(var _e=0,nt=et[0].length;_e<nt;){for(var it=1;it<et.length;++it)if(et[it][_e]!==et[0][_e])return _e;++_e}return _e}function processBlock(et,_e,nt){for(var it=et.body,at=[],ut=[],dt=0;dt<et.args.length;++dt){var ft=et.args[dt];if(!(ft.count<=0)){var ht=new RegExp(ft.name,"g"),ct="",lt=_e.arrayArgs.indexOf(dt);switch(_e.argTypes[dt]){case"offset":var ot=_e.offsetArgIndex.indexOf(dt),tt=_e.offsetArgs[ot];lt=tt.array,ct="+q"+ot;case"array":ct="p"+lt+ct;var rt="l"+dt,st="a"+lt;if(_e.arrayBlockIndices[lt]===0)ft.count===1?nt[lt]==="generic"?ft.lvalue?(at.push(["var ",rt,"=",st,".get(",ct,")"].join("")),it=it.replace(ht,rt),ut.push([st,".set(",ct,",",rt,")"].join(""))):it=it.replace(ht,[st,".get(",ct,")"].join("")):it=it.replace(ht,[st,"[",ct,"]"].join("")):nt[lt]==="generic"?(at.push(["var ",rt,"=",st,".get(",ct,")"].join("")),it=it.replace(ht,rt),ft.lvalue&&ut.push([st,".set(",ct,",",rt,")"].join(""))):(at.push(["var ",rt,"=",st,"[",ct,"]"].join("")),it=it.replace(ht,rt),ft.lvalue&&ut.push([st,"[",ct,"]=",rt].join("")));else{for(var pt=[ft.name],gt=[ct],mt=0;mt<Math.abs(_e.arrayBlockIndices[lt]);mt++)pt.push("\\s*\\[([^\\]]+)\\]"),gt.push("$"+(mt+1)+"*t"+lt+"b"+mt);if(ht=new RegExp(pt.join(""),"g"),ct=gt.join("+"),nt[lt]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");it=it.replace(ht,[st,"[",ct,"]"].join(""))}break;case"scalar":it=it.replace(ht,"Y"+_e.scalarArgs.indexOf(dt));break;case"index":it=it.replace(ht,"index");break;case"shape":it=it.replace(ht,"shape");break}}}return[at.join(`
`),it,ut.join(`
`)].join(`
`).trim()}function typeSummary(et){for(var _e=new Array(et.length),nt=!0,it=0;it<et.length;++it){var at=et[it],ut=at.match(/\d+/);ut?ut=ut[0]:ut="",at.charAt(0)===0?_e[it]="u"+at.charAt(1)+ut:_e[it]=at.charAt(0)+ut,it>0&&(nt=nt&&_e[it]===_e[it-1])}return nt?_e[0]:_e.join("")}function generateCWiseOp(et,_e){for(var nt=_e[1].length-Math.abs(et.arrayBlockIndices[0])|0,it=new Array(et.arrayArgs.length),at=new Array(et.arrayArgs.length),ut=0;ut<et.arrayArgs.length;++ut)at[ut]=_e[2*ut],it[ut]=_e[2*ut+1];for(var dt=[],ft=[],ht=[],ct=[],lt=[],ut=0;ut<et.arrayArgs.length;++ut){et.arrayBlockIndices[ut]<0?(ht.push(0),ct.push(nt),dt.push(nt),ft.push(nt+et.arrayBlockIndices[ut])):(ht.push(et.arrayBlockIndices[ut]),ct.push(et.arrayBlockIndices[ut]+nt),dt.push(0),ft.push(et.arrayBlockIndices[ut]));for(var ot=[],tt=0;tt<it[ut].length;tt++)ht[ut]<=it[ut][tt]&&it[ut][tt]<ct[ut]&&ot.push(it[ut][tt]-ht[ut]);lt.push(ot)}for(var rt=["SS"],st=["'use strict'"],pt=[],tt=0;tt<nt;++tt)pt.push(["s",tt,"=SS[",tt,"]"].join(""));for(var ut=0;ut<et.arrayArgs.length;++ut){rt.push("a"+ut),rt.push("t"+ut),rt.push("p"+ut);for(var tt=0;tt<nt;++tt)pt.push(["t",ut,"p",tt,"=t",ut,"[",ht[ut]+tt,"]"].join(""));for(var tt=0;tt<Math.abs(et.arrayBlockIndices[ut]);++tt)pt.push(["t",ut,"b",tt,"=t",ut,"[",dt[ut]+tt,"]"].join(""))}for(var ut=0;ut<et.scalarArgs.length;++ut)rt.push("Y"+ut);if(et.shapeArgs.length>0&&pt.push("shape=SS.slice(0)"),et.indexArgs.length>0){for(var gt=new Array(nt),ut=0;ut<nt;++ut)gt[ut]="0";pt.push(["index=[",gt.join(","),"]"].join(""))}for(var ut=0;ut<et.offsetArgs.length;++ut){for(var mt=et.offsetArgs[ut],yt=[],tt=0;tt<mt.offset.length;++tt)mt.offset[tt]!==0&&(mt.offset[tt]===1?yt.push(["t",mt.array,"p",tt].join("")):yt.push([mt.offset[tt],"*t",mt.array,"p",tt].join("")));yt.length===0?pt.push("q"+ut+"=0"):pt.push(["q",ut,"=",yt.join("+")].join(""))}var bt=uniq([].concat(et.pre.thisVars).concat(et.body.thisVars).concat(et.post.thisVars));pt=pt.concat(bt),pt.length>0&&st.push("var "+pt.join(","));for(var ut=0;ut<et.arrayArgs.length;++ut)st.push("p"+ut+"|=0");et.pre.body.length>3&&st.push(processBlock(et.pre,et,at));var vt=processBlock(et.body,et,at),wt=countMatches(lt);wt<nt?st.push(outerFill(wt,lt[0],et,vt)):st.push(innerFill(lt[0],et,vt)),et.post.body.length>3&&st.push(processBlock(et.post,et,at)),et.debug&&console.log("-----Generated cwise routine for ",_e,`:
`+st.join(`
`)+`
----------`);var xt=[et.funcName||"unnamed","_cwise_loop_",it[0].join("s"),"m",wt,typeSummary(at)].join(""),Tt=new Function(["function ",xt,"(",rt.join(","),"){",st.join(`
`),"} return ",xt].join(""));return Tt()}var compile$1=generateCWiseOp,compile=compile$1;function createThunk$1(et){var _e=["'use strict'","var CACHED={}"],nt=[],it=et.funcName+"_cwise_thunk";_e.push(["return function ",it,"(",et.shimArgs.join(","),"){"].join(""));for(var at=[],ut=[],dt=[["array",et.arrayArgs[0],".shape.slice(",Math.max(0,et.arrayBlockIndices[0]),et.arrayBlockIndices[0]<0?","+et.arrayBlockIndices[0]+")":")"].join("")],ft=[],ht=[],ct=0;ct<et.arrayArgs.length;++ct){var lt=et.arrayArgs[ct];nt.push(["t",lt,"=array",lt,".dtype,","r",lt,"=array",lt,".order"].join("")),at.push("t"+lt),at.push("r"+lt),ut.push("t"+lt),ut.push("r"+lt+".join()"),dt.push("array"+lt+".data"),dt.push("array"+lt+".stride"),dt.push("array"+lt+".offset|0"),ct>0&&(ft.push("array"+et.arrayArgs[0]+".shape.length===array"+lt+".shape.length+"+(Math.abs(et.arrayBlockIndices[0])-Math.abs(et.arrayBlockIndices[ct]))),ht.push("array"+et.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,et.arrayBlockIndices[0])+"]===array"+lt+".shape[shapeIndex+"+Math.max(0,et.arrayBlockIndices[ct])+"]"))}et.arrayArgs.length>1&&(_e.push("if (!("+ft.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),_e.push("for(var shapeIndex=array"+et.arrayArgs[0]+".shape.length-"+Math.abs(et.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),_e.push("if (!("+ht.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),_e.push("}"));for(var ct=0;ct<et.scalarArgs.length;++ct)dt.push("scalar"+et.scalarArgs[ct]);nt.push(["type=[",ut.join(","),"].join()"].join("")),nt.push("proc=CACHED[type]"),_e.push("var "+nt.join(",")),_e.push(["if(!proc){","CACHED[type]=proc=compile([",at.join(","),"])}","return proc(",dt.join(","),")}"].join("")),et.debug&&console.log(`-----Generated thunk:
`+_e.join(`
`)+`
----------`);var ot=new Function("compile",_e.join(`
`));return ot(compile.bind(void 0,et))}var thunk=createThunk$1,createThunk=thunk;function Procedure(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function compileCwise(et){var _e=new Procedure;_e.pre=et.pre,_e.body=et.body,_e.post=et.post;var nt=et.args.slice(0);_e.argTypes=nt;for(var it=0;it<nt.length;++it){var at=nt[it];if(at==="array"||typeof at=="object"&&at.blockIndices){if(_e.argTypes[it]="array",_e.arrayArgs.push(it),_e.arrayBlockIndices.push(at.blockIndices?at.blockIndices:0),_e.shimArgs.push("array"+it),it<_e.pre.args.length&&_e.pre.args[it].count>0)throw new Error("cwise: pre() block may not reference array args");if(it<_e.post.args.length&&_e.post.args[it].count>0)throw new Error("cwise: post() block may not reference array args")}else if(at==="scalar")_e.scalarArgs.push(it),_e.shimArgs.push("scalar"+it);else if(at==="index"){if(_e.indexArgs.push(it),it<_e.pre.args.length&&_e.pre.args[it].count>0)throw new Error("cwise: pre() block may not reference array index");if(it<_e.body.args.length&&_e.body.args[it].lvalue)throw new Error("cwise: body() block may not write to array index");if(it<_e.post.args.length&&_e.post.args[it].count>0)throw new Error("cwise: post() block may not reference array index")}else if(at==="shape"){if(_e.shapeArgs.push(it),it<_e.pre.args.length&&_e.pre.args[it].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(it<_e.body.args.length&&_e.body.args[it].lvalue)throw new Error("cwise: body() block may not write to array shape");if(it<_e.post.args.length&&_e.post.args[it].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof at=="object"&&at.offset)_e.argTypes[it]="offset",_e.offsetArgs.push({array:at.array,offset:at.offset}),_e.offsetArgIndex.push(it);else throw new Error("cwise: Unknown argument type "+nt[it])}if(_e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(_e.pre.args.length>nt.length)throw new Error("cwise: Too many arguments in pre() block");if(_e.body.args.length>nt.length)throw new Error("cwise: Too many arguments in body() block");if(_e.post.args.length>nt.length)throw new Error("cwise: Too many arguments in post() block");return _e.debug=!!et.printCode||!!et.debug,_e.funcName=et.funcName||"cwise",_e.blockSize=et.blockSize||64,createThunk(_e)}var compiler=compileCwise;(function(et){var _e=compiler,nt={body:"",args:[],thisVars:[],localVars:[]};function it(tt){if(!tt)return nt;for(var rt=0;rt<tt.args.length;++rt){var st=tt.args[rt];rt===0?tt.args[rt]={name:st,lvalue:!0,rvalue:!!tt.rvalue,count:tt.count||1}:tt.args[rt]={name:st,lvalue:!1,rvalue:!0,count:1}}return tt.thisVars||(tt.thisVars=[]),tt.localVars||(tt.localVars=[]),tt}function at(tt){return _e({args:tt.args,pre:it(tt.pre),body:it(tt.body),post:it(tt.proc),funcName:tt.funcName})}function ut(tt){for(var rt=[],st=0;st<tt.args.length;++st)rt.push("a"+st);var pt=new Function("P",["return function ",tt.funcName,"_ndarrayops(",rt.join(","),") {P(",rt.join(","),");return a0}"].join(""));return pt(at(tt))}var dt={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var tt in dt){var rt=dt[tt];et[tt]=ut({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+rt+"c"},funcName:tt}),et[tt+"eq"]=ut({args:["array","array"],body:{args:["a","b"],body:"a"+rt+"=b"},rvalue:!0,funcName:tt+"eq"}),et[tt+"s"]=ut({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+rt+"s"},funcName:tt+"s"}),et[tt+"seq"]=ut({args:["array","scalar"],body:{args:["a","s"],body:"a"+rt+"=s"},rvalue:!0,funcName:tt+"seq"})}})();var ft={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var tt in ft){var rt=ft[tt];et[tt]=ut({args:["array","array"],body:{args:["a","b"],body:"a="+rt+"b"},funcName:tt}),et[tt+"eq"]=ut({args:["array"],body:{args:["a"],body:"a="+rt+"a"},rvalue:!0,count:2,funcName:tt+"eq"})}})();var ht={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var tt in ht){var rt=ht[tt];et[tt]=ut({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+rt+"c"},funcName:tt}),et[tt+"s"]=ut({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+rt+"s"},funcName:tt+"s"}),et[tt+"eq"]=ut({args:["array","array"],body:{args:["a","b"],body:"a=a"+rt+"b"},rvalue:!0,count:2,funcName:tt+"eq"}),et[tt+"seq"]=ut({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+rt+"s"},rvalue:!0,count:2,funcName:tt+"seq"})}})();var ct=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var tt=0;tt<ct.length;++tt){var rt=ct[tt];et[rt]=ut({args:["array","array"],pre:{args:[],body:"this_f=Math."+rt,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:rt}),et[rt+"eq"]=ut({args:["array"],pre:{args:[],body:"this_f=Math."+rt,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:rt+"eq"})}})();var lt=["max","min","atan2","pow"];(function(){for(var tt=0;tt<lt.length;++tt){var rt=lt[tt];et[rt]=ut({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+rt,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:rt}),et[rt+"s"]=ut({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+rt,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:rt+"s"}),et[rt+"eq"]=ut({args:["array","array"],pre:{args:[],body:"this_f=Math."+rt,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:rt+"eq"}),et[rt+"seq"]=ut({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+rt,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:rt+"seq"})}})();var ot=["atan2","pow"];(function(){for(var tt=0;tt<ot.length;++tt){var rt=ot[tt];et[rt+"op"]=ut({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+rt,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:rt+"op"}),et[rt+"ops"]=ut({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+rt,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:rt+"ops"}),et[rt+"opeq"]=ut({args:["array","array"],pre:{args:[],body:"this_f=Math."+rt,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:rt+"opeq"}),et[rt+"opseq"]=ut({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+rt,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:rt+"opseq"})}})(),et.any=_e({args:["array"],pre:nt,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),et.all=_e({args:["array"],pre:nt,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),et.sum=_e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),et.prod=_e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),et.norm2squared=_e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),et.norm2=_e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),et.norminf=_e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),et.norm1=_e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),et.sup=_e({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),et.inf=_e({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),et.argmin=_e({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),et.argmax=_e({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),et.random=ut({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),et.assign=ut({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),et.assigns=ut({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),et.equals=_e({args:["array","array"],pre:nt,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})})(ndarrayOps);const ops=getDefaultExportFromCjs(ndarrayOps);var ort_min={exports:{}};/*!
* ONNX Runtime Web v1.16.3
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(et,_e){module.exports=_e()})(self,()=>(()=>{var __webpack_modules__={5716:(et,_e,nt)=>{_e.R=void 0;const it=nt(6027),at=nt(1723);_e.R=new class{async init(){}async createSessionHandler(ut,dt){const ft=new it.Session(dt);return await ft.loadModel(ut),new at.OnnxjsSessionHandler(ft)}}},2818:(et,_e,nt)=>{_e.c8=_e.rX=void 0;const it=nt(2235),at=nt(5381),ut=nt(9544),dt=nt(6640);_e.rX=()=>{if((typeof it.env.wasm.initTimeout!="number"||it.env.wasm.initTimeout<0)&&(it.env.wasm.initTimeout=0),typeof it.env.wasm.simd!="boolean"&&(it.env.wasm.simd=!0),typeof it.env.wasm.proxy!="boolean"&&(it.env.wasm.proxy=!1),typeof it.env.wasm.numThreads!="number"||!Number.isInteger(it.env.wasm.numThreads)||it.env.wasm.numThreads<=0){const ft=typeof navigator>"u"?(0,at.cpus)().length:navigator.hardwareConcurrency;it.env.wasm.numThreads=Math.min(4,Math.ceil((ft||1)/2))}},_e.c8=new class{async init(){(0,_e.rX)(),await(0,ut.initializeWebAssemblyInstance)()}async createSessionHandler(ft,ht){const ct=new dt.OnnxruntimeWebAssemblySessionHandler;return await ct.loadModel(ft,ht),Promise.resolve(ct)}}},1057:function(et,_e,nt){var it=this&&this.__createBinding||(Object.create?function(ft,ht,ct,lt){lt===void 0&&(lt=ct);var ot=Object.getOwnPropertyDescriptor(ht,ct);ot&&!("get"in ot?!ht.__esModule:ot.writable||ot.configurable)||(ot={enumerable:!0,get:function(){return ht[ct]}}),Object.defineProperty(ft,lt,ot)}:function(ft,ht,ct,lt){lt===void 0&&(lt=ct),ft[lt]=ht[ct]}),at=this&&this.__exportStar||function(ft,ht){for(var ct in ft)ct==="default"||Object.prototype.hasOwnProperty.call(ht,ct)||it(ht,ft,ct)};Object.defineProperty(_e,"__esModule",{value:!0}),at(nt(2235),_e);const ut=nt(2235),dt=nt(8408);{const ft=nt(5716).R;(0,ut.registerBackend)("webgl",ft,-10)}{const ft=nt(2818).c8;(0,ut.registerBackend)("cpu",ft,10),(0,ut.registerBackend)("wasm",ft,10),(0,ut.registerBackend)("xnnpack",ft,9),(0,ut.registerBackend)("webnn",ft,9)}ut.env.versions.web=dt.version},4910:(et,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createAttributeWithCacheKey=void 0;class nt{constructor(at){Object.assign(this,at)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(at=>`${this[at]}`).join(";")),this._cacheKey}}_e.createAttributeWithCacheKey=it=>new nt(it)},6874:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Attribute=void 0;const it=nt(5127),at=nt(2446),ut=nt(9240),dt=nt(7273);var ft=it.onnxruntime.experimental.fbs;class ht{constructor(lt){if(this._attributes=new Map,lt!=null){for(const ot of lt)ot instanceof at.onnx.AttributeProto?this._attributes.set(ot.name,[ht.getValue(ot),ht.getType(ot)]):ot instanceof ft.Attribute&&this._attributes.set(ot.name(),[ht.getValue(ot),ht.getType(ot)]);if(this._attributes.size<lt.length)throw new Error("duplicated attribute names")}}set(lt,ot,tt){this._attributes.set(lt,[tt,ot])}delete(lt){this._attributes.delete(lt)}getFloat(lt,ot){return this.get(lt,"float",ot)}getInt(lt,ot){return this.get(lt,"int",ot)}getString(lt,ot){return this.get(lt,"string",ot)}getTensor(lt,ot){return this.get(lt,"tensor",ot)}getFloats(lt,ot){return this.get(lt,"floats",ot)}getInts(lt,ot){return this.get(lt,"ints",ot)}getStrings(lt,ot){return this.get(lt,"strings",ot)}getTensors(lt,ot){return this.get(lt,"tensors",ot)}get(lt,ot,tt){const rt=this._attributes.get(lt);if(rt===void 0){if(tt!==void 0)return tt;throw new Error(`required attribute not found: ${lt}`)}if(rt[1]!==ot)throw new Error(`type mismatch: expected ${ot} but got ${rt[1]}`);return rt[0]}static getType(lt){const ot=lt instanceof at.onnx.AttributeProto?lt.type:lt.type();switch(ot){case at.onnx.AttributeProto.AttributeType.FLOAT:return"float";case at.onnx.AttributeProto.AttributeType.INT:return"int";case at.onnx.AttributeProto.AttributeType.STRING:return"string";case at.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case at.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case at.onnx.AttributeProto.AttributeType.INTS:return"ints";case at.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case at.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${at.onnx.AttributeProto.AttributeType[ot]}`)}}static getValue(lt){const ot=lt instanceof at.onnx.AttributeProto?lt.type:lt.type();if(ot===at.onnx.AttributeProto.AttributeType.GRAPH||ot===at.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const tt=this.getValueNoCheck(lt);if(ot===at.onnx.AttributeProto.AttributeType.INT&&dt.LongUtil.isLong(tt))return dt.LongUtil.longToNumber(tt);if(ot===at.onnx.AttributeProto.AttributeType.INTS){const rt=tt,st=new Array(rt.length);for(let pt=0;pt<rt.length;pt++){const gt=rt[pt];st[pt]=dt.LongUtil.longToNumber(gt)}return st}if(ot===at.onnx.AttributeProto.AttributeType.TENSOR)return lt instanceof at.onnx.AttributeProto?ut.Tensor.fromProto(tt):ut.Tensor.fromOrtTensor(tt);if(ot===at.onnx.AttributeProto.AttributeType.TENSORS){if(lt instanceof at.onnx.AttributeProto)return tt.map(rt=>ut.Tensor.fromProto(rt));if(lt instanceof ft.Attribute)return tt.map(rt=>ut.Tensor.fromOrtTensor(rt))}if(ot===at.onnx.AttributeProto.AttributeType.STRING&&lt instanceof at.onnx.AttributeProto){const rt=tt;return(0,dt.decodeUtf8String)(rt)}return ot===at.onnx.AttributeProto.AttributeType.STRINGS&&lt instanceof at.onnx.AttributeProto?tt.map(dt.decodeUtf8String):tt}static getValueNoCheck(lt){return lt instanceof at.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(lt):this.getValueNoCheckFromOrtFormat(lt)}static getValueNoCheckFromOnnxFormat(lt){switch(lt.type){case at.onnx.AttributeProto.AttributeType.FLOAT:return lt.f;case at.onnx.AttributeProto.AttributeType.INT:return lt.i;case at.onnx.AttributeProto.AttributeType.STRING:return lt.s;case at.onnx.AttributeProto.AttributeType.TENSOR:return lt.t;case at.onnx.AttributeProto.AttributeType.GRAPH:return lt.g;case at.onnx.AttributeProto.AttributeType.FLOATS:return lt.floats;case at.onnx.AttributeProto.AttributeType.INTS:return lt.ints;case at.onnx.AttributeProto.AttributeType.STRINGS:return lt.strings;case at.onnx.AttributeProto.AttributeType.TENSORS:return lt.tensors;case at.onnx.AttributeProto.AttributeType.GRAPHS:return lt.graphs;default:throw new Error(`unsupported attribute type: ${at.onnx.AttributeProto.AttributeType[lt.type]}`)}}static getValueNoCheckFromOrtFormat(lt){switch(lt.type()){case ft.AttributeType.FLOAT:return lt.f();case ft.AttributeType.INT:return lt.i();case ft.AttributeType.STRING:return lt.s();case ft.AttributeType.TENSOR:return lt.t();case ft.AttributeType.GRAPH:return lt.g();case ft.AttributeType.FLOATS:return lt.floatsArray();case ft.AttributeType.INTS:{const ot=[];for(let tt=0;tt<lt.intsLength();tt++)ot.push(lt.ints(tt));return ot}case ft.AttributeType.STRINGS:{const ot=[];for(let tt=0;tt<lt.stringsLength();tt++)ot.push(lt.strings(tt));return ot}case ft.AttributeType.TENSORS:{const ot=[];for(let tt=0;tt<lt.tensorsLength();tt++)ot.push(lt.tensors(tt));return ot}default:throw new Error(`unsupported attribute type: ${ft.AttributeType[lt.type()]}`)}}}_e.Attribute=ht},1975:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.resolveBackend=_e.backend=void 0;const it=nt(4418),at=new Map;async function ut(dt){const ft=_e.backend;if(ft[dt]!==void 0&&function(ht){const ct=ht;return"initialize"in ct&&typeof ct.initialize=="function"&&"createSessionHandler"in ct&&typeof ct.createSessionHandler=="function"&&"dispose"in ct&&typeof ct.dispose=="function"}(ft[dt])){const ht=ft[dt];let ct=ht.initialize();if(typeof ct=="object"&&"then"in ct&&(ct=await ct),ct)return at.set(dt,ht),ht}}_e.backend={webgl:new it.WebGLBackend},_e.resolveBackend=async function dt(ft){if(!ft)return dt(["webgl"]);{const ht=typeof ft=="string"?[ft]:ft;for(const ct of ht){const lt=at.get(ct);if(lt)return lt;const ot=await ut(ct);if(ot)return ot}}throw new Error("no available backend to use")}},4418:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.WebGLBackend=void 0;const it=nt(2235),at=nt(1315),ut=nt(2171),dt=nt(3389);_e.WebGLBackend=class{get contextId(){return it.env.webgl.contextId}set contextId(ft){it.env.webgl.contextId=ft}get matmulMaxBatchSize(){return it.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(ft){it.env.webgl.matmulMaxBatchSize=ft}get textureCacheMode(){return it.env.webgl.textureCacheMode}set textureCacheMode(ft){it.env.webgl.textureCacheMode=ft}get pack(){return it.env.webgl.pack}set pack(ft){it.env.webgl.pack=ft}get async(){return it.env.webgl.async}set async(ft){it.env.webgl.async=ft}initialize(){try{return this.glContext=(0,dt.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),at.Logger.setWithEnv(it.env),at.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(ft){return at.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${ft}`),!1}}createSessionHandler(ft){return new ut.WebGLSessionHandler(this,ft)}dispose(){this.glContext.dispose()}}},6859:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.CoordsGlslLib=void 0;const it=nt(7273),at=nt(1997),ut=nt(6757),dt=nt(7618),ft=nt(432);class ht extends at.GlslLib{constructor(lt){super(lt)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new at.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new at.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const lt=this.context.outputTextureLayout;return lt.isPacked?this.getPackedOutputSamplingSnippet(lt):this.getUnpackedOutputSamplingSnippet(lt)}getPackedOutputSamplingSnippet(lt){const ot=lt.unpackedShape,tt=[lt.width,lt.height],rt={},st="getOutputCoords";switch(ot.length){case 0:rt[st]=this.getOutputScalarCoords();break;case 1:rt[st]=this.getOutputPacked1DCoords(ot,tt);break;case 2:rt[st]=this.getOutputPacked2DCoords(ot,tt);break;case 3:rt[st]=this.getOutputPacked3DCoords(ot,tt);break;default:rt[st]=this.getOutputPackedNDCoords(ot,tt)}const pt=`
      void setOutput(vec4 val) {
        ${(0,ut.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return rt.floatTextureSetRGBA=new at.GlslLibRoutine(pt),rt}getUnpackedOutputSamplingSnippet(lt){const ot=lt.unpackedShape,tt=[lt.width,lt.height],rt={},st="getOutputCoords";switch(ot.length){case 0:rt[st]=this.getOutputScalarCoords();break;case 1:rt[st]=this.getOutputUnpacked1DCoords(ot,tt);break;case 2:rt[st]=this.getOutputUnpacked2DCoords(ot,tt);break;case 3:rt[st]=this.getOutputUnpacked3DCoords(ot,tt);break;case 4:rt[st]=this.getOutputUnpacked4DCoords(ot,tt);break;case 5:rt[st]=this.getOutputUnpacked5DCoords(ot,tt);break;case 6:rt[st]=this.getOutputUnpacked6DCoords(ot,tt);break;default:throw new Error(`Unsupported output dimensionality: ${ot.length}`)}const pt=`
        void setOutput(float val) {
          ${(0,ut.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return rt.floatTextureSetR=new at.GlslLibRoutine(pt),rt}getOutputScalarCoords(){return new at.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(lt,ot){const tt=ot;let rt="";return tt[0]===1?(rt=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${tt[1]}.0);
          }
        `,new at.GlslLibRoutine(rt)):tt[1]===1?(rt=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${tt[0]}.0);
          }
        `,new at.GlslLibRoutine(rt)):(rt=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${tt[0]}, ${tt[1]}));
          return 2 * (resTexRC.y * ${tt[0]} + resTexRC.x);
        }
      `,new at.GlslLibRoutine(rt))}getOutputPacked2DCoords(lt,ot){let tt="";if(it.ArrayUtil.arraysEqual(lt,ot))return tt=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${ot[0]}, ${ot[1]}));
        }
      `,new at.GlslLibRoutine(tt);const rt=ot,st=Math.ceil(lt[1]/2);return tt=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${rt[0]}, ${rt[1]}));

          int index = resTexRC.y * ${rt[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${st}) * 2;
          int c = 2 * (index / ${st});

          return ivec2(r, c);
        }
      `,new at.GlslLibRoutine(tt)}getOutputPacked3DCoords(lt,ot){const tt=[ot[0],ot[1]],rt=Math.ceil(lt[2]/2),st=rt*Math.ceil(lt[1]/2),pt=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${tt[0]}, ${tt[1]}));
          int index = resTexRC.y * ${tt[0]} + resTexRC.x;

          int b = index / ${st};
          index -= b * ${st};

          // reverse r and c order for packed texture
          int r = imod(index, ${rt}) * 2;
          int c = 2 * (index / ${rt});

          return ivec3(b, r, c);
        }
      `;return new at.GlslLibRoutine(pt)}getOutputPackedNDCoords(lt,ot){const tt=[ot[0],ot[1]],rt=Math.ceil(lt[lt.length-1]/2),st=rt*Math.ceil(lt[lt.length-2]/2);let pt=st,gt="",mt="b, r, c";for(let bt=2;bt<lt.length-1;bt++)pt*=lt[lt.length-bt-1],gt=`
      int b${bt} = index / ${pt};
      index -= b${bt} * ${pt};
    `+gt,mt=`b${bt}, `+mt;const yt=`
      ivec${lt.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${tt[0]}, ${tt[1]}));
        int index = resTexRC.y * ${tt[0]} + resTexRC.x;

        ${gt}

        int b = index / ${st};
        index -= b * ${st};

        // reverse r and c order for packed texture
        int r = imod(index, ${rt}) * 2;
        int c = 2 * (index / ${rt});

        return ivec${lt.length}(${mt});
      }
    `;return new at.GlslLibRoutine(yt)}getOutputUnpacked1DCoords(lt,ot){const tt=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${ot[0]}, ${ot[1]}));
          return resTexRC.y * ${ot[0]} + resTexRC.x;
        }
      `;return new at.GlslLibRoutine(tt)}getOutputUnpacked2DCoords(lt,ot){const tt=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${ot[0]}, ${ot[1]}));
          int index = resTexRC.y * ${ot[0]} + resTexRC.x;
          int r = index / ${lt[1]};
          int c = index - r * ${lt[1]};
          return ivec2(r, c);
        }
      `;return new at.GlslLibRoutine(tt)}getOutputUnpacked3DCoords(lt,ot){let tt="";const rt=lt.length;let st=null;rt<2&&(st=[]),st=new Array(rt-1),st[rt-2]=lt[rt-1];for(let mt=rt-3;mt>=0;--mt)st[mt]=st[mt+1]*lt[mt+1];const pt=["r","c","d"],gt=st.map((mt,yt)=>`int ${pt[yt]} = index / ${mt}; ${yt===st.length-1?`int ${pt[yt+1]} = index - ${pt[yt]} * ${mt}`:`index -= ${pt[yt]} * ${mt}`};`).join("");return tt=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${ot[0]}, ${ot[1]}));
          int index = resTexRC.y * ${ot[0]} + resTexRC.x;
          ${gt}
          return ivec3(r, c, d);
        }
      `,new at.GlslLibRoutine(tt)}getOutputUnpacked4DCoords(lt,ot){let tt="";const rt=lt.length;let st=null;rt<2&&(st=[]),st=new Array(rt-1),st[rt-2]=lt[rt-1];for(let mt=rt-3;mt>=0;--mt)st[mt]=st[mt+1]*lt[mt+1];const pt=["r","c","d","d2"],gt=st.map((mt,yt)=>`int ${pt[yt]} = index / ${mt}; ${yt===st.length-1?`int ${pt[yt+1]} = index - ${pt[yt]} * ${mt}`:`index -= ${pt[yt]} * ${mt}`};`).join("");return tt=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${ot[0]}, ${ot[1]}));
          int index = resTexRC.y * ${ot[0]} + resTexRC.x;
          ${gt}
          return ivec4(r, c, d, d2);
        }
      `,new at.GlslLibRoutine(tt)}getOutputUnpacked5DCoords(lt,ot){let tt="";const rt=lt.length;let st=null;rt<2&&(st=[]),st=new Array(rt-1),st[rt-2]=lt[rt-1];for(let mt=rt-3;mt>=0;--mt)st[mt]=st[mt+1]*lt[mt+1];const pt=["r","c","d","d2","d3"],gt=st.map((mt,yt)=>`int ${pt[yt]} = index / ${mt}; ${yt===st.length-1?`int ${pt[yt+1]} = index - ${pt[yt]} * ${mt}`:`index -= ${pt[yt]} * ${mt}`};`).join("");return tt=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${ot[0]}, ${ot[1]}));
          int index = resTexRC.y * ${ot[0]} + resTexRC.x;
          ${gt}
          return ivec5(r, c, d, d2, d3);
        }
      `,new at.GlslLibRoutine(tt)}getOutputUnpacked6DCoords(lt,ot){let tt="";const rt=lt.length;let st=null;rt<2&&(st=[]),st=new Array(rt-1),st[rt-2]=lt[rt-1];for(let mt=rt-3;mt>=0;--mt)st[mt]=st[mt+1]*lt[mt+1];const pt=["r","c","d","d2","d3","d4"],gt=st.map((mt,yt)=>`int ${pt[yt]} = index / ${mt}; ${yt===st.length-1?`int ${pt[yt+1]} = index - ${pt[yt]} * ${mt}`:`index -= ${pt[yt]} * ${mt}`};`).join("");return tt=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${ot[0]}, ${ot[1]}));
         int index = resTexRC.y * ${ot[0]} + resTexRC.x;
         ${gt}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new at.GlslLibRoutine(tt)}getCommonUtilFuncs(){const lt={};let ot="uvFromFlat";lt[ot]=new at.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),ot="packedUVfrom1D",lt[ot]=new at.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),ot="packedUVfrom2D",lt[ot]=new at.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),ot="packedUVfrom3D",lt[ot]=new at.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),ot="sampleTexture";const tt=(0,ut.getGlsl)(this.context.glContext.version);return lt[ot]=new at.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${tt.texture2D}(textureSampler, uv).r;
        }`),lt}getInputsSamplingSnippets(){const lt={},ot=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((tt,rt)=>{const st=this.context.inputTextureLayouts[rt],pt=(0,ft.generateShaderFuncNameFromInputSamplerName)(tt);st.isPacked?lt[pt]=this.getPackedSamplerFromInput(pt,tt,st):lt[pt]=this.getUnpackedSamplerFromInput(pt,tt,st);const gt=(0,ft.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(tt);st.unpackedShape.length<=ot.unpackedShape.length&&(st.isPacked?lt[gt]=this.getPackedSamplerAtOutputCoords(gt,st,ot,tt):lt[gt]=this.getUnpackedSamplerAtOutputCoords(gt,st,ot,tt))}),lt}getPackedSamplerAtOutputCoords(lt,ot,tt,rt){const st=ot.unpackedShape,pt=tt.unpackedShape,gt=rt,mt=(0,ft.generateShaderFuncNameFromInputSamplerName)(gt),yt=st.length,bt=pt.length,vt=it.BroadcastUtil.getBroadcastDims(st,pt),wt=(0,ft.getCoordsDataType)(bt),xt=bt-yt;let Tt;const Ot=(0,ft.getGlChannels)();Tt=yt===0?"":bt<2&&vt.length>=1?"coords = 0;":vt.map(Bt=>`coords.${Ot[Bt+xt]} = 0;`).join(`
`);let $t="";$t=bt<2&&yt>0?"coords":st.map((Bt,Et)=>`coords.${Ot[Et+xt]}`).join(", ");let It="return outputValue;";const Rt=it.ShapeUtil.size(st)===1,Ft=it.ShapeUtil.size(pt)===1;if(yt!==1||Rt||Ft){if(Rt&&!Ft)It=bt===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(vt.length){const Bt=yt-2,Et=yt-1;vt.indexOf(Bt)>-1&&vt.indexOf(Et)>-1?It="return vec4(outputValue.x);":vt.indexOf(Bt)>-1?It="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":vt.indexOf(Et)>-1&&(It="return vec4(outputValue.xx, outputValue.zz);")}}else It=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const Pt=`
      vec4 ${lt}() {
        ${wt} coords = getOutputCoords();
        
        int lastDim = coords.${Ot[bt-1]};
        coords.${Ot[bt-1]} = coords.${Ot[bt-2]};
        coords.${Ot[bt-2]} = lastDim;
      
        ${Tt}
        vec4 outputValue = ${mt}(${$t});
        ${It}
      }
    `;return new at.GlslLibRoutine(Pt,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(lt,ot,tt,rt){const st=[tt.width,tt.height],pt=[ot.width,ot.height],gt=ot.unpackedShape.length,mt=tt.unpackedShape.length,yt=ot.unpackedShape,bt=tt.unpackedShape,vt=(0,ft.generateShaderFuncNameFromInputSamplerName)(rt);if(gt===mt&&it.ArrayUtil.arraysEqual(pt,st)){const Ft=`
          float ${lt}() {
            return sampleTexture(${rt}, TexCoords);
          }
        `;return new at.GlslLibRoutine(Ft,["coordinates.sampleTexture"])}const wt=(0,ft.getCoordsDataType)(mt),xt=it.BroadcastUtil.getBroadcastDims(yt,bt),Tt=mt-gt;let Ot;const $t=(0,ft.getGlChannels)();Ot=gt===0?"":mt<2&&xt.length>=1?"coords = 0;":xt.map(Ft=>`coords.${$t[Ft+Tt]} = 0;`).join(`
`);let It="";It=mt<2&&gt>0?"coords":ot.unpackedShape.map((Ft,Pt)=>`coords.${$t[Pt+Tt]}`).join(", ");const Rt=`
        float ${lt}() {
          ${wt} coords = getOutputCoords();
          ${Ot}
          return ${vt}(${It});
        }
      `;return new at.GlslLibRoutine(Rt,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(lt,ot,tt){switch(tt.unpackedShape.length){case 0:return this.getPackedSamplerScalar(lt,ot);case 1:return this.getPackedSampler1D(lt,ot,tt);case 2:return this.getPackedSampler2D(lt,ot,tt);case 3:return this.getPackedSampler3D(lt,ot,tt);default:return this.getPackedSamplerND(lt,ot,tt)}}getUnpackedSamplerFromInput(lt,ot,tt){const rt=tt.unpackedShape;switch(rt.length){case 0:return this.getUnpackedSamplerScalar(lt,ot,tt);case 1:return this.getUnpackedSampler1D(lt,ot,tt);case 2:return this.getUnpackedSampler2D(lt,ot,tt);case 3:return this.getUnpackedSampler3D(lt,ot,tt);case 4:return this.getUnpackedSampler4D(lt,ot,tt);case 5:return this.getUnpackedSampler5D(lt,ot,tt);case 6:return this.getUnpackedSampler6D(lt,ot,tt);default:throw new Error(`Unsupported dimension ${rt.length}-D`)}}getPackedSamplerScalar(lt,ot){const tt=`
          vec4 ${lt}() {
            return ${(0,ut.getGlsl)(this.context.glContext.version).texture2D}(${ot}, halfCR);
          }
        `;return new at.GlslLibRoutine(tt)}getPackedSampler1D(lt,ot,tt){const rt=[tt.width,tt.height],st=[rt[1],rt[0]],pt=(0,ut.getGlsl)(this.context.glContext.version),gt=`vec4 ${lt}(int index) {
      vec2 uv = packedUVfrom1D(
      ${st[0]}, ${st[1]}, index);
      return ${pt.texture2D}(${ot}, uv);
    }`;return new at.GlslLibRoutine(gt,["coordinates.packedUVfrom1D"])}getPackedSampler2D(lt,ot,tt){const rt=tt.unpackedShape,st=[tt.width,tt.height],pt=(0,ut.getGlsl)(this.context.glContext.version),gt=st[0],mt=st[1];if(st!=null&&it.ArrayUtil.arraysEqual(rt,st)){const wt=`vec4 ${lt}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${mt}.0, ${gt}.0);
        return ${pt.texture2D}(${ot}, uv);
      }`;return new at.GlslLibRoutine(wt)}const yt=st,bt=Math.ceil(rt[1]/2),vt=`vec4 ${lt}(int row, int col) {
      vec2 uv = packedUVfrom2D(${yt[1]}, ${yt[0]}, ${bt}, row, col);
      return ${pt.texture2D}(${ot}, uv);
    }`;return new at.GlslLibRoutine(vt,["coordinates.packedUVfrom2D"])}getPackedSampler3D(lt,ot,tt){const rt=tt.unpackedShape,st=[tt.width,tt.height],pt=[st[0],st[1]],gt=(0,ut.getGlsl)(this.context.glContext.version);if(rt[0]===1){const wt=rt.slice(1),xt=[1,2],Tt=(0,ft.squeezeInputShape)(rt,wt),Ot=["b","row","col"],$t=JSON.parse(JSON.stringify(tt));$t.unpackedShape=Tt;const It=this.getPackedSamplerFromInput(lt,ot,$t),Rt=`${It.routineBody}
      vec4 ${lt}(int b, int row, int col) {
        return ${lt}(${(0,ft.getSqueezedParams)(Ot,xt)});
      } `;return new at.GlslLibRoutine(Rt,It.dependencies)}const mt=pt[0],yt=pt[1],bt=Math.ceil(rt[2]/2),vt=`vec4 ${lt}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${yt}, ${mt}, ${bt*Math.ceil(rt[1]/2)}, ${bt}, b, row, col);
      return ${gt.texture2D}(${ot}, uv);}`;return new at.GlslLibRoutine(vt,["coordinates.packedUVfrom3D"])}getPackedSamplerND(lt,ot,tt){const rt=tt.unpackedShape,st=rt.length,pt=[tt.width,tt.height],gt=(0,ut.getGlsl)(this.context.glContext.version),mt=[pt[0],pt[1]],yt=mt[1],bt=mt[0],vt=Math.ceil(rt[st-1]/2);let wt=vt*Math.ceil(rt[st-2]/2),xt="int b, int row, int col",Tt=`b * ${wt} + (row / 2) * ${vt} + (col / 2)`;for(let $t=2;$t<st-1;$t++)xt=`int b${$t}, `+xt,wt*=rt[st-$t-1],Tt=`b${$t} * ${wt} + `+Tt;const Ot=`vec4 ${lt}(${xt}) {
      int index = ${Tt};
      int texR = index / ${bt};
      int texC = index - texR * ${bt};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${bt}, ${yt});
      return ${gt.texture2D}(${ot}, uv);
    }`;return new at.GlslLibRoutine(Ot)}getUnpackedSamplerScalar(lt,ot,tt){const[rt,st]=[tt.width,tt.height];if(rt===1&&st===1){const gt=`
          float ${lt}() {
            return sampleTexture(${ot}, halfCR);
          }
        `;return new at.GlslLibRoutine(gt,["coordinates.sampleTexture"])}const pt=`
        float ${lt}() {
          int offset_${ot} = coordsToOffset(TexCoords, ${rt}, ${st});
          vec2 uv = uvFromFlat(${rt}, ${st}, offset_${ot});
          return sampleTexture(${ot}, uv);
        }
      `;return new at.GlslLibRoutine(pt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(lt,ot,tt){const rt=tt.width,st=tt.height;if(st===1&&rt===1){const gt=`
        float ${lt}(int index) {
          return sampleTexture(${ot}, halfCR);
        }
      `;return new at.GlslLibRoutine(gt,["coordinates.sampleTexture"])}if(st===1){const gt=`
          float ${lt}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${rt}.0, 0.5);
            return sampleTexture(${ot}, uv);
          }
        `;return new at.GlslLibRoutine(gt,["coordinates.sampleTexture"])}if(rt===1){const gt=`
          float ${lt}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${st}.0);
            return sampleTexture(${ot}, uv);
          }
        `;return new at.GlslLibRoutine(gt,["coordinates.sampleTexture"])}const pt=`
        float ${lt}(int index) {
          vec2 uv = uvFromFlat(${rt}, ${st}, index);
          return sampleTexture(${ot}, uv);
        }
      `;return new at.GlslLibRoutine(pt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(lt,ot,tt){const rt=tt.unpackedShape,st=[tt.height,tt.width];if(st!=null&&it.ArrayUtil.arraysEqual(rt,st)){const wt=`
          float ${lt}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${st[1]}.0, ${st[0]}.0);
            return sampleTexture(${ot}, uv);
          }
        `;return new at.GlslLibRoutine(wt,["coordinates.sampleTexture"])}const{newShape:pt,keptDims:gt}=(0,dt.squeezeShape)(rt),mt=pt;if(mt.length<rt.length){const wt=(0,ft.squeezeInputShape)(rt,mt),xt=JSON.parse(JSON.stringify(tt));xt.unpackedShape=wt;const Tt=["col","row"],Ot=`
          ${this.getUnpackedSamplerFromInput(lt,ot,xt).routineBody}
          float ${lt}(int row, int col) {
            return ${lt}(${(0,ft.getSqueezedParams)(Tt,gt)});
          }
        `;return new at.GlslLibRoutine(Ot,["coordinates.sampleTexture"])}const yt=st[1],bt=st[0];if(bt===1){const wt=`
          float ${lt}(int row, int col) {
            int offset_${ot} = coordsToOffset(TexCoords, ${yt}, ${bt});
            float index = dot(vec3(row, col, offset_${ot}), vec3(${rt[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${yt}.0);
            return sampleTexture(${ot}, uv);
          }
        `;return new at.GlslLibRoutine(wt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(yt===1){const wt=`
          float ${lt}(int row, int col) {
            int offset_${ot} = coordsToOffset(TexCoords, ${yt}, ${bt});
            float index = dot(vec3(row, col, offset_${ot}), vec3(${rt[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${bt}.0, 0.5);
            return sampleTexture(${ot}, uv);
          }
        `;return new at.GlslLibRoutine(wt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const vt=`
        float ${lt}(int row, int col) {
          int index = col * ${rt[1]} + row;
          vec2 uv = uvFromFlat(${yt}, ${bt}, index);
          return sampleTexture(${ot}, uv);
        }
      `;return new at.GlslLibRoutine(vt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(lt,ot,tt){const rt=tt.unpackedShape,st=rt[1]*rt[2],pt=rt[2],{newShape:gt,keptDims:mt}=(0,dt.squeezeShape)(rt),yt=gt;if(yt.length<rt.length){const vt=(0,ft.squeezeInputShape)(rt,yt),wt=["batch","col","row"],xt=JSON.parse(JSON.stringify(tt));xt.unpackedShape=vt;const Tt=this.getUnpackedSamplerFromInput(lt,ot,xt),Ot=mt.reverse(),$t=`
          ${Tt.routineBody}
          float ${lt}(int batch, int row, int col) {
            return ${lt}(${(0,ft.getSqueezedParams)(wt,Ot)});
          }
        `;return new at.GlslLibRoutine($t,Tt.dependencies)}const bt=`
          float ${lt}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${st} + col * ${pt} + row;
            vec2 uv = uvFromFlat(${tt.width}, ${tt.height}, index);
            return sampleTexture(${ot}, uv);
          }
      `;return new at.GlslLibRoutine(bt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(lt,ot,tt){const rt=tt.unpackedShape,st=rt[3],pt=rt[2]*st,gt=`
        float ${lt}(int row, int col, int depth, int depth2) {
          int index = row * ${rt[1]*pt} + col * ${pt} +
              depth2 * ${st} + depth;
          vec2 uv = uvFromFlat(${tt.width}, ${tt.height}, index);
          return sampleTexture(${ot}, uv);
        }
      `;return new at.GlslLibRoutine(gt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(lt,ot,tt){const rt=tt.unpackedShape,st=rt[4],pt=rt[3]*st,gt=rt[2]*pt,mt=rt[1]*gt,{newShape:yt,keptDims:bt}=(0,dt.squeezeShape)(rt);if(yt.length<rt.length){const wt=(0,ft.squeezeInputShape)(rt,yt),xt=["row","col","depth","depth2","depth3"],Tt=JSON.parse(JSON.stringify(tt));Tt.unpackedShape=wt;const Ot=`
          ${this.getUnpackedSamplerFromInput(lt,ot,Tt).routineBody}
          float ${lt}(int row, int col, int depth, int depth2, int depth3) {
            return ${lt}(${(0,ft.getSqueezedParams)(xt,bt)});
          }
        `;return new at.GlslLibRoutine(Ot,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const vt=`
        float ${lt}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${mt} + col * ${gt} + depth * ${pt} +
          depth3 * ${st} + depth2;
          vec2 uv = uvFromFlat(${tt.width}, ${tt.height}, index);
          return sampleTexture(${ot}, uv);
        }
      `;return new at.GlslLibRoutine(vt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(lt,ot,tt){const rt=tt.unpackedShape,st=rt[5],pt=rt[4]*st,gt=rt[3]*pt,mt=rt[2]*gt,yt=rt[1]*mt,{newShape:bt,keptDims:vt}=(0,dt.squeezeShape)(rt);if(bt.length<rt.length){const xt=(0,ft.squeezeInputShape)(rt,bt),Tt=["row","col","depth","depth2","depth3","depth4"],Ot=JSON.parse(JSON.stringify(tt));Ot.unpackedShape=xt;const $t=`
            ${this.getUnpackedSamplerFromInput(lt,ot,Ot).routineBody}
            float ${lt}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${lt}(${(0,ft.getSqueezedParams)(Tt,vt)});
            }
          `;return new at.GlslLibRoutine($t,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const wt=`
          float ${lt}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${yt} + col * ${mt} + depth * ${gt} +
            depth2 * ${pt} + depth3 * ${st} + depth4;
            vec2 uv = uvFromFlat(${tt.width}, ${tt.height}, index);
            return sampleTexture(${ot}, uv);
          }
        `;return new at.GlslLibRoutine(wt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const lt=this.context.outputTextureLayout,ot=lt.shape.length,tt=lt.strides,rt=lt.width,st=lt.height,pt=[];for(let mt=0;mt<ot-1;++mt)pt.push(`
        c[${mt}] = offset / ${tt[mt]};`),pt.push(`
        offset -= c[${mt}] * ${tt[mt]};`);pt.push(`
        c[${ot-1}] = offset;`);const gt=`
      void toVec(vec2 texCoords, out int c[${ot}]) {
        int offset = coordsToOffset(texCoords, ${rt}, ${st});
        ${pt.join("")}
      }
      void toVec(int offset, out int c[${ot}]) {
        ${pt.join("")}
      }
    `;return{toVec:new at.GlslLibRoutine(gt,["coordinates.coordsToOffset"])}}valueFrom(){const lt={};return this.context.programInfo.inputNames.forEach((ot,tt)=>{const rt=this.context.inputTextureLayouts[tt],st=(rt.unpackedShape.length>0?rt.unpackedShape:rt.shape).length;let pt=`_${ot}`;lt[pt]=new at.GlslLibRoutine(this.getValueFromSingle(ot,st,rt.width,rt.height,!1),[`shapeUtils.indicesToOffset${pt}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),pt+="_T",lt[pt]=new at.GlslLibRoutine(this.getValueFromSingle(ot,st,rt.width,rt.height,!0),[`shapeUtils.indicesToOffset${pt}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),lt}getValueFromSingle(lt,ot,tt,rt,st){let pt=`_${lt}`;return st&&(pt+="_T"),`
        float ${pt}(int m[${ot}]) {
          int offset = indicesToOffset${pt}(m);
          vec2 coords = offsetToCoords(offset, ${tt}, ${rt});
          float value = getColorAsFloat(${(0,ut.getGlsl)(this.context.glContext.version).texture2D}(${lt}, coords));
          return value;
        }
        `}getPackedValueFrom(lt,ot,tt,rt,st){let pt=`_${lt}_Pack`;return st&&(pt+="_T"),`
        vec4 ${pt}(int m[${ot}]) {
          int offset = indicesToOffset_${lt}(m);
          vec2 coords = offsetToCoords(offset, ${tt}, ${rt});
          return ${(0,ut.getGlsl)(this.context.glContext.version).texture2D}(${lt}, coords);
        }
        `}}_e.CoordsGlslLib=ht},1997:(et,_e)=>{var nt;Object.defineProperty(_e,"__esModule",{value:!0}),_e.TopologicalSortGlslRoutines=_e.GlslLibRoutineNode=_e.GlslLibRoutine=_e.GlslLib=_e.GlslContext=_e.FunctionType=void 0,(nt=_e.FunctionType||(_e.FunctionType={}))[nt.ValueBased=0]="ValueBased",nt[nt.Positional=1]="Positional",_e.GlslContext=class{constructor(it,at,ut,dt){this.glContext=it,this.programInfo=at,this.inputTextureLayouts=ut,this.outputTextureLayout=dt}},_e.GlslLib=class{constructor(it){this.context=it}},_e.GlslLibRoutine=class{constructor(it,at){this.routineBody=it,this.dependencies=at}},_e.GlslLibRoutineNode=class{constructor(it,at,ut){this.name=it,this.dependencies=ut||[],at&&(this.routineBody=at)}addDependency(it){it&&this.dependencies.push(it)}},_e.TopologicalSortGlslRoutines=class{static returnOrderedNodes(it){if(!it||it.length===0)return[];if(it.length===1)return it;const at=new Set,ut=new Set,dt=new Array;return this.createOrderedNodes(it,at,ut,dt),dt}static createOrderedNodes(it,at,ut,dt){for(let ft=0;ft<it.length;++ft)this.dfsTraverse(it[ft],at,ut,dt)}static dfsTraverse(it,at,ut,dt){if(!it||ut.has(it.name))return;if(at.has(it.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");at.add(it.name);const ft=it.dependencies;if(ft&&ft.length>0)for(let ht=0;ht<ft.length;++ht)this.dfsTraverse(ft[ht],at,ut,dt);dt.push(it),ut.add(it.name),at.delete(it.name)}}},1371:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.EncodingGlslLib=void 0;const it=nt(1997);class at extends it.GlslLib{constructor(dt){super(dt)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new it.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new it.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const dt=at.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new it.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${dt}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const dt=at.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new it.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${dt}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const dt=new ArrayBuffer(4),ft=new Uint32Array(dt),ht=new Uint8Array(dt);if(ft[0]=3735928559,ht[0]===239)return!0;if(ht[0]===222)return!1;throw new Error("unknown endianness")}}_e.EncodingGlslLib=at},2691:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.FragColorGlslLib=void 0;const it=nt(1997),at=nt(6757);class ut extends it.GlslLib{constructor(ft){super(ft)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const ft=(0,at.getGlsl)(this.context.glContext.version);return{setFragColor:new it.GlslLibRoutine(`
        void setFragColor(float value) {
            ${ft.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new it.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}_e.FragColorGlslLib=ut},3878:(et,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.replaceInlines=void 0;const nt=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;_e.replaceInlines=function(it){const at={};let ut;for(;(ut=nt.exec(it))!==null;){const dt=ut[3].split(",").map(ft=>{const ht=ft.trim().split(" ");return ht&&ht.length===2?{type:ht[0],name:ht[1]}:null}).filter(ft=>ft!==null);at[ut[2]]={params:dt,body:ut[4]}}for(const dt in at){const ft="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",dt),ht=new RegExp(ft,"gm");for(;(ut=ht.exec(it))!==null;){const ct=ut[1],lt=ut[2],ot=ut[3].split(","),tt=ct?`${ct} ${lt};`:"";let rt=at[dt].body,st="";at[dt].params.forEach((gt,mt)=>{gt&&(st+=`${gt.type} ${gt.name} = ${ot[mt]};
`)}),rt=`${st}
 ${rt}`,rt=rt.replace("return",`${lt} = `);const pt=`
      ${tt}
      {
        ${rt}
      }
      `;it=it.replace(ut[0],pt)}}return it.replace(nt,"")}},8897:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.GlslPreprocessor=void 0;const it=nt(1997),at=nt(3878),ut=nt(1248),dt=nt(6757);_e.GlslPreprocessor=class{constructor(ft,ht,ct,lt){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new it.GlslContext(ft,ht,ct,lt),Object.keys(ut.glslRegistry).forEach(tt=>{const rt=new ut.glslRegistry[tt](this.context);this.libs[tt]=rt});const ot=this.glslLibRoutineDependencyGraph;for(const tt in this.libs){const rt=this.libs[tt].getFunctions();for(const st in rt){const pt=tt+"."+st;let gt;ot[pt]?(gt=ot[pt],gt.routineBody=rt[st].routineBody):(gt=new it.GlslLibRoutineNode(pt,rt[st].routineBody),ot[pt]=gt);const mt=rt[st].dependencies;if(mt)for(let yt=0;yt<mt.length;++yt)if(ot[mt[yt]])gt.addDependency(ot[mt[yt]]);else{const bt=new it.GlslLibRoutineNode(mt[yt]);ot[mt[yt]]=bt,gt.addDependency(bt)}}}}preprocess(){const ft=this.context.programInfo;let ht=ft.shaderSource;return this.context.programInfo.hasMain||(ht=`${ht}
      ${(0,dt.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),ht=(0,at.replaceInlines)(ht),`${(0,dt.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(ft.inputNames,ft.variables)}
    ${this.getImports(ht)}
    ${ht}`}getImports(ft){const ht=this.selectGlslLibRoutinesToBeIncluded(ft);if(ht.length===0)return"";let ct="";for(let lt=0;lt<ht.length;++lt){if(!ht[lt].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${ht[lt].name}`);ct+=ht[lt].routineBody+`
`}return ct}selectGlslLibRoutinesToBeIncluded(ft){const ht=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(ct=>{const lt=ct.split(".")[1];ft.indexOf(lt)!==-1&&ht.push(this.glslLibRoutineDependencyGraph[ct])}),it.TopologicalSortGlslRoutines.returnOrderedNodes(ht)}getUniforms(ft,ht){const ct=[];if(ft)for(const lt of ft)ct.push(`uniform sampler2D ${lt};`);if(ht)for(const lt of ht)ct.push(`uniform ${lt.type} ${lt.name}${lt.arrayLength?`[${lt.arrayLength}]`:""};`);return ct.join(`
`)}}},1248:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.glslRegistry=void 0;const it=nt(6859),at=nt(1371),ut=nt(2691),dt=nt(9183),ft=nt(9314);_e.glslRegistry={encoding:at.EncodingGlslLib,fragcolor:ut.FragColorGlslLib,vec:ft.VecGlslLib,shapeUtils:dt.ShapeUtilsGlslLib,coordinates:it.CoordsGlslLib}},9183:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ShapeUtilsGlslLib=void 0;const it=nt(1997);class at extends it.GlslLib{constructor(dt){super(dt)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const dt=this.context.outputTextureLayout.shape.length,ft={};return this.context.programInfo.inputNames.forEach((ht,ct)=>{const lt=this.context.inputTextureLayouts[ct].unpackedShape;if(lt.length<=dt){const ot=lt.length,tt=dt-ot,rt=`bcastIndices_${ht}`;let st="";for(let gt=0;gt<ot;++gt)st+=`
          realIndices[${gt}] = int( mod(float(bcastedIndices[${tt+gt}]), ${lt[gt]}.0) );
          `;const pt=`
        void ${rt} (int bcastedIndices[${dt}], out int realIndices[${ot}]) {
          ${st}
        }
        `;ft[rt]=new it.GlslLibRoutine(pt)}}),ft}bcastMatmulIndex(){const dt=this.context.outputTextureLayout.shape.length,ft={};return this.context.programInfo.inputNames.forEach((ht,ct)=>{const lt=this.context.inputTextureLayouts[ct].shape;if(!(lt.length<2||lt.length>dt)){const ot=lt.length,tt=dt-ot,rt=`bcastMatmulIndices_${ht}`;let st="";for(let gt=0;gt<ot-2;++gt)st+=`
          realIndices[${gt}] = int( mod(float(bcastedIndices[${tt+gt}]), ${lt[gt]}.0) );
          `;const pt=`
        void ${rt}(int bcastedIndices[${dt}], out int realIndices[${ot}]) {
          ${st}
          realIndices[${ot-1}] = bcastedIndices[${dt-1}];
          realIndices[${ot-2}] = bcastedIndices[${dt-2}];
        }
        `;ft[rt]=new it.GlslLibRoutine(pt)}}),ft}indicesToOffset(){const dt={};return this.context.programInfo.inputNames.forEach((ft,ht)=>{const ct=this.context.inputTextureLayouts[ht].shape,lt=this.context.inputTextureLayouts[ht].strides,ot=ct.length;let tt=`indicesToOffset_${ft}`;dt[tt]=new it.GlslLibRoutine(at.indexToOffsetSingle(tt,ot,lt)),tt=`indicesToOffset_${ft}_T`,dt[tt]=new it.GlslLibRoutine(at.indexToOffsetSingle(tt,ot,lt.slice().reverse()))}),dt}static indexToOffsetSingle(dt,ft,ht){let ct="";for(let lt=ft-1;lt>=0;--lt)ct+=`
        offset += indices[${lt}] * ${ht[lt]};
        `;return`
      int ${dt}(int indices[${ft}]) {
        int offset = 0;
        ${ct}
        return offset;
      }
      `}offsetToIndices(){const dt={};return this.context.programInfo.inputNames.forEach((ft,ht)=>{const ct=this.context.inputTextureLayouts[ht].shape,lt=this.context.inputTextureLayouts[ht].strides,ot=ct.length;let tt=`offsetToIndices_${ft}`;dt[tt]=new it.GlslLibRoutine(at.offsetToIndicesSingle(tt,ot,lt)),tt=`offsetToIndices_${ft}_T`,dt[tt]=new it.GlslLibRoutine(at.offsetToIndicesSingle(tt,ot,lt.slice().reverse()))}),dt}static offsetToIndicesSingle(dt,ft,ht){const ct=[];for(let lt=0;lt<ft-1;++lt)ct.push(`
      indices[${lt}] = offset / ${ht[lt]};`),ct.push(`
        offset -= indices[${lt}] * ${ht[lt]};`);return ct.push(`
      indices[${ft-1}] = offset;`),`
      void ${dt}(int offset, out int indices[${ft}]) {
        ${ct.join("")}
      }
      `}incrementIndices(){const dt={};return this.context.programInfo.inputNames.forEach((ft,ht)=>{const ct=this.context.inputTextureLayouts[ht].shape,lt=ct.length,ot=`incrementIndices_${ft}`;let tt="";for(let st=0;st<lt;++st)tt+=`
        shape[${st}] = ${ct[st]};`;const rt=`
        void ${ot}(int axis, out int indices[${lt}]) {
          int shape[${lt}];
          ${tt};
          for(int i = ${lt} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;dt[ot]=new it.GlslLibRoutine(rt)}),dt}}_e.ShapeUtilsGlslLib=at},6757:(et,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getDefaultFragShaderMain=_e.getFragShaderPreamble=_e.getVertexShaderSource=_e.getGlsl=void 0;const nt={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},it={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function at(ut){return ut===1?nt:it}_e.getGlsl=at,_e.getVertexShaderSource=function(ut){const dt=at(ut);return`${dt.version}
      precision highp float;
      ${dt.attribute} vec3 position;
      ${dt.attribute} vec2 textureCoord;

      ${dt.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},_e.getFragShaderPreamble=function(ut){const dt=at(ut);return`${dt.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${dt.varyingFrag} vec2 TexCoords;
    ${dt.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},_e.getDefaultFragShaderMain=function(ut,dt){return`
  void main() {
    int indices[${dt}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${at(ut).output} = result;
  }
  `}},9314:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.VecGlslLib=void 0;const it=nt(1997);class at extends it.GlslLib{constructor(dt){super(dt)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const dt=this.context.outputTextureLayout.shape.length,ft={add:"+=",sub:"-=",mul:"*=",div:"/="},ht={};for(const ct in ft){const lt=`${ct}Vec`;let ot="";for(let rt=0;rt<dt;++rt)ot+=`
          dest[${rt}] ${ft[ct]} src[${rt}];
          `;const tt=`
        void ${lt}(int src[${dt}], out int dest[${dt}]) {
          ${ot}
        }
        `;ht[lt]=new it.GlslLibRoutine(tt)}return ht}copyVec(){const dt=this.context.outputTextureLayout.shape.length;let ft="";for(let ct=0;ct<dt;++ct)ft+=`
        dest[${ct}] = src[${ct}];
        `;const ht=`
      void copyVec(int src[${dt}], out int dest[${dt}]) {
        ${ft}
      }
      `;return{copyVec:new it.GlslLibRoutine(ht)}}setVecItem(){const dt=this.context.outputTextureLayout.shape.length;let ft=`
        if(index < 0)
            index =${dt} + index;
        if (index == 0)
            m[0] = value;
        `;for(let ct=1;ct<dt-1;++ct)ft+=`
        else if (index == ${ct})
            m[${ct}] = value;
            `;ft+=`
        else
            m[${dt-1}] = value;
        `;const ht=`
      void setVecItem(out int m[${dt}], int index, int value) {
        ${ft}
      }
        `;return{setVecItem:new it.GlslLibRoutine(ht)}}getVecItem(){const dt=this.context.outputTextureLayout.shape.length;let ft=`
        if(index < 0)
            index = ${dt} + index;
        if (index == 0)
            return m[0];
      `;for(let ct=1;ct<dt-1;++ct)ft+=`
        else if (index == ${ct})
            return m[${ct}];
      `;ft+=`
        else
            return m[${dt-1}];
        `;const ht=`
      int getVecItem(int m[${dt}], int index) {
        ${ft}
      }
    `;return{getVecItem:new it.GlslLibRoutine(ht)}}}_e.VecGlslLib=at},7860:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.WebGLInferenceHandler=void 0;const it=nt(1315),at=nt(9240),ut=nt(7273),dt=nt(9),ft=nt(7379),ht=nt(2488),ct=nt(540),lt=nt(3314),ot=nt(5639);_e.WebGLInferenceHandler=class{constructor(tt){this.session=tt,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(tt,rt){return(0,lt.calculateTextureWidthAndHeight)(this.session.layoutStrategy,tt,rt)}executeProgram(tt,rt){if(rt.length<tt.inputNames.length)throw new Error(`Input size mustn't be less than ${tt.inputNames.length}.`);if(tt.inputNames.length!==tt.inputTypes.length)throw new Error("input names size does not match input types");const st=[];for(let vt=0;vt<tt.inputNames.length;++vt)st[vt]=this.getOrCreateTextureData(rt[vt],tt.inputTypes[vt]);const pt=((vt,wt)=>{const xt=wt.map(Ot=>`${Ot.unpackedShape.join(",")};${Ot.width}x${Ot.height}`).join("_");let Tt=vt.name;return vt.cacheHint&&(Tt+="["+vt.cacheHint+"]"),Tt+=":"+xt,Tt})(tt,st);let gt=this.session.programManager.getArtifact(pt);const mt=gt?gt.programInfo:typeof tt.get=="function"?tt.get():tt,yt=(0,lt.createTextureLayoutFromTextureType)(this.session.layoutStrategy,mt.output.dims,mt.output.textureType),bt=this.createTextureData(yt,mt.output.type);return gt||(gt=this.session.programManager.build(mt,st,bt),this.session.programManager.setArtifact(pt,gt)),this.runProgram(gt,st,bt),bt}run(tt,rt){return this.executeProgram(tt,rt).tensor}runProgram(tt,rt,st){for(let pt=0;pt<rt.length;++pt)if(!!rt[pt].isPacked!=(tt.programInfo.inputTypes[pt]===ot.TextureType.packed))throw new Error(`input[${pt}] property packed inconsistent`);if(!!st.isPacked!=(tt.programInfo.output.textureType===ot.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(tt,rt,st)}getOrCreateTextureData(tt,rt){let st=this.getTextureData(tt.dataId,rt===ot.TextureType.packed);if(!st&&(st=this.getTextureData(tt.dataId,rt!==ot.TextureType.packed),st))return rt===ot.TextureType.packed?this.pack(st):this.unpack(st);if(!st){const pt=(0,lt.createTextureLayoutFromTextureType)(this.session.layoutStrategy,tt.dims,rt);if(rt===ot.TextureType.packedLastDimension){const yt=tt.dims;if(yt.length===4){const bt=[yt[0],Math.ceil(yt[1]*yt[2]*yt[3]/4)],vt=(0,lt.createTextureLayoutFromTextureType)(this.session.layoutStrategy,bt,rt);let wt=tt.numberData;if(yt[1]*yt[2]*yt[3]%4!=0){const xt=yt[0],Tt=yt[1]*yt[2]*yt[3],Ot=Math.ceil(Tt*1/4)*4;wt=new Float32Array(xt*Ot);for(let $t=0;$t<xt;++$t){const It=$t*Tt,Rt=$t*Ot+$t%1*Tt;wt.set(tt.numberData.subarray(It,It+Tt),Rt)}}return this.createTextureData(vt,tt.type,wt,tt,1)}}if(rt===ot.TextureType.packed){const gt=(0,lt.createTextureLayoutFromShape)(this.session.layoutStrategy,tt.dims,1,[],{reverseWH:!0}),mt=this.createTextureData(gt,tt.type,tt.numberData,tt,1);st=this.pack(mt)}else st=this.createTextureData(pt,tt.type,tt.numberData,tt,1)}return st}createTextureDataFromLayoutBindTensor(tt,rt,st,pt){return this.createTextureData(tt,rt,st,pt,1)}createTextureData(tt,rt,st,pt,gt){it.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(tt)}]`);const mt=this.session.textureManager.createTextureFromLayout(rt,tt,st,gt);return this.createTextureDataFromTexture(tt,rt,mt,pt)}reshapeUnpacked(tt,rt){const st=this.getOrCreateTextureData(tt,ot.TextureType.unpacked),pt={channels:st.channels,height:st.height,width:st.width,shape:rt.length!==0?rt:[1],strides:ut.ShapeUtil.computeStrides(rt),unpackedShape:rt};return this.createTextureDataFromTexture(pt,tt.type,st.texture).tensor}reshapePacked(tt,rt){const st=this.getOrCreateTextureData(tt,ot.TextureType.packed);if((0,ft.isReshapeCheap)(tt.dims,rt)){const bt={channels:st.channels,height:st.height,width:st.width,shape:rt.length!==0?rt:[1],strides:ut.ShapeUtil.computeStrides(rt),unpackedShape:rt,isPacked:!0};return this.createTextureDataFromTexture(bt,tt.type,st.texture).tensor}const pt=(0,ft.processDims3D)(tt.dims),gt=(0,ft.processDims3D)(rt),mt=this.reshapePacked(tt,pt),yt=this.run((0,ft.createPackedReshape3DProgramInfoLoader)(this,mt,gt),[mt]);return this.reshapePacked(yt,rt)}cast(tt,rt){const st=this.getOrCreateTextureData(tt,ot.TextureType.unpacked);return this.createTextureDataFromTexture(st,rt,st.texture).tensor}createTextureDataFromTexture(tt,rt,st,pt,gt){const mt=Object.assign(Object.assign({},tt),{tensor:pt||new at.Tensor(tt.unpackedShape,rt,yt=>this.readTexture(mt),async yt=>this.readTextureAsync(mt),void 0,gt),texture:st});return this.setTextureData(mt.tensor.dataId,mt,tt.isPacked),mt}getTextureData(tt,rt=!1){return this.session.isInitializer(tt)?this.session.getTextureData(tt,rt):rt?this.packedTextureDataCache.get(tt):this.unpackedTextureDataCache.get(tt)}setTextureData(tt,rt,st=!1){this.session.isInitializer(tt)?this.session.setTextureData(tt,rt,st):(st?this.packedTextureDataCache:this.unpackedTextureDataCache).set(tt,rt)}isTextureLayoutCached(tt,rt=!1){return!!this.getTextureData(tt.dataId,rt)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(tt=>this.session.textureManager.releaseTexture(tt)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(tt=>this.session.textureManager.releaseTexture(tt)),this.unpackedTextureDataCache=new Map}readTexture(tt){return tt.isPacked?this.readTexture(this.unpack(tt)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(tt,tt.tensor.type,tt.channels):this.session.textureManager.readUint8TextureAsFloat((0,ht.encodeAsUint8)(this,tt))}async readTextureAsync(tt){return tt.isPacked?this.readTextureAsync(this.unpack(tt)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(tt,tt.tensor.type,tt.channels):this.session.textureManager.readUint8TextureAsFloat((0,ht.encodeAsUint8)(this,tt))}pack(tt){return this.executeProgram((0,dt.createPackProgramInfoLoader)(this,tt.tensor),[tt.tensor])}unpack(tt){return this.executeProgram((0,ct.createUnpackProgramInfoLoader)(this,tt.tensor),[tt.tensor])}}},4110:function(et,_e,nt){var it=this&&this.__createBinding||(Object.create?function(Kt,qt,Qt,Zt){Zt===void 0&&(Zt=Qt);var tn=Object.getOwnPropertyDescriptor(qt,Qt);tn&&!("get"in tn?!qt.__esModule:tn.writable||tn.configurable)||(tn={enumerable:!0,get:function(){return qt[Qt]}}),Object.defineProperty(Kt,Zt,tn)}:function(Kt,qt,Qt,Zt){Zt===void 0&&(Zt=Qt),Kt[Zt]=qt[Qt]}),at=this&&this.__setModuleDefault||(Object.create?function(Kt,qt){Object.defineProperty(Kt,"default",{enumerable:!0,value:qt})}:function(Kt,qt){Kt.default=qt}),ut=this&&this.__importStar||function(Kt){if(Kt&&Kt.__esModule)return Kt;var qt={};if(Kt!=null)for(var Qt in Kt)Qt!=="default"&&Object.prototype.hasOwnProperty.call(Kt,Qt)&&it(qt,Kt,Qt);return at(qt,Kt),qt};Object.defineProperty(_e,"__esModule",{value:!0}),_e.WEBGL_OP_RESOLVE_RULES=void 0;const dt=nt(8817),ft=ut(nt(5194)),ht=nt(4752),ct=nt(6668),lt=nt(9754),ot=nt(5042),tt=nt(6742),rt=nt(4125),st=nt(6149),pt=nt(5378),gt=nt(6981),mt=nt(7413),yt=nt(7006),bt=nt(8276),vt=nt(5565),wt=nt(2834),xt=nt(1010),Tt=nt(8126),Ot=nt(2801),$t=nt(565),It=nt(2444),Rt=nt(815),Ft=nt(564),Pt=nt(5416),Bt=nt(1240),Et=nt(5944),At=nt(5707),jt=ut(nt(9087)),Mt=nt(7862),Lt=nt(3980);_e.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",jt.abs],["Acos","","7+",jt.acos],["Add","","7+",ft.add],["And","","7+",ft.and],["Asin","","7+",jt.asin],["Atan","","7+",jt.atan],["AveragePool","","7+",wt.averagePool,wt.parseAveragePoolAttributes],["BatchNormalization","","7+",dt.batchNormalization,dt.parseBatchNormalizationAttributes],["Cast","","6+",ht.cast,ht.parseCastAttributes],["Ceil","","6+",jt.ceil],["Clip","","6-10",jt.clip,jt.parseClipAttributes],["Clip","","11+",jt.clipV11],["Concat","","4+",ct.concat,ct.parseConcatAttributes],["Conv","","1+",lt.conv,lt.parseConvAttributes],["ConvTranspose","","1+",ot.convTranspose,ot.parseConvTransposeAttributes],["Cos","","7+",jt.cos],["Div","","7+",ft.div],["Dropout","","7+",jt.identity],["DepthToSpace","","1+",tt.depthToSpace,tt.parseDepthToSpaceAttributes],["Equal","","7+",ft.equal],["Elu","","6+",jt.elu,jt.parseEluAttributes],["Exp","","6+",jt.exp],["Flatten","","1+",rt.flatten,rt.parseFlattenAttributes],["Floor","","6+",jt.floor],["FusedConv","com.microsoft","1+",lt.conv,lt.parseConvAttributes],["Gather","","1+",st.gather,st.parseGatherAttributes],["Gemm","","7-10",pt.gemm,pt.parseGemmAttributesV7],["Gemm","","11+",pt.gemm,pt.parseGemmAttributesV11],["GlobalAveragePool","","1+",wt.globalAveragePool,wt.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",wt.globalMaxPool],["Greater","","7+",ft.greater],["Identity","","1+",jt.identity],["ImageScaler","","1+",gt.imageScaler,gt.parseImageScalerAttributes],["InstanceNormalization","","6+",mt.instanceNormalization,mt.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",jt.leakyRelu,jt.parseLeakyReluAttributes],["Less","","7+",ft.less],["LRN","","1+",yt.lrn,yt.parseLrnAttributes],["Log","","6+",jt.log],["MatMul","","1+",bt.matMul,bt.parseMatMulAttributes],["MaxPool","","1+",wt.maxPool,wt.parseMaxPoolAttributes],["Mul","","7+",ft.mul],["Neg","","6+",jt.neg],["Not","","1+",jt.not],["Or","","7+",ft.or],["Pad","","2-10",vt.padV2,vt.parsePadAttributesV2],["Pad","","11+",vt.padV11,vt.parsePadAttributesV11],["Pow","","7+",ft.pow],["PRelu","","7+",ft.pRelu],["ReduceLogSum","","1+",xt.reduceLogSum,xt.parseReduceAttributes],["ReduceMax","","1+",xt.reduceMax,xt.parseReduceAttributes],["ReduceMean","","1+",xt.reduceMean,xt.parseReduceAttributes],["ReduceMin","","1+",xt.reduceMin,xt.parseReduceAttributes],["ReduceProd","","1+",xt.reduceProd,xt.parseReduceAttributes],["ReduceSum","","1-12",xt.reduceSum,xt.parseReduceAttributes],["ReduceSumSquare","","1+",xt.reduceLogSumSquare,xt.parseReduceAttributes],["Relu","","6+",jt.relu],["Reshape","","5+",Tt.reshape],["Resize","","10",Ot.resize,Ot.parseResizeAttributesV10],["Resize","","11+",Ot.resize,Ot.parseResizeAttributesV11],["Shape","","1+",$t.shape],["Sigmoid","","6+",jt.sigmoid],["Sin","","7+",jt.sin],["Slice","","10+",It.sliceV10],["Slice","","1-9",It.slice,It.parseSliceAttributes],["Softmax","","1-12",Rt.softmax,Rt.parseSoftmaxAttributes],["Softmax","","13+",Rt.softmaxV13,Rt.parseSoftmaxAttributesV13],["Split","","2-12",Ft.split,Ft.parseSplitAttributes],["Sqrt","","6+",jt.sqrt],["Squeeze","","1-12",Pt.squeeze,Pt.parseSqueezeAttributes],["Squeeze","","13+",Pt.squeezeV13],["Sub","","7+",ft.sub],["Sum","","6+",Bt.sum],["Tan","","7+",jt.tan],["Tanh","","6+",jt.tanh],["Tile","","6+",Et.tile],["Transpose","","1+",At.transpose,At.parseTransposeAttributes],["Upsample","","7-8",Lt.upsample,Lt.parseUpsampleAttributesV7],["Upsample","","9",Lt.upsample,Lt.parseUpsampleAttributesV9],["Unsqueeze","","1-12",Mt.unsqueeze,Mt.parseUnsqueezeAttributes],["Unsqueeze","","13+",Mt.unsqueezeV13],["Xor","","7+",ft.xor]]},8817:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseBatchNormalizationAttributes=_e.batchNormalization=void 0;const it=nt(4910),at=nt(6757),ut=nt(5639),dt={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[ut.TextureType.unpacked,ut.TextureType.unpacked,ut.TextureType.unpacked,ut.TextureType.unpacked,ut.TextureType.unpacked]};_e.batchNormalization=(ct,lt,ot)=>(ht(lt),[ct.run(Object.assign(Object.assign({},dt),{cacheHint:ot.cacheKey,get:()=>ft(ct,lt,ot)}),lt)]),_e.parseBatchNormalizationAttributes=ct=>{const lt=ct.attributes.getFloat("epsilon",1e-5),ot=ct.attributes.getFloat("momentum",.9),tt=ct.attributes.getInt("spatial",1);return(0,it.createAttributeWithCacheKey)({epsilon:lt,momentum:ot,spatial:tt})};const ft=(ct,lt,ot)=>{const tt=(0,at.getGlsl)(ct.session.backend.glContext.version),rt=lt[0].dims.length,[st,pt]=ct.calculateTextureWidthAndHeight(lt[1].dims,ut.TextureType.unpacked),gt=`
  float process(int[${rt}] indices) {
    vec2 position = offsetToCoords(indices[1], ${st}, ${pt});
    float scale = getColorAsFloat(${tt.texture2D}(Scale, position));
    float mean = getColorAsFloat(${tt.texture2D}(Mean, position));
    float variance = getColorAsFloat(${tt.texture2D}(Variance, position));
    float b = getColorAsFloat(${tt.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${ot.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},dt),{output:{dims:lt[0].dims,type:lt[0].type,textureType:ut.TextureType.unpacked},shaderSource:gt})},ht=ct=>{if(!ct||ct.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const lt=ct[0],ot=ct[1],tt=ct[2],rt=ct[3],st=ct[4];if(lt.dims.length<3||ot.dims.length!==1||tt.dims.length!==1||rt.dims.length!==1||st.dims.length!==1)throw new Error("invalid input shape.");if(ot.dims[0]!==lt.dims[1]||tt.dims[0]!==lt.dims[1]||rt.dims[0]!==lt.dims[1]||st.dims[0]!==lt.dims[1])throw new Error("invalid input shape.");if(lt.type!=="float32"&&lt.type!=="float64"||ot.type!=="float32"&&ot.type!=="float64"||tt.type!=="float32"&&tt.type!=="float64"||rt.type!=="float32"&&rt.type!=="float64"||st.type!=="float32"&&st.type!=="float64")throw new Error("invalid input tensor types.")}},5194:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.xor=_e.sub=_e.pRelu=_e.pow=_e.or=_e.mul=_e.less=_e.greater=_e.equal=_e.div=_e.and=_e.add=_e.glslPRelu=_e.glslPow=_e.glslXor=_e.glslOr=_e.glslAnd=_e.glslLess=_e.glslGreater=_e.glslEqual=_e.glslSub=_e.glslMul=_e.glslDiv=_e.glslAdd=void 0;const it=nt(7273),at=nt(1997),ut=nt(6757),dt=nt(5639);function ft(){const wt="add_";return{body:`
  float ${wt}(float a, float b) {
    return a + b;
  }
  vec4 ${wt}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:wt,type:at.FunctionType.ValueBased}}function ht(){const wt="div_";return{body:`
  float ${wt}(float a, float b) {
    return a / b;
  }
  vec4 ${wt}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:wt,type:at.FunctionType.ValueBased}}function ct(){const wt="mul_";return{body:`
  float ${wt}(float a, float b) {
    return a * b;
  }
  vec4 ${wt}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:wt,type:at.FunctionType.ValueBased}}function lt(){const wt="sub_";return{body:`
  float ${wt}(float a, float b) {
    return a - b;
  }
  vec4 ${wt}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:wt,type:at.FunctionType.ValueBased}}function ot(){const wt="equal_";return{body:`
  float ${wt}(float a, float b) {
    return float(a == b);
  }
  vec4 ${wt}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:wt,type:at.FunctionType.ValueBased}}function tt(){const wt="greater_";return{body:`
  float ${wt}(float a, float b) {
    return float(a > b);
  }
  vec4 ${wt}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:wt,type:at.FunctionType.ValueBased}}function rt(){const wt="less_";return{body:`
  float ${wt}(float a, float b) {
    return float(a < b);
  }
  vec4 ${wt}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:wt,type:at.FunctionType.ValueBased}}function st(){const wt="and_";return{body:`
  float ${wt}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${wt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:wt,type:at.FunctionType.ValueBased}}function pt(){const wt="or_";return{body:`
  float ${wt}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${wt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:wt,type:at.FunctionType.ValueBased}}function gt(){const wt="xor_";return{body:`
  float ${wt}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${wt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:wt,type:at.FunctionType.ValueBased}}function mt(){return function(wt){const xt=`${wt}_`;return{body:`
  float ${xt}(float a, float b) {
    return ${wt}(a, b);
  }
  vec4 ${xt}(vec4 v1, vec4 v2) {
    return ${wt}(v1, v2);
  }
  `,name:xt,type:at.FunctionType.ValueBased}}("pow")}function yt(){const wt="prelu_";return{body:`
  float ${wt}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${wt}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:wt,type:at.FunctionType.ValueBased}}_e.glslAdd=ft,_e.glslDiv=ht,_e.glslMul=ct,_e.glslSub=lt,_e.glslEqual=ot,_e.glslGreater=tt,_e.glslLess=rt,_e.glslAnd=st,_e.glslOr=pt,_e.glslXor=gt,_e.glslPow=mt,_e.glslPRelu=yt;const bt=(wt,xt,Tt,Ot=xt[0].type,$t)=>{const It=wt.session.pack?dt.TextureType.packed:dt.TextureType.unpacked;return{name:Tt.name,inputNames:["A","B"],inputTypes:[It,It],cacheHint:$t,get:()=>vt(wt,xt,Tt,Ot)}},vt=(wt,xt,Tt,Ot=xt[0].type)=>{const $t=wt.session.pack?dt.TextureType.packed:dt.TextureType.unpacked,It=!it.ShapeUtil.areEqual(xt[0].dims,xt[1].dims);let Rt=xt[0].dims;const Ft=wt.session.pack;if(It){const Et=it.BroadcastUtil.calcShape(xt[0].dims,xt[1].dims,!1);if(!Et)throw new Error("Can't perform binary op on the given tensors");Rt=Et;const At=Rt.length,jt=xt[0].dims.length!==0?xt[0].dims.length:1,Mt=xt[1].dims.length!==0?xt[1].dims.length:1,Lt=xt[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Kt=xt[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",qt=(0,ut.getGlsl)(wt.session.backend.glContext.version),Qt=Ft?`
      ${Tt.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${Tt.name}(a, b);
        ${qt.output} = result;
      }`:`
      ${Tt.body}
      float process(int indices[${At}]) {
        int aindices[${jt}];
        int bindices[${Mt}];
        ${Lt}
        ${Kt}
        return ${Tt.name}(_A(aindices), _B(bindices));
      }`;return{name:Tt.name,inputNames:["A","B"],inputTypes:[$t,$t],output:{dims:Rt,type:Ot,textureType:$t},shaderSource:Qt,hasMain:Ft}}const Pt=(0,ut.getGlsl)(wt.session.backend.glContext.version),Bt=`
    ${Tt.body}
    void main() {
      vec4 v1 = ${Pt.texture2D}(A, TexCoords);
      vec4 v2 = ${Pt.texture2D}(B, TexCoords);
      vec4 result = ${Tt.name}(v1, v2);
      ${Pt.output} = result;
    }
    `;return{name:Tt.name,inputNames:["A","B"],inputTypes:[$t,$t],output:{dims:xt[0].dims,type:Ot,textureType:$t},shaderSource:Bt,hasMain:!0}};_e.add=(wt,xt)=>[wt.run(bt(wt,xt,ft()),xt)],_e.and=(wt,xt)=>[wt.run(bt(wt,xt,st(),"bool"),xt)],_e.div=(wt,xt)=>[wt.run(bt(wt,xt,ht()),xt)],_e.equal=(wt,xt)=>[wt.run(bt(wt,xt,ot(),"bool"),xt)],_e.greater=(wt,xt)=>[wt.run(bt(wt,xt,tt(),"bool"),xt)],_e.less=(wt,xt)=>[wt.run(bt(wt,xt,rt(),"bool"),xt)],_e.mul=(wt,xt)=>[wt.run(bt(wt,xt,ct()),xt)],_e.or=(wt,xt)=>[wt.run(bt(wt,xt,pt(),"bool"),xt)],_e.pow=(wt,xt)=>[wt.run(bt(wt,xt,mt()),xt)],_e.pRelu=(wt,xt)=>[wt.run(bt(wt,xt,yt()),xt)],_e.sub=(wt,xt)=>[wt.run(bt(wt,xt,lt()),xt)],_e.xor=(wt,xt)=>[wt.run(bt(wt,xt,gt(),"bool"),xt)]},4752:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseCastAttributes=_e.cast=void 0;const it=nt(7273);_e.cast=(ut,dt,ft)=>(at(dt),[ut.cast(dt[0],ft)]),_e.parseCastAttributes=ut=>it.ProtoUtil.tensorDataTypeFromProto(ut.attributes.getInt("to"));const at=ut=>{if(!ut||ut.length!==1)throw new Error("Cast requires 1 input.");if(ut[0].type==="string")throw new Error("Invalid input type.")}},4595:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createPackedConcatProgramInfoLoader=void 0;const it=nt(6757),at=nt(5639),ut=nt(432),dt=nt(5614);_e.createPackedConcatProgramInfoLoader=(ht,ct,lt)=>{const ot=(tt=ct.length,rt=lt.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:tt},(st,pt)=>`X${pt}`),inputTypes:Array(tt).fill(at.TextureType.packed),cacheHint:rt});var tt,rt;return Object.assign(Object.assign({},ot),{get:()=>((st,pt,gt,mt)=>{const yt=gt[0].dims.slice();if(mt>=yt.length||mt<-1*yt.length)throw new Error("axis specified for concat doesn't match input dimensionality");mt<0&&(mt=yt.length+mt);const bt=yt.slice(0);for(let Lt=1;Lt<gt.length;Lt++){const Kt=gt[Lt].dims.slice();for(let qt=0;qt<yt.length;qt++)if(qt===mt)bt[mt]+=Kt[qt];else if(yt[qt]!==Kt[qt])throw new Error("non concat dimensions must match")}const vt=bt.length,wt=(0,dt.getChannels)("coords",vt),xt=(0,ut.getCoordsDataType)(vt),Tt=(0,dt.unpackFromChannel)(),Ot=gt.map(Lt=>Lt.dims),$t=(0,ut.getGlChannels)(vt),It=new Array(Ot.length-1);It[0]=Ot[0][mt];for(let Lt=1;Lt<It.length;Lt++)It[Lt]=It[Lt-1]+Ot[Lt][mt];const Rt=$t[mt],Ft=$t.slice(-2),Pt=$t.join();let Bt=`if (${Rt} < ${It[0]}) {
        return getChannel(
            getX0(${Pt}), vec2(${Ft.join()}));
        }`;for(let Lt=1;Lt<It.length;Lt++){const Kt=It[Lt-1];Bt+=`
            if (${Rt} < ${It[Lt]}  && ${Rt} >= ${It[Lt-1]}) {
              return getChannel(
                getX${Lt}(${ft($t,Rt,Kt)}),
                vec2(${ft(Ft,Rt,Kt)}));
            }`}const Et=It.length,At=It[It.length-1];Bt+=`
            return getChannel(
              getX${Et}(${ft($t,Rt,At)}),
              vec2(${ft(Ft,Rt,At)}));`;const jt=(0,it.getGlsl)(st.session.backend.glContext.version),Mt=`
          ${Tt}
          float getValue(${$t.map(Lt=>"int "+Lt)}) {
            ${Bt}
          }

          void main() {
            ${xt} coords = getOutputCoords();
            int lastDim = coords.${$t[vt-1]};
            coords.${$t[vt-1]} = coords.${$t[vt-2]};
            coords.${$t[vt-2]} = lastDim;

            vec4 result = vec4(getValue(${wt}), 0., 0., 0.);

            ${wt[vt-1]} = ${wt[vt-1]} + 1;
            if (${wt[vt-1]} < ${bt[vt-1]}) {
              result.g = getValue(${wt});
            }

            ${wt[vt-2]} = ${wt[vt-2]} + 1;
            if (${wt[vt-2]} < ${bt[vt-2]}) {
              result.a = getValue(${wt});
            }

            ${wt[vt-1]} = ${wt[vt-1]} - 1;
            if (${wt[vt-2]} < ${bt[vt-2]} &&
                ${wt[vt-1]} < ${bt[vt-1]}) {
              result.b = getValue(${wt});
            }
            ${jt.output} = result;
          }
        `;return Object.assign(Object.assign({},pt),{output:{dims:bt,type:gt[0].type,textureType:at.TextureType.packed},shaderSource:Mt,hasMain:!0})})(ht,ot,ct,lt.axis)})};const ft=(ht,ct,lt)=>{const ot=ht.indexOf(ct);return ht.map((tt,rt)=>rt===ot?`${tt} - ${lt}`:tt).join()}},6668:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseConcatAttributes=_e.concat=void 0;const it=nt(4910),at=nt(5639),ut=nt(4595);_e.concat=(tt,rt,st)=>(ot(rt),tt.session.pack&&rt[0].dims.length>1?[tt.run((0,ut.createPackedConcatProgramInfoLoader)(tt,rt,st),rt)]:[tt.run(dt(tt,rt,st),rt)]);const dt=(tt,rt,st)=>{const pt=(gt=rt.length,mt=st.cacheKey,{name:"Concat",inputNames:Array.from({length:gt},(yt,bt)=>`X${bt}`),inputTypes:Array(gt).fill(at.TextureType.unpacked),cacheHint:mt});var gt,mt;return Object.assign(Object.assign({},pt),{get:()=>((yt,bt,vt,wt)=>{const xt=vt[0].dims.slice();if(wt>=xt.length||wt<-1*xt.length)throw new Error("axis specified for concat doesn't match input dimensionality");wt<0&&(wt=xt.length+wt);const Tt=xt.slice(0);for(let Pt=1;Pt<vt.length;Pt++){const Bt=vt[Pt].dims.slice();for(let Et=0;Et<xt.length;Et++)if(Et===wt)Tt[wt]+=Bt[Et];else if(xt[Et]!==Bt[Et])throw new Error("non concat dimensions must match")}const Ot=Tt.length,$t=new Array(vt.length);let It=0;for(let Pt=0;Pt<$t.length;++Pt)It+=vt[Pt].dims[wt],$t[Pt]=It;let Rt="";Rt=vt.length<5?ft($t):ht($t);const Ft=`
        ${ct(vt.length,Ot)}
        ${lt($t)}
        ${Rt}
        float process(int indices[${Ot}]) {
          int textureIndex = getTextureWhereDataResides (indices[${wt}]);

          if(textureIndex != 0) {
            indices[${wt}] = indices[${wt}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},bt),{output:{dims:Tt,type:vt[0].type,textureType:at.TextureType.unpacked},shaderSource:Ft})})(0,pt,rt,st.axis)})},ft=tt=>`int getTextureWhereDataResides(int index) {
      ${tt.map((rt,st)=>`if(index<${rt}) {return ${st};}
`).join("")}
    }`,ht=tt=>ft(tt),ct=(tt,rt)=>{const st=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${rt}]) {`];for(let pt=0;pt<tt;++pt)pt===0?st.push(`	if (textureIndex == ${pt}) { return _X${pt}(indices); }`):pt===tt-1?st.push(`	else { return _X${pt}(indices); }`):st.push(`	else if (textureIndex == ${pt}) { return _X${pt}(indices); }`);return st.push("	}"),st.join(`
`)},lt=tt=>{const rt=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let st=0;st<tt.length;++st)st===0?rt.push(`	if (index == ${st}) { return ${tt[st]}; }`):st===tt.length-1?rt.push(`	else { return ${tt[st]}; }`):rt.push(`	else if (index == ${st}) { return ${tt[st]}; }`);return rt.push("	}"),rt.join(`
`)};_e.parseConcatAttributes=tt=>(0,it.createAttributeWithCacheKey)({axis:tt.attributes.getInt("axis")});const ot=tt=>{if(!tt||tt.length<1)throw new Error("too few inputs");const rt=tt[0].type,st=tt[0].dims.length;if(rt==="string")throw new Error("string tensor is not supported yet");for(const pt of tt){if(pt.type!==rt)throw new Error("input tensors should be one type");if(pt.dims.length!==st)throw new Error("input tensors should have the same shape")}}},7825:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createUnpackedGroupedConvProgramInfoLoader=void 0;const it=nt(1315),at=nt(6757),ut=nt(5639),dt=nt(9754),ft=nt(2150);_e.createUnpackedGroupedConvProgramInfoLoader=(ht,ct,lt)=>{const ot=(tt=ct.length>2,rt=lt.cacheKey,{name:"GroupedConv",inputNames:tt?["X","W","Bias"]:["X","W"],inputTypes:tt?[ut.TextureType.unpacked,ut.TextureType.unpacked,ut.TextureType.unpacked]:[ut.TextureType.unpacked,ut.TextureType.unpacked],cacheHint:rt});var tt,rt;return Object.assign(Object.assign({},ot),{get:()=>((st,pt,gt,mt)=>{const yt=pt.length>2?"value += getBias(output_channel);":"",bt=pt[0].dims.slice(),vt=pt[1].dims.slice(),wt=vt[0]/mt.group;it.Logger.verbose("GroupedConv",`autpPad:${mt.autoPad}, dilations:${mt.dilations}, group:${mt.group}, kernelShape:${mt.kernelShape}, pads:${mt.pads}, strides:${mt.strides}`);const xt=(0,dt.calculateOutputShape)(bt,vt,mt.dilations,mt.pads,mt.strides),Tt=(0,at.getGlsl)(st.session.backend.glContext.version),{activationFunction:Ot,applyActivation:$t}=(0,ft.getActivationSnippet)(mt),It=`
  const ivec2 strides = ivec2(${mt.strides[0]}, ${mt.strides[1]});
  const ivec2 pads = ivec2(${mt.pads[0]}, ${mt.pads[1]});
  ${Ot}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${wt};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${vt[1]}; wInChannel++) {
      int input_channel = group_id * ${vt[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${vt[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${mt.dilations[0]};

        if (xHeight < 0 || xHeight >= ${bt[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${vt[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${mt.dilations[1]};
          if (xWidth < 0 || xWidth >= ${bt[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${yt}
    ${$t}
    ${Tt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},gt),{output:{dims:xt,type:pt[0].type,textureType:ut.TextureType.unpacked},shaderSource:It,hasMain:!0})})(ht,ct,ot,lt)})}},7708:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.conv2DPacked=_e.conv2DPackedPointwise=void 0;const it=nt(9754),at=nt(5950),ut=nt(5632);_e.conv2DPackedPointwise=(dt,ft,ht)=>{const ct=ft[0].dims,lt=ft[1].dims,ot=(0,it.calculateOutputShape)(ct,lt,ht.dilations,ht.pads,ht.strides),tt=dt.reshapePacked(ft[0],[ct[1],ct[2]*ct[3]]),rt=dt.reshapePacked(ft[1],[lt[0],lt[1]]),st=ft.length>2?[rt,tt,ft[2]]:[rt,tt],pt=dt.run((0,ut.createPackedMatmulProgramInfoLoader)(dt,st,ht),st);return dt.reshapePacked(pt,ot)},_e.conv2DPacked=(dt,ft,ht)=>{const ct=ft[0].dims,lt=ft[1].dims,ot=(0,it.calculateOutputShape)(ct,lt,ht.dilations,ht.pads,ht.strides),tt=dt.run((0,at.createPackedIm2ColProgramInfoLoader)(dt,ft[0],ft[1],ot,ht),[ft[0]]),rt=dt.reshapePacked(ft[1],[lt[0],lt[1]*lt[2]*lt[3]]),st=ft.length===3?[rt,tt,ft[2]]:[rt,tt],pt=dt.run((0,ut.createPackedMatmulProgramInfoLoader)(dt,st,ht),st);return dt.reshapePacked(pt,ot)}},5042:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseConvTransposeAttributes=_e.convTranspose=void 0;const it=nt(4910),at=nt(6757),ut=nt(5639),dt=nt(2150),ft=(rt,st,pt,gt,mt,yt)=>(rt-1)*st+pt+(gt-1)*mt+1-yt,ht=(rt,st,pt,gt,mt)=>{const yt=Math.floor(rt/2);st==="SAME_UPPER"?(pt[gt]=yt,pt[mt]=rt-yt):st==="SAME_LOWER"&&(pt[gt]=rt-yt,pt[mt]=yt)};_e.convTranspose=(rt,st,pt)=>(tt(st,pt),ct(rt,st,pt));const ct=(rt,st,pt)=>{const gt=ot(pt,st);return[lt(rt,st,gt)]},lt=(rt,st,pt)=>rt.run(((gt,mt,yt)=>{const bt=(vt=mt.length>2,wt=yt.cacheKey,{name:"ConvTranspose",inputNames:vt?["X","W","B"]:["X","W"],inputTypes:vt?[ut.TextureType.unpacked,ut.TextureType.unpacked,ut.TextureType.unpacked]:[ut.TextureType.unpacked,ut.TextureType.unpacked],cacheHint:wt});var vt,wt;return Object.assign(Object.assign({},bt),{get:()=>((xt,Tt,Ot,$t)=>{const It=Tt.length>2?"getB(output_channel)":"0.0",Rt=Tt[0].dims,Ft=Tt[1].dims,Pt=Ft[1],Bt=Ft[0]/$t.group,Et=[Tt[0].dims[0],Tt[1].dims[1]*$t.group,...$t.outputShape],At=(0,at.getGlsl)(xt.session.backend.glContext.version),{activationFunction:jt,applyActivation:Mt}=(0,dt.getActivationSnippet)($t),Lt=`
  const ivec2 strides = ivec2(${$t.strides[0]}, ${$t.strides[1]});
  const ivec2 pads = ivec2(${$t.pads[0]}, ${$t.pads[1]});
  ${jt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${Pt};
    int wOutChannel = output_channel - group_id * ${Pt};

    float value = ${It};
    for (int inChannelOffset = 0; inChannelOffset < ${Bt}; inChannelOffset++) {
      int input_channel = group_id * ${Bt} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${Ft[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${Ft[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${$t.dilations[0]}, wHOff * ${$t.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${Rt[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${Rt[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${Mt}
    ${At.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},Ot),{output:{dims:Et,type:Tt[0].type,textureType:ut.TextureType.unpacked},shaderSource:Lt,hasMain:!0})})(gt,mt,bt,yt)})})(rt,st,pt),st),ot=(rt,st)=>{const pt=rt.kernelShape.slice();if(rt.kernelShape.length===0)for(let bt=2;bt<st[1].dims.length;++bt)pt.push(st[1].dims[bt]);const gt=rt.pads.slice(),mt=rt.outputShape.slice();((bt,vt,wt,xt,Tt,Ot,$t,It)=>{const Rt=bt.length-2,Ft=It.length===0;for(let Pt=0;Pt<Rt;++Pt){const Bt=Ft?bt[Pt+2]*Ot[Pt]:It[Pt],Et=ft(bt[Pt+2],Ot[Pt],Tt[Pt],vt[Pt],wt[Pt],Bt);ht(Et,xt,Tt,Pt,Pt+Rt),Ft&&It.push(Ot[Pt]*(bt[Pt+2]-1)+$t[Pt]+(vt[Pt]-1)*wt[Pt]+1-Tt[Pt]-Tt[Pt+Rt])}})(st[0].dims,pt,rt.dilations,rt.autoPad,gt,rt.strides,rt.outputPadding,mt);const yt=Object.assign({},rt);return Object.assign(yt,{kernelShape:pt,pads:gt,outputShape:mt,cacheKey:rt.cacheKey}),yt};_e.parseConvTransposeAttributes=rt=>{const st=rt.attributes,pt=(0,dt.parseInternalActivationAttributes)(st),gt=st.getString("auto_pad","NOTSET"),mt=st.getInts("dilations",[1,1]),yt=st.getInt("group",1),bt=st.getInts("kernel_shape",[]),vt=st.getInts("output_padding",[0,0]),wt=st.getInts("output_shape",[]),xt=st.getInts("pads",[0,0,0,0]),Tt=st.getInts("strides",[1,1]);return(0,it.createAttributeWithCacheKey)(Object.assign({autoPad:gt,dilations:mt,group:yt,kernelShape:bt,outputPadding:vt,outputShape:wt,pads:xt,strides:Tt},pt))};const tt=(rt,st)=>{if(!rt||rt.length!==2&&rt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(rt[0].dims.length!==4||rt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(rt[0].dims[1]!==rt[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const pt=rt[1].dims[1]*st.group;if(rt.length===3&&(rt[2].dims.length!==1||rt[2].dims[0]!==pt))throw new Error("invalid bias");const gt=rt[0].dims.length-2;if(st.dilations.length!==gt)throw new Error(`dilations should be ${gt}D`);if(st.strides.length!==gt)throw new Error(`strides should be ${gt}D`);if(st.pads.length!==2*gt)throw new Error(`pads should be ${2*gt}D`);if(st.outputPadding.length!==gt)throw new Error(`output_padding should be ${gt}D`);if(st.kernelShape.length!==0&&st.kernelShape.length!==rt[1].dims.length-2)throw new Error("invalid kernel shape");if(st.outputShape.length!==0&&st.outputShape.length!==rt[0].dims.length-2)throw new Error("invalid output shape");if(rt[0].type!=="float32"||rt[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(rt.length===3&&rt[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseConvAttributes=_e.conv=_e.calculateOutputShape=void 0;const it=nt(4910),at=nt(7273),ut=nt(7825),dt=nt(7708),ft=nt(3281),ht=nt(2150),ct=nt(1625),lt=nt(8276);_e.calculateOutputShape=(gt,mt,yt,bt,vt)=>{const wt=gt[0],xt=gt.slice(2),Tt=xt.length,Ot=mt[0],$t=mt.slice(2).map((Rt,Ft)=>Rt+(Rt-1)*(yt[Ft]-1)),It=xt.map((Rt,Ft)=>Rt+bt[Ft]+bt[Ft+Tt]).map((Rt,Ft)=>Math.floor((Rt-$t[Ft]+vt[Ft])/vt[Ft]));return[wt,Ot].concat(...It)},_e.conv=(gt,mt,yt)=>(pt(mt,yt),ot(gt,mt,yt));const ot=(gt,mt,yt)=>{const bt=st(yt,mt),vt=gt.session.pack,wt=bt.kernelShape[0]===1&&bt.kernelShape[1]===1;return bt.group>1?[gt.run((0,ut.createUnpackedGroupedConvProgramInfoLoader)(gt,mt,bt),mt)]:wt&&vt?[tt(gt,mt,bt)]:vt&&mt[0].dims.length===4&&mt[0].dims[0]===1&&!wt?[(0,dt.conv2DPacked)(gt,mt,bt)]:[rt(gt,mt,bt)]},tt=(gt,mt,yt)=>{const bt=mt[0].dims,vt=mt[1].dims,wt=(0,_e.calculateOutputShape)(bt,vt,yt.dilations,yt.pads,yt.strides),xt=gt.reshapeUnpacked(mt[0],[bt[1],bt[2]*bt[3]]),Tt=gt.reshapeUnpacked(mt[1],[vt[0],vt[1]]),Ot=mt.length>2?[Tt,xt,mt[2]]:[Tt,xt],$t=gt.run((0,lt.createMatmulProgramInfoLoader)(Ot,yt),Ot);return gt.reshapeUnpacked($t,wt)},rt=(gt,mt,yt)=>{const bt=mt[0].dims,vt=mt[1].dims,wt=(0,_e.calculateOutputShape)(bt,vt,yt.dilations,yt.pads,yt.strides),xt=gt.run((0,ct.createIm2ColProgramInfoLoader)(gt,mt[0],mt[1],wt,yt),[mt[0]]),Tt=mt.length===3?[xt,mt[1],mt[2]]:[xt,mt[1]];return gt.run((0,ft.createDotProductProgramInfoLoader)(gt,mt,wt,yt),Tt)},st=(gt,mt)=>{const yt=gt.kernelShape.slice();if(gt.kernelShape.length===0)for(let wt=2;wt<mt[1].dims.length;++wt)yt.push(mt[1].dims[wt]);const bt=gt.pads.slice();at.PoolConvUtil.adjustPadsBasedOnAutoPad(mt[0].dims,gt.strides,gt.dilations,yt,bt,gt.autoPad);const vt=Object.assign({},gt);return Object.assign(vt,{kernelShape:yt,pads:bt,cacheKey:gt.cacheKey}),vt};_e.parseConvAttributes=gt=>{const mt=gt.attributes,yt=(0,ht.parseInternalActivationAttributes)(mt),bt=mt.getString("auto_pad","NOTSET"),vt=mt.getInts("dilations",[1,1]),wt=mt.getInt("group",1),xt=mt.getInts("kernel_shape",[]),Tt=mt.getInts("pads",[0,0,0,0]),Ot=mt.getInts("strides",[1,1]);return(0,it.createAttributeWithCacheKey)(Object.assign({autoPad:bt,dilations:vt,group:wt,kernelShape:xt,pads:Tt,strides:Ot},yt))};const pt=(gt,mt)=>{if(!gt||gt.length!==2&&gt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(gt[0].dims.length!==4||gt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(gt[0].dims[1]!==gt[1].dims[1]*mt.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(gt.length===3&&(gt[2].dims.length!==1||gt[1].dims[0]!==gt[2].dims[0]))throw new Error("invalid bias");const yt=gt[0].dims.length-2;if(mt.dilations.length!==yt)throw new Error(`dilations should be ${yt}D`);if(mt.strides.length!==yt)throw new Error(`strides should be ${yt}D`);if(mt.pads.length!==2*yt)throw new Error(`pads should be ${2*yt}D`);if(mt.kernelShape.length!==0&&mt.kernelShape.length!==gt[1].dims.length-2)throw new Error("invalid kernel shape");if(gt[0].type!=="float32"||gt[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(gt.length===3&&gt[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},6742:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseDepthToSpaceAttributes=_e.depthToSpace=void 0;const it=nt(5707);_e.depthToSpace=(ut,dt,ft)=>{at(dt);const ht=ft.blocksize,ct=ht*ht,lt=ft.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],ot=ft.mode==="DCR"?[dt[0].dims[0],ht,ht,dt[0].dims[1]/ct,dt[0].dims[2],dt[0].dims[3]]:[dt[0].dims[0],dt[0].dims[1]/ct,ht,ht,dt[0].dims[2],dt[0].dims[3]],tt=ut.reshapeUnpacked(dt[0],ot),rt={perm:lt,cacheKey:`${lt}`},[st]=(0,it.transpose)(ut,[tt],rt),pt=[dt[0].dims[0],dt[0].dims[1]/ct,dt[0].dims[2]*ht,dt[0].dims[3]*ht];return[ut.reshapeUnpacked(st,pt)]},_e.parseDepthToSpaceAttributes=ut=>{const dt=ut.attributes.getInt("blocksize");if(dt<1)throw new Error(`blocksize must be >= 1, but got : ${dt} for DepthToSpace`);const ft=ut.attributes.getString("mode","DCR");if(ft!=="DCR"&&ft!=="CRD")throw new Error(`unrecognized mode: ${ft} for DepthToSpace`);return{mode:ft,blocksize:dt}};const at=ut=>{if(ut.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${ut.length}`);if(ut[0].type==="string"||ut[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createDotProductProgramInfoLoader=void 0;const it=nt(7273),at=nt(6757),ut=nt(5639),dt=nt(2150),ft=nt(1625);_e.createDotProductProgramInfoLoader=(ht,ct,lt,ot)=>{const tt=((rt,st)=>({name:"ConvDotProduct",inputNames:rt?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:rt?[ut.TextureType.unpacked,ut.TextureType.packedLastDimension,ut.TextureType.unpacked]:[ut.TextureType.unpacked,ut.TextureType.packedLastDimension],cacheKey:st.activationCacheKey}))(ct.length>2,ot);return Object.assign(Object.assign({},tt),{get:()=>((rt,st,pt,gt,mt)=>{const yt=pt[0].dims,bt=pt[1].dims,vt=[bt[0],Math.ceil(yt[1]*bt[2]*bt[3]/4)],wt=(0,ft.calculateIm2ColDims)(yt,bt,gt),[xt,Tt]=rt.calculateTextureWidthAndHeight(vt,ut.TextureType.packedLastDimension),Ot=it.ShapeUtil.computeStrides(wt),[$t,It]=rt.calculateTextureWidthAndHeight(wt,ut.TextureType.packedLastDimension),Rt=gt.length,Ft=pt.length<3?"0.0":"_B(b)",Pt=Math.ceil(yt[1]*bt[2]*bt[3]/4),{activationFunction:Bt,applyActivation:Et}=(0,dt.getActivationSnippet)(mt),At=(0,at.getGlsl)(rt.session.backend.glContext.version),jt=`
${Bt}
float process(int indices[${Rt}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${Ot[0]} + im2col[1] * ${Ot[1]} + im2col[2] * ${Ot[2]};
  int kernelOffset = indices[1] * ${vt[1]};
  float value = ${Ft};
  for (int i = 0; i < ${Pt}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${$t}, ${It});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${xt}, ${Tt});
    value += dot(${At.texture2D}(Im2Col, im2colCoords), ${At.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${Et}
  return value;
}`;return Object.assign(Object.assign({},st),{output:{dims:gt,type:pt[0].type,textureType:ut.TextureType.unpacked},shaderSource:jt})})(ht,tt,ct,lt,ot)})}},4125:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseFlattenAttributes=_e.flatten=void 0;const it=nt(7273);_e.flatten=(ut,dt,ft)=>{at(dt,ft);const ht=it.ShapeUtil.flattenShape(dt[0].dims,ft);return[ut.reshapeUnpacked(dt[0],ht)]},_e.parseFlattenAttributes=ut=>ut.attributes.getInt("axis",1);const at=(ut,dt)=>{if(!ut||ut.length!==1)throw new Error("Flatten requires 1 input.");const ft=ut[0].dims.length;if(ft===0)throw new Error("scalar tensor is not supported.");if(dt<-ft||dt>ft)throw new Error("Invalid axis");if(ut[0].type==="string")throw new Error("string tensor is not supported.")}},2150:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseInternalActivationAttributes=_e.getActivationSnippet=void 0;const it=nt(7273),at=nt(9087);_e.getActivationSnippet=function(ut){let dt;switch(ut.activation){case"Relu":dt=(0,at.glslRelu)();break;case"Sigmoid":dt=(0,at.glslSigmoid)();break;case"Clip":dt=(0,at.glslClip)(ut.clipMin,ut.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const ft=dt.name;return{activationFunction:dt.body,applyActivation:`value = ${ft}_(value);`}},_e.parseInternalActivationAttributes=ut=>{const dt=ut.getString("activation","");if(dt==="Clip"){const[ft,ht]=ut.getFloats("activation_params",[it.MIN_CLIP,it.MAX_CLIP]);return{activation:dt,clipMax:ht,clipMin:ft,activationCacheKey:`${dt}:${ft},${ht}`}}return{activation:dt,activationCacheKey:dt}}},6149:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseGatherAttributes=_e.gather=void 0;const it=nt(4910),at=nt(6145),ut=nt(7273),dt=nt(5639);_e.gather=(lt,ot,tt)=>(ct(ot,tt.axis),[lt.run(ht(lt,ot,tt),ot)]),_e.parseGatherAttributes=lt=>(0,it.createAttributeWithCacheKey)({axis:lt.attributes.getInt("axis",0)});const ft={name:"Gather",inputNames:["A","B"],inputTypes:[dt.TextureType.unpacked,dt.TextureType.unpacked]},ht=(lt,ot,tt)=>{const rt=Object.assign(Object.assign({},ft),{cacheHint:tt.cacheKey});return Object.assign(Object.assign({},rt),{get:()=>((st,pt,gt,mt)=>{const yt=gt[0].dims.slice(),bt=gt[1].dims.slice(),vt=new Array(yt.length+bt.length-1);mt=ut.ShapeUtil.normalizeAxis(mt,yt.length);const wt=[];for(let Tt=0;Tt<vt.length;Tt++)Tt<mt?(vt[Tt]=yt[Tt],wt.push(`inputIdx[${Tt}] = outputIdx[${Tt}];`)):Tt<mt+bt.length?(vt[Tt]=bt[Tt-mt],wt.push(`indexDataIdx[${Tt-mt}] = outputIdx[${Tt}];`)):(vt[Tt]=yt[Tt-bt.length+1],wt.push(`inputIdx[${Tt-bt.length+1}] = outputIdx[${Tt}];`));const xt=`
      float process(int outputIdx[${vt.length||1}]) {
        int inputIdx[${yt.length}];
        int indexDataIdx[${bt.length||1}];
        indexDataIdx[0] = 0;
        ${wt.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${mt}] = idx < 0 ? idx + ${yt[mt]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},pt),{output:{dims:vt,type:gt[0].type,textureType:dt.TextureType.unpacked},shaderSource:xt})})(0,rt,ot,tt.axis)})},ct=(lt,ot)=>{if(!lt||lt.length!==2)throw new Error("Gather requires 2 inputs.");const tt=lt[0].dims.length;if(tt<1)throw new Error("Invalid input shape.");if(ot<-tt||ot>tt-1)throw new Error("Invalid axis.");if(at.NUMBER_TYPES.indexOf(lt[0].type)===-1)throw new Error("Invaid input type.");if(lt[1].type!=="int32"&&lt[1].type!=="int16")throw new Error("Invaid input type.")}},5378:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseGemmAttributesV11=_e.parseGemmAttributesV7=_e.gemm=void 0;const it=nt(4910),at=nt(7273),ut=nt(5639);_e.gemm=(lt,ot,tt)=>(ct(ot,tt),[lt.run(ft(ot,tt),ot)]);const dt=(lt,ot)=>{const tt=lt.attributes.getInt("transA",0)!==0,rt=lt.attributes.getInt("transB",0)!==0,st=lt.attributes.getFloat("alpha",1),pt=lt.attributes.getFloat("beta",1);return(0,it.createAttributeWithCacheKey)({transA:tt,transB:rt,alpha:st,beta:pt,isOptionalC:ot})};_e.parseGemmAttributesV7=lt=>dt(lt,!1),_e.parseGemmAttributesV11=lt=>dt(lt,!0);const ft=(lt,ot)=>{const tt={name:"Gemm",inputNames:lt.length===3?["A","B","C"]:["A","B"],inputTypes:lt.length===3?[ut.TextureType.unpacked,ut.TextureType.unpacked,ut.TextureType.unpacked]:[ut.TextureType.unpacked,ut.TextureType.unpacked],key:ot.cacheKey};return Object.assign(Object.assign({},tt),{get:()=>ht(tt,lt,ot)})},ht=(lt,ot,tt)=>{const rt=ot[0].dims.slice(),st=ot[1].dims.slice(),[pt,gt]=at.GemmUtil.getShapeOfGemmResult(rt,tt.transA,st,tt.transB,ot.length===3?ot[2].dims:void 0),mt=[pt,gt];if(!mt)throw new Error("Can't use gemm on the given tensors");let yt=rt[rt.length-1],bt="";tt.transA&&(yt=rt[0]),tt.transA&&tt.transB?bt="value += _A_T(a) * _B_T(b);":tt.transA&&!tt.transB?bt="value += _A_T(a) * _B(b);":!tt.transA&&tt.transB?bt="value += _A(a) * _B_T(b);":tt.transA||tt.transB||(bt="value += _A(a) * _B(b);");const vt=mt.length,wt=`
      float process(int indices[${vt}]) {
          int a[${vt}];
          int b[${vt}];
          ${ot.length===3?`int c[${ot[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${ot.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${yt}; ++k) {
              a[${vt-1}] = k;
              b[${vt-2}] = k;
              ${bt}
          }

          value = value * alpha;
          ${ot.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},lt),{output:{dims:mt,type:ot[0].type,textureType:ut.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:tt.alpha},{name:"beta",type:"float",data:tt.beta}],shaderSource:wt})},ct=(lt,ot)=>{if(!lt)throw new Error("Input is missing");if(ot.isOptionalC&&(lt.length<2||lt.length>3))throw new Error("Invaid input shape.");if(!ot.isOptionalC&&lt.length!==3)throw new Error("Gemm requires 3 inputs");if(lt.length===3&&lt[2].dims.length!==1&&lt[2].dims.length!==2)throw new Error("Invalid input shape of C");if(lt[0].type!=="float32"&&lt[0].type!=="float64"||lt[1].type!=="float32"&&lt[1].type!=="float64"||lt.length===3&&lt[2].type!=="float32"&&lt[2].type!=="float64")throw new Error("Invalid input type.");if(lt[0].type!==lt[1].type||lt.length===3&&lt[0].type!==lt[2].type)throw new Error("Input types are mismatched")}},5950:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createPackedIm2ColProgramInfoLoader=void 0;const it=nt(6757),at=nt(5639),ut=nt(5614);_e.createPackedIm2ColProgramInfoLoader=(dt,ft,ht,ct,lt)=>{const ot=(tt=lt.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[at.TextureType.packed],cacheHint:tt});var tt;return Object.assign(Object.assign({},ot),{get:()=>((rt,st,pt,gt,mt,yt)=>{const bt=pt.dims,vt=gt.dims,wt=mt.length,xt=[vt[1]*vt[2]*vt[3],mt[2]*mt[3]],Tt=vt[2]*vt[3],Ot=(0,ut.unpackFromChannel)(),$t=(0,it.getGlsl)(rt.session.backend.glContext.version);let It="";for(let Ft=0;Ft<=1;Ft++)for(let Pt=0;Pt<=1;Pt++)It+=`
            blockIndex = rc.x + ${Pt};
            pos = rc.y + ${Ft};

            if(blockIndex < ${xt[1]} && pos < ${xt[0]}) {
              offsetY = int(blockIndex / (${mt[wt-1]})) * ${yt.strides[0]} -
                ${yt.pads[0]};
              d0 = offsetY + ${yt.dilations[0]} * (imod(pos, ${Tt}) / ${vt[2]});

              if(d0 < ${bt[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${mt[wt-1]}) * ${yt.strides[1]} -
                  ${yt.pads[1]};
                d1 = offsetX + ${yt.dilations[1]} * imod(imod(pos, ${Tt}), ${vt[2]});

                if(d1 < ${bt[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${Tt}.);
                    innerDims = vec2(d0, d1);
                    result[${2*Ft+Pt}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const Rt=`
      ${Ot}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${It}
          ${$t.output} = result;
      }
            `;return Object.assign(Object.assign({},st),{output:{dims:xt,type:pt.type,textureType:at.TextureType.packed},shaderSource:Rt,hasMain:!0})})(dt,ot,ft,ht,ct,lt)})}},1625:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.calculateIm2ColDims=_e.createIm2ColProgramInfoLoader=void 0;const it=nt(5639);_e.createIm2ColProgramInfoLoader=(at,ut,dt,ft,ht)=>{const ct=(lt=ht.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[it.TextureType.unpacked],cacheHint:lt});var lt;return Object.assign(Object.assign({},ct),{get:()=>((ot,tt,rt,st,pt,gt)=>{const mt=rt.dims,yt=st.dims,bt=pt.length,vt=(0,_e.calculateIm2ColDims)(mt,yt,pt,4),wt=`
        const int XC = ${mt[1]};
        const int XH = ${mt[2]};
        const int XW = ${mt[3]};
        const int KH = ${gt.kernelShape[0]};
        const int KW = ${gt.kernelShape[1]};
        const int dilationH = ${gt.dilations[0]};
        const int dilationW = ${gt.dilations[1]};
        const int strideH = ${gt.strides[0]};
        const int strideW = ${gt.strides[1]};
        const int padH = ${gt.pads[0]};
        const int padW = ${gt.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${bt}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${mt.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},tt),{output:{dims:vt,type:rt.type,textureType:it.TextureType.packedLastDimension},shaderSource:wt})})(0,ct,ut,dt,ft,ht)})},_e.calculateIm2ColDims=(at,ut,dt,ft=4)=>[dt[0],dt[2],dt[3],Math.ceil(at[1]*ut[2]*ut[3]/ft)]},6981:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseImageScalerAttributes=_e.imageScaler=void 0;const it=nt(4910),at=nt(5639);_e.imageScaler=(ct,lt,ot)=>(ht(lt),[ct.run(dt(ct,lt,ot),lt)]),_e.parseImageScalerAttributes=ct=>{const lt=ct.attributes.getFloat("scale"),ot=ct.attributes.getFloats("bias");return(0,it.createAttributeWithCacheKey)({scale:lt,bias:ot})};const ut={name:"ImageScaler",inputNames:["X"],inputTypes:[at.TextureType.unpacked]},dt=(ct,lt,ot)=>{const tt=Object.assign(Object.assign({},ut),{cacheHint:ot.cacheKey});return Object.assign(Object.assign({},tt),{get:()=>((rt,st,pt,gt)=>{const mt=pt[0].dims.slice(),yt=mt.length,bt=`
      ${ft(gt.bias.length)}
      float process(int indices[${yt}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},st),{output:{dims:mt,type:pt[0].type,textureType:at.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:gt.bias.length,data:gt.bias},{name:"scale",type:"float",data:gt.scale}],shaderSource:bt})})(0,tt,lt,ot)})},ft=ct=>{const lt=[`float getBias(float bias[${ct}], int channel) {`];for(let ot=0;ot<ct;++ot)ot===0?lt.push(`	if (channel == ${ot}) { return bias[${ot}]; }`):ot===ct-1?lt.push(`	else { return bias[${ot}]; }`):lt.push(`	else if (channel == ${ot}) { return bias[${ot}]; }`);return lt.push("	}"),lt.join(`
`)},ht=ct=>{if(!ct||ct.length!==1)throw new Error("ImageScaler requires 1 input.");if(ct[0].dims.length!==4)throw new Error("Invalid input shape.");if(ct[0].type!=="float32"&&ct[0].type!=="float64")throw new Error("Invalid input type.")}},7413:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseInstanceNormalizationAttributes=_e.instanceNormalization=void 0;const it=nt(6757),at=nt(5639);_e.instanceNormalization=(lt,ot,tt)=>{ct(ot);const rt=lt.run(dt(ot[0]),ot);return[lt.run(ht(lt,ot[0],tt,rt.dims),[ot[0],rt,ot[1],ot[2]])]},_e.parseInstanceNormalizationAttributes=lt=>lt.attributes.getFloat("epsilon",1e-5);const ut={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[at.TextureType.unpacked]},dt=lt=>Object.assign(Object.assign({},ut),{get:()=>((ot,tt)=>{const rt=tt.dims.slice(),st=rt[1],pt=rt[2]*rt[3],gt=[rt[0],st],mt=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${rt[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${rt[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${pt});
        temp = 0.0;
        for(int a2=0; a2<${rt[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${rt[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${pt});

        return v;
      }`;return Object.assign(Object.assign({},ot),{output:{dims:gt,type:tt.type,textureType:at.TextureType.packedLastDimension},shaderSource:mt})})(ut,lt)}),ft={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[at.TextureType.unpacked,at.TextureType.packedLastDimension,at.TextureType.unpacked,at.TextureType.unpacked]},ht=(lt,ot,tt,rt)=>{const st=Object.assign(Object.assign({},ft),{cacheHint:`${tt}`});return Object.assign(Object.assign({},st),{get:()=>((pt,gt,mt,yt,bt)=>{const vt=(0,it.getGlsl)(pt.session.backend.glContext.version),[wt,xt]=pt.calculateTextureWidthAndHeight(bt,at.TextureType.packedLastDimension),[Tt,Ot]=[wt/4,xt],$t=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${Tt}, ${Ot});
        return ${vt.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},gt),{output:{dims:mt.dims,type:mt.type,textureType:at.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:yt}],shaderSource:$t})})(lt,st,ot,tt,rt)})},ct=lt=>{if(!lt||lt.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const ot=lt[0],tt=lt[1],rt=lt[2];if(ot.dims.length<3||tt.dims.length!==1||rt.dims.length!==1)throw new Error("Invalid input shape.");if(tt.dims[0]!==ot.dims[1]||rt.dims[0]!==ot.dims[1])throw new Error("Input shapes are mismatched.");if(ot.type!=="float32"&&ot.type!=="float64"||tt.type!=="float32"&&tt.type!=="float64"||rt.type!=="float32"&&rt.type!=="float64")throw new Error("Invalid input type.");if(lt[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},7006:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createLrnProgramInfoLoader=_e.parseLrnAttributes=_e.lrn=void 0;const it=nt(4910),at=nt(5639);_e.lrn=(ht,ct,lt)=>(ft(ct),[ht.run(dt(ct,lt),ct)]),_e.parseLrnAttributes=ht=>{const ct=ht.attributes.getFloat("alpha",1e-4),lt=ht.attributes.getFloat("beta",.75),ot=ht.attributes.getFloat("bias",1),tt=ht.attributes.getInt("size");return(0,it.createAttributeWithCacheKey)({alpha:ct,beta:lt,bias:ot,size:tt})};const ut={name:"LRN",inputNames:["X"],inputTypes:[at.TextureType.unpacked]};function dt(ht,ct){return Object.assign(Object.assign({},ut),{cacheHint:ct.cacheKey,get:()=>function(lt,ot){const tt=lt[0].dims[1],rt=lt[0].dims.length,st=-Math.floor((ot.size-1)/2),pt=Math.ceil((ot.size-1)/2),gt=`float(${ot.alpha}) / float(${ot.size})`,mt=`
    float process(int indices[${rt}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${st}; i <= ${pt}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${tt}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(float(${ot.bias}) + ${gt} * square_sum, float(${ot.beta}));
    }`;return Object.assign(Object.assign({},ut),{cacheHint:ot.cacheKey,output:{dims:lt[0].dims,type:lt[0].type,textureType:at.TextureType.unpacked},shaderSource:mt})}(ht,ct)})}_e.createLrnProgramInfoLoader=dt;const ft=ht=>{if(!ht||ht.length!==1)throw new Error("LRN requires 1 input.");if(ht[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(ht[0].type!=="float32")throw new Error("input should be float type")}},5632:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createPackedMatmulProgramInfoLoader=void 0;const it=nt(7273),at=nt(6757),ut=nt(5639),dt=nt(432),ft=nt(2150),ht=nt(8276);_e.createPackedMatmulProgramInfoLoader=(ct,lt,ot)=>{const tt=(rt=lt.length>2,st=ot.activationCacheKey,{name:"MatMul (packed)",inputNames:rt?["A","B","Bias"]:["A","B"],inputTypes:rt?[ut.TextureType.packed,ut.TextureType.packed,ut.TextureType.packed]:[ut.TextureType.packed,ut.TextureType.packed],cacheHint:st});var rt,st;return Object.assign(Object.assign({},tt),{get:()=>((pt,gt,mt,yt)=>{const bt=mt.length>2,vt=bt?"value += getBiasForMatmul();":"",wt=mt[0].dims,xt=mt[1].dims,Tt=it.BroadcastUtil.calcShape(wt,xt,!0),Ot=!it.ShapeUtil.areEqual(mt[0].dims,mt[1].dims);if(!Tt)throw new Error("Can't use matmul on the given tensors");const $t=wt[wt.length-1],It=Math.ceil($t/2),Rt=wt.length,Ft=xt.length,Pt=(0,at.getGlsl)(pt.session.backend.glContext.version),Bt=(0,dt.getCoordsDataType)(Tt.length),Et=Tt.length,At=(0,dt.getGlChannels)(),{activationFunction:jt,applyActivation:Mt}=(0,ft.getActivationSnippet)(yt),Lt=bt?`${(0,ht.getBiasForMatmul)(Bt,At,mt[2].dims,Tt,!0)}`:"",Kt=Ot?`${function(tn,nn,sn,an){let mn=[],Tn=[];const Cn=sn[0].dims,yn=sn[1].dims,$n=Cn.length,cn=yn.length,bn=an.length,On=bn-$n,Sn=bn-cn;mn=Cn.map((En,jn)=>`coords.${nn[jn+On]}`),mn[$n-1]="i*2",mn.join(", "),Tn=yn.map((En,jn)=>`coords.${nn[jn+Sn]}`),Tn[cn-2]="i*2",Tn.join(", ");const Pn=it.BroadcastUtil.getBroadcastDims(Cn,an),kn=it.BroadcastUtil.getBroadcastDims(yn,an),An=Pn.map(En=>`coords.${nn[En+On]} = 0;`).join(`
`),Ln=kn.map(En=>`coords.${nn[En+Sn]} = 0;`).join(`
`),Nn=`int lastDim = coords.${nn[bn-1]};
  coords.${nn[bn-1]} = coords.${nn[bn-2]};
  coords.${nn[bn-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${tn} coords = getOutputCoords();
  ${Nn}
  ${An}
  vec4 outputValue = getA(${mn});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${tn} coords = getOutputCoords();
  ${Nn}
  ${Ln}
  vec4 outputValue = getB(${Tn});
  return outputValue;
}`}(Bt,At,mt,Tt)}`:"",qt=Ot?"getAAtOutCoordsMatmul(i)":`getA(${function(tn,nn){let sn="";for(let an=0;an<nn-2;an++)sn+=`rc.${tn[an]}, `;return sn+=`rc.${tn[nn-2]}, i*2`,sn}(At,Rt)})`,Qt=Ot?"getBAtOutCoordsMatmul(i)":`getB(${function(tn,nn){let sn="";for(let an=0;an<nn-2;an++)sn+=`rc.${tn[an]}, `;return sn+=`i*2, rc.${tn[nn-1]}`,sn}(At,Ft)})`,Zt=`
            ${Kt}
            ${Lt}
            ${jt}
            void main() {
              ${Ot?"":`${Bt} rc =
          getOutputCoords(); int lastDim = rc.${At[Et-1]}; rc.${At[Et-1]} =
          rc.${At[Et-2]}; rc.${At[Et-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${It}; i++) {
                vec4 a = ${qt};
                vec4 b = ${Qt};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${vt}
              ${Mt}
              ${Pt.output} = value;
            }`;return Object.assign(Object.assign({},gt),{output:{dims:Tt,type:mt[0].type,textureType:ut.TextureType.packed},shaderSource:Zt,hasMain:!0})})(ct,tt,lt,ot)})}},8276:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getBiasForMatmul=_e.createMatmulProgramInfoLoader=_e.parseMatMulAttributes=_e.matMul=void 0;const it=nt(7273),at=nt(5639),ut=nt(432),dt=nt(2150),ft=nt(5632);_e.matMul=(tt,rt,st)=>(lt(rt),tt.session.pack?[tt.run((0,ft.createPackedMatmulProgramInfoLoader)(tt,rt,st),rt)]:[tt.run(ct(rt,st),rt)]),_e.parseMatMulAttributes=tt=>(0,dt.parseInternalActivationAttributes)(tt.attributes);const ht=(tt,rt)=>({name:"MatMul",inputNames:tt?["A","B","Bias"]:["A","B"],inputTypes:tt?[at.TextureType.unpacked,at.TextureType.unpacked,at.TextureType.unpacked]:[at.TextureType.unpacked,at.TextureType.unpacked],cacheHint:rt});function ct(tt,rt){const st=ht(tt.length>2,rt.activationCacheKey);return Object.assign(Object.assign({},st),{get:()=>function(pt,gt,mt){const yt=gt[0].dims,bt=gt[1].dims,vt=it.BroadcastUtil.calcShape(yt,bt,!0);if(!vt)throw new Error("Can't use matmul on the given tensors");const wt=(0,ut.getCoordsDataType)(vt.length),xt=(0,ut.getGlChannels)(),{activationFunction:Tt,applyActivation:Ot}=(0,dt.getActivationSnippet)(mt),$t=gt.length>2,It=$t?"value += getBiasForMatmul();":"",Rt=$t?`${ot(wt,xt,gt[2].dims,vt,!1)}`:"",Ft=vt.length,Pt=yt.length,Bt=bt.length,Et=`
    ${Tt}
    ${Rt}
    float process(int indices[${Ft}]) {
        int a[${Pt}];
        int b[${Bt}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${yt[yt.length-1]}; ++k) {
            a[${Pt-1}] = k;
            b[${Bt-2}] = k;
            value += _A(a) * _B(b);
        }
        ${It}
        ${Ot}
        return value;
    }`;return Object.assign(Object.assign({},pt),{output:{dims:vt,type:gt[0].type,textureType:at.TextureType.unpacked},shaderSource:Et})}(st,tt,rt)})}_e.createMatmulProgramInfoLoader=ct;const lt=tt=>{if(!tt||tt.length!==2)throw new Error("MatMul requires 2 inputs.");if(tt[0].dims[tt[0].dims.length-1]!==tt[1].dims[tt[1].dims.length-2])throw new Error("shared dimension does not match.");if(tt[0].type!=="float32"&&tt[0].type!=="float64"||tt[1].type!=="float32"&&tt[1].type!=="float64")throw new Error("inputs should be float type");if(tt[0].type!==tt[1].type)throw new Error("inputs types should match")};function ot(tt,rt,st,pt,gt){let mt="";const yt=st.length,bt=pt.length,vt=bt-yt;mt=bt<2&&yt>0?"coords":st.map((Tt,Ot)=>`coords.${rt[Ot+vt]}`).join(", ");const wt=it.BroadcastUtil.getBroadcastDims(st,pt).map(Tt=>`coords.${rt[Tt+vt]} = 0;`).join(`
`);let xt="vec4(outputValue.xx, outputValue.yy)";return it.ShapeUtil.size(st)===1&&(xt="vec4(outputValue.x)"),gt?`
vec4 getBiasForMatmul() {
  ${tt} coords = getOutputCoords();
  ${wt}
  vec4 outputValue = getBias(${mt});
  return ${xt};
}`:`
float getBiasForMatmul() {
  ${tt} coords = getOutputCoords();
  ${wt}
  return getBias(coords.x);
}`}_e.getBiasForMatmul=ot},9:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createPackProgramInfoLoader=void 0;const it=nt(6757),at=nt(5639),ut=nt(432),dt=nt(5614),ft={name:"pack",inputNames:["A"],inputTypes:[at.TextureType.unpackedReversed]};_e.createPackProgramInfoLoader=(ht,ct)=>Object.assign(Object.assign({},ft),{get:()=>((lt,ot)=>{const tt=(0,it.getGlsl)(lt.session.backend.glContext.version),rt=ot.dims,st=rt.length,pt=ot.dims.length,gt=(0,ut.getCoordsDataType)(pt),mt=(0,dt.getChannels)("rc",pt),yt=(bt=pt,vt=mt,wt=rt[rt.length-2],xt=rt[rt.length-1],bt===0||bt===1?"":`
    int r = ${vt[bt-2]};
    int c = ${vt[bt-1]};
    int rp1 = ${vt[bt-2]} + 1;
    int cp1 = ${vt[bt-1]} + 1;
    bool rEdge = rp1 >= ${xt};
    bool cEdge = cp1 >= ${wt};
    `);var bt,vt,wt,xt;let Tt;Tt=st===0?[1,1]:st===1?[rt[0],1]:[rt[pt-1],rt[pt-2]];const Ot=function(Rt,Ft,Pt){if(Rt===0)return"false";if(Rt===1)return`rc > ${Ft[0]}`;let Bt="";for(let Et=Rt-2;Et<Rt;Et++)Bt+=`${Pt[Et]} >= ${Ft[Et-Rt+2]}`,Et<Rt-1&&(Bt+="||");return Bt}(pt,Tt,mt),$t=function(Rt,Ft){const Pt=Rt.length;if(Pt===0)return"getA(), 0, 0, 0";if(Pt===1)return`getA(rc),
            rc + 1 >= ${Rt[0]} ? 0. : getA(rc + 1),
            0, 0`;let Bt="";if(Pt>2)for(let Et=0;Et<Pt-2;++Et)Bt+=`${Ft[Et]},`;return`getA(${Bt}r, c),
          rEdge ? 0. : getA(${Bt}rp1, c),
          cEdge ? 0. : getA(${Bt}r, cp1),
          rEdge || cEdge ? 0. : getA(${Bt}rp1, cp1)`}(rt,mt),It=`
        void main() {
          ${gt} rc = getOutputCoords();

          if(${Ot}) {
            ${tt.output} = vec4(0);
          } else {
            ${yt}

            ${tt.output} = vec4(${$t});
          }
        }
      `;return Object.assign(Object.assign({},ft),{hasMain:!0,output:{dims:ot.dims,type:ot.type,textureType:at.TextureType.packed},shaderSource:It})})(ht,ct)})},5614:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.unpackFromChannel=_e.getChannels=_e.getVecChannels=void 0;const it=nt(432);function at(ut,dt){return(0,it.getGlChannels)(dt).map(ft=>`${ut}.${ft}`)}_e.getVecChannels=at,_e.getChannels=function(ut,dt){return dt===1?[ut]:at(ut,dt)},_e.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},5565:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parsePadAttributesV11=_e.padV11=_e.parsePadAttributesV2=_e.padV2=void 0;const it=nt(4910),at=nt(7273),ut=nt(6757),dt=nt(5639),ft={name:"Pad",inputNames:["A"],inputTypes:[dt.TextureType.unpacked]};_e.padV2=(gt,mt,yt)=>(lt(mt),[gt.run(Object.assign(Object.assign({},ft),{cacheHint:yt.cacheKey,get:()=>ct(gt,mt[0],yt)}),mt)]),_e.parsePadAttributesV2=gt=>{const mt=gt.attributes.getString("mode","constant"),yt=gt.attributes.getFloat("value",0),bt=gt.attributes.getInts("pads");return(0,it.createAttributeWithCacheKey)({mode:mt,value:yt,pads:bt})},_e.padV11=(gt,mt,yt)=>{ot(mt);const bt=ht(gt,mt,yt);return(0,_e.padV2)(gt,[mt[0]],bt)},_e.parsePadAttributesV11=gt=>gt.attributes.getString("mode","constant");const ht=(gt,mt,yt)=>{if(!gt.session.isInitializer(mt[1].dataId)||mt.length>=3&&!gt.session.isInitializer(mt[2].dataId))throw new Error("dynamic pad attributes are not allowed");const bt=Array.from(mt[1].integerData),vt=mt.length>=3?mt[2].floatData[0]:0;return(0,it.createAttributeWithCacheKey)({mode:yt,pads:bt,value:vt})},ct=(gt,mt,yt)=>{const bt=at.ShapeUtil.padShape(mt.dims.slice(),yt.pads),vt=bt.length,wt=`
      ${tt(gt,mt,yt)}
      float process(int[${vt}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[dt.TextureType.unpacked],output:{dims:bt,type:mt.type,textureType:dt.TextureType.unpacked},shaderSource:wt}},lt=gt=>{if(!gt||gt.length!==1)throw new Error("Pad requires 1 input");if(gt[0].type!=="float32"&&gt[0].type!=="float64")throw new Error("Invalid input type.")},ot=gt=>{if(!gt||gt.length!==2&&gt.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(gt[1].type!=="int32")throw new Error("Invalid input type.");if(gt.length>=3&&gt[2].type==="string")throw new Error("Invalid input type.")},tt=(gt,mt,yt)=>{const bt=(0,ut.getGlsl)(gt.session.backend.glContext.version),[vt,wt]=gt.calculateTextureWidthAndHeight(mt.dims,dt.TextureType.unpacked),xt=at.ShapeUtil.computeStrides(mt.dims);switch(yt.mode){case"constant":return rt(bt,mt.dims,xt,vt,wt,yt.pads,yt.value);case"reflect":return st(bt,mt.dims,xt,vt,wt,yt.pads);case"edge":return pt(bt,mt.dims,xt,vt,wt,yt.pads);default:throw new Error("Invalid mode")}},rt=(gt,mt,yt,bt,vt,wt,xt)=>{const Tt=mt.length;let Ot="";for(let $t=Tt-1;$t>=0;--$t)Ot+=`
        k = m[${$t}] - ${wt[$t]};
        if (k < 0)  return constant;
        if (k >= ${mt[$t]}) return constant;
        offset += k * ${yt[$t]};
        `;return`
      float padA(int m[${Tt}]) {
        const float constant = float(${xt});
        int offset = 0;
        int k = 0;
        ${Ot}
        vec2 coords = offsetToCoords(offset, ${bt}, ${vt});
        float value = getColorAsFloat(${gt.texture2D}(A, coords));
        return value;
      }
      `},st=(gt,mt,yt,bt,vt,wt)=>{const xt=mt.length;let Tt="";for(let Ot=xt-1;Ot>=0;--Ot)Tt+=`
        k = m[${Ot}] - ${wt[Ot]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(mt[Ot]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${mt[Ot]}) { k = _2n_1 - k; }
        }
        offset += k * ${yt[Ot]};
        `;return`
      float padA(int m[${xt}]) {
        int offset = 0;
        int k = 0;
        ${Tt}
        vec2 coords = offsetToCoords(offset, ${bt}, ${vt});
        float value = getColorAsFloat(${gt.texture2D}(A, coords));
        return value;
      }
      `},pt=(gt,mt,yt,bt,vt,wt)=>{const xt=mt.length;let Tt="";for(let Ot=xt-1;Ot>=0;--Ot)Tt+=`
        k = m[${Ot}] - ${wt[Ot]};
        if (k < 0)  k = 0;
        if (k >= ${mt[Ot]}) k = ${mt[Ot]-1};
        offset += k * ${yt[Ot]};
      `;return`
      float padA(int m[${xt}]) {
        int offset = 0;
        int k = 0;
        ${Tt}
        vec2 coords = offsetToCoords(offset, ${bt}, ${vt});
        float value = getColorAsFloat(${gt.texture2D}(A, coords));
        return value;
      }
      `}},2834:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.globalMaxPool=_e.parseMaxPoolAttributes=_e.maxPool=_e.parseGlobalAveragePoolAttributes=_e.globalAveragePool=_e.parseAveragePoolAttributes=_e.averagePool=void 0;const it=nt(4910),at=nt(7273),ut=nt(5639);_e.averagePool=(pt,gt,mt)=>{ot(gt);const yt={name:"AveragePool",inputNames:["X"],inputTypes:[ut.TextureType.unpacked],cacheHint:mt.cacheKey};return[pt.run(Object.assign(Object.assign({},yt),{get:()=>dt(gt,yt,!1,mt)}),gt)]},_e.parseAveragePoolAttributes=pt=>{const gt=pt.attributes.getString("auto_pad","NOTSET"),mt=pt.attributes.getInt("ceil_mode",0),yt=pt.attributes.getInt("count_include_pad",0)!==0,bt=pt.attributes.getInts("kernel_shape"),vt=pt.attributes.getInts("strides",[]),wt=pt.attributes.getInts("pads",[]);if(mt!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,it.createAttributeWithCacheKey)({autoPad:gt,ceilMode:mt,countIncludePad:yt,kernelShape:bt,strides:vt,pads:wt})};const dt=(pt,gt,mt,yt)=>{const[bt,vt]=ht(pt,yt,mt),wt=at.ShapeUtil.size(bt.kernelShape);let xt="";bt.countIncludePad?xt+=`value /= float(${wt});`:xt+=`value /= float(${wt} - pad);`;const Tt=`
        ${tt(pt[0].dims,bt,"value += _X(x);",xt,"0.0")}
      `;return Object.assign(Object.assign({},gt),{output:{dims:vt,type:pt[0].type,textureType:ut.TextureType.unpacked},shaderSource:Tt})};_e.globalAveragePool=(pt,gt,mt)=>{ot(gt);const yt={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[ut.TextureType.unpacked],cacheHint:`${mt.countIncludePad}`};return[pt.run(Object.assign(Object.assign({},yt),{get:()=>dt(gt,yt,!0,mt)}),gt)]},_e.parseGlobalAveragePoolAttributes=pt=>{const gt=pt.attributes.getInt("count_include_pad",0)!==0;return(0,it.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:gt,kernelShape:[],strides:[],pads:[]})},_e.maxPool=(pt,gt,mt)=>{ot(gt);const yt={name:"MaxPool",inputNames:["X"],inputTypes:[ut.TextureType.unpacked],cacheHint:mt.cacheKey};return[pt.run(Object.assign(Object.assign({},yt),{get:()=>ft(gt,yt,!1,mt)}),gt)]},_e.parseMaxPoolAttributes=pt=>{const gt=pt.attributes.getString("auto_pad","NOTSET"),mt=pt.attributes.getInt("ceil_mode",0),yt=pt.attributes.getInts("kernel_shape"),bt=pt.attributes.getInts("strides",[]),vt=pt.attributes.getInts("pads",[]),wt=pt.attributes.getInt("storage_order",0),xt=pt.attributes.getInts("dilations",[]);if(wt!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(mt!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,it.createAttributeWithCacheKey)({autoPad:gt,ceilMode:mt,countIncludePad:!1,kernelShape:yt,strides:bt,pads:vt,storageOrder:wt,dilations:xt})};const ft=(pt,gt,mt,yt)=>{const[bt,vt]=ht(pt,yt,mt),wt=`
      ${tt(pt[0].dims,bt,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},gt),{output:{dims:vt,type:pt[0].type,textureType:ut.TextureType.unpacked},shaderSource:wt})},ht=(pt,gt,mt)=>{const yt=pt[0].dims.slice(),bt=Object.hasOwnProperty.call(gt,"dilations"),vt=gt.kernelShape.slice(),wt=gt.strides.slice(),xt=bt?gt.dilations.slice():[],Tt=gt.pads.slice();at.PoolConvUtil.adjustPoolAttributes(mt,yt,vt,wt,xt,Tt);const Ot=at.PoolConvUtil.computePoolOutputShape(mt,yt,wt,xt,vt,Tt,gt.autoPad),$t=Object.assign({},gt);return bt?Object.assign($t,{kernelShape:vt,strides:wt,pads:Tt,dilations:xt,cacheKey:gt.cacheKey}):Object.assign($t,{kernelShape:vt,strides:wt,pads:Tt,cacheKey:gt.cacheKey}),[$t,Ot]},ct={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},lt={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[ut.TextureType.unpacked]};_e.globalMaxPool=(pt,gt)=>(ot(gt),[pt.run(Object.assign(Object.assign({},lt),{get:()=>ft(gt,lt,!0,ct)}),gt)]);const ot=pt=>{if(!pt||pt.length!==1)throw new Error("Pool ops requires 1 input.");if(pt[0].type!=="float32"&&pt[0].type!=="float64")throw new Error("Invalid input type.")},tt=(pt,gt,mt,yt,bt)=>{const vt=pt.length;if(gt.kernelShape.length<=2){const wt=gt.kernelShape[gt.kernelShape.length-1],xt=gt.strides[gt.strides.length-1],Tt=gt.pads[gt.pads.length/2-1],Ot=gt.pads[gt.pads.length-1],$t=pt[vt-1];let It="",Rt="",Ft="";if(It=Tt+Ot!==0?`
          for (int i = 0; i < ${wt}; i++) {
            x[${vt} - 1] = indices[${vt} - 1] * ${xt} - ${Tt} + i;
            if (x[${vt} - 1] < 0 || x[${vt} - 1] >= ${$t}) {
              pad++;
              continue;
            }
            ${mt}
          }`:`
          for (int i = 0; i < ${wt}; i++) {
            x[${vt} - 1] = indices[${vt} - 1] * ${xt} - ${Tt} + i;
            ${mt}
          }`,gt.kernelShape.length===2){const Pt=gt.kernelShape[gt.kernelShape.length-2],Bt=gt.strides[gt.strides.length-2],Et=gt.pads[gt.pads.length/2-2],At=gt.pads[gt.pads.length-2],jt=pt[vt-2];Rt=Et+At!==0?`
            for (int j = 0; j < ${Pt}; j++) {
              x[${vt} - 2] = indices[${vt} - 2] * ${Bt} - ${Et} + j;
              if (x[${vt} - 2] < 0 || x[${vt} - 2] >= ${jt}) {
                pad+= ${wt};
                continue;
              }
          `:`
            for (int j = 0; j < ${Pt}; j++) {
              x[${vt} - 2] = indices[${vt} - 2] * ${Bt} - ${Et} + j;
            `,Ft=`
          }
        `}return`
        float process(int indices[${vt}]) {
          int x[${vt}];
          copyVec(indices, x);

          float value = ${bt};
          int pad = 0;
          ${Rt}
          ${It}
          ${Ft}
          ${yt}
          return value;
        }
      `}{const wt=at.ShapeUtil.size(gt.kernelShape),xt=at.ShapeUtil.computeStrides(gt.kernelShape),Tt=xt.length,Ot=gt.pads.length,$t=st(Tt),It=rt(pt,"inputDims"),Rt=rt(gt.pads,"pads"),Ft=rt(xt,"kernelStrides"),Pt=rt(gt.strides,"strides");let Bt="";return Bt=gt.pads.reduce((Et,At)=>Et+At)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${mt}
          }`:`
          }
          ${mt}
        `,`
        ${$t}
        float process(int indices[${vt}]) {
          int x[${vt}];
          copyVec(indices, x);
          int offset[${Tt}];
          int pads[${Ot}];
          int inputDims[${vt}];
          int kernelStrides[${Tt}];
          int strides[${Tt}];
          ${Rt}
          ${It}
          ${Pt}
          ${Ft}

          float value = ${bt};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${wt}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${vt} - ${Tt}; j < ${vt}; j++) {
              x[j] = indices[j] * strides[j - ${vt} + ${Tt}]
                + offset[j - ${vt} + ${Tt}] - pads[j - 2];
              ${Bt}
          }
          ${yt}

          return value;
        }
      `}},rt=(pt,gt)=>{let mt="";for(let yt=0;yt<pt.length;yt++)mt+=`
      ${gt}[${yt}] = ${pt[yt]};
    `;return mt},st=pt=>`
  void offsetToIndices(int offset, int[${pt}] strides, out int[${pt}] indices) {
    if (${pt} == 0) {
      return;
    }
    for (int i = 0; i < ${pt} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${pt} - 1] = offset;
  }`},1010:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.reduceLogSumSquare=_e.reduceLogSum=_e.reduceProd=_e.reduceMin=_e.reduceMax=_e.reduceMean=_e.reduceSum=_e.parseReduceAttributes=void 0;const it=nt(4910),at=nt(6145),ut=nt(7273),dt=nt(5639),ft=(lt,ot,tt,rt,st)=>{ct(ot);const pt={name:rt,inputNames:["A"],inputTypes:[dt.TextureType.unpacked]};return[lt.run(Object.assign(Object.assign({},pt),{cacheHint:tt.cacheKey,get:()=>ht(lt,ot,tt,rt,st,pt)}),ot)]};_e.parseReduceAttributes=lt=>{const ot=lt.attributes.getInts("axes",[]),tt=lt.attributes.getInt("keepdims",1)===1;return(0,it.createAttributeWithCacheKey)({axes:ot,keepDims:tt})};const ht=(lt,ot,tt,rt,st,pt)=>{const gt=[],mt=ot[0].dims.length||1,yt=[],bt=ut.ShapeUtil.normalizeAxes(tt.axes,ot[0].dims.length),vt=st(ot,bt);let wt=vt[1];for(let Tt=0;Tt<ot[0].dims.length;Tt++)bt.indexOf(Tt)>=0||bt.length===0?(tt.keepDims&&gt.push(1),wt=`
          for(int j${Tt} = 0; j${Tt} < ${ot[0].dims[Tt]}; j${Tt}++) {
            inputIdx[${Tt}] = j${Tt};
            ${wt}
          }`):(yt.push(`inputIdx[${Tt}] = outputIdx[${gt.length}];`),gt.push(ot[0].dims[Tt]));const xt=`
      float process(int outputIdx[${gt.length||1}]) {
        float value;                 // final result
        int inputIdx[${mt}];      // addressing input data
        ${yt.join(`
`)}
        ${vt[0]}       // init ops for reduce max/min
        ${wt}
        ${vt[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},pt),{output:{dims:gt,type:ot[0].type,textureType:dt.TextureType.unpacked},shaderSource:xt})},ct=lt=>{if(!lt||lt.length!==1)throw new Error("Reduce op requires 1 input.");if(at.NUMBER_TYPES.indexOf(lt[0].type)===-1)throw new Error("Invalid input type.")};_e.reduceSum=(lt,ot,tt)=>ft(lt,ot,tt,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),_e.reduceMean=(lt,ot,tt)=>ft(lt,ot,tt,"ReduceMean",(rt,st)=>{let pt=1;for(let gt=0;gt<rt[0].dims.length;gt++)(st.indexOf(gt)>=0||st.length===0)&&(pt*=rt[0].dims[gt]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${pt}.;`]}),_e.reduceMax=(lt,ot,tt)=>ft(lt,ot,tt,"ReduceMax",(rt,st)=>{const pt=[];for(let gt=0;gt<rt[0].dims.length;gt++)(st.indexOf(gt)>=0||st.length===0)&&pt.push(`inputIdx[${gt}] = 0;`);return[`${pt.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),_e.reduceMin=(lt,ot,tt)=>ft(lt,ot,tt,"ReduceMin",(rt,st)=>{const pt=[];for(let gt=0;gt<rt[0].dims.length;gt++)(st.indexOf(gt)>=0||st.length===0)&&pt.push(`inputIdx[${gt}] = 0;`);return[`${pt.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),_e.reduceProd=(lt,ot,tt)=>ft(lt,ot,tt,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),_e.reduceLogSum=(lt,ot,tt)=>ft(lt,ot,tt,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),_e.reduceLogSumSquare=(lt,ot,tt)=>ft(lt,ot,tt,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7379:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.isReshapeCheap=_e.processDims3D=_e.createPackedReshape3DProgramInfoLoader=void 0;const it=nt(7273),at=nt(6757),ut=nt(5639),dt=nt(5614);_e.createPackedReshape3DProgramInfoLoader=(ft,ht,ct)=>{const lt=(ot=>({name:"Reshape (packed)",inputTypes:[ut.TextureType.packed],inputNames:["A"],cacheHint:`${ot}`}))(ct);return Object.assign(Object.assign({},lt),{get:()=>((ot,tt,rt,st)=>{const pt=tt.dims,gt=st;let mt="";for(let vt=0;vt<4;vt++){let wt="";switch(vt){case 0:wt="outputCoords = rc;";break;case 1:wt="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:wt="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:wt="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}mt+=`
        ${wt}
        ${vt>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${vt}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${vt>0?"}":""}
      `}const yt=(0,at.getGlsl)(ot.session.backend.glContext.version),bt=`
      ${function(vt){const wt=it.ShapeUtil.computeStrides(vt),xt=["b","r","c"],Tt="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${wt.map((Ot,$t)=>`int ${xt[$t]} = ${Tt} / ${Ot}; ${$t===wt.length-1?`int ${xt[$t+1]} = ${Tt} - ${xt[$t]} * ${Ot}`:`index -= ${xt[$t]} * ${Ot}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(pt)}
      ${function(vt){const wt=it.ShapeUtil.computeStrides(vt);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${wt[0]} + coords.z * ${wt[1]} + coords.y;
  }
`}(gt)}
      ${(0,dt.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${gt[2]};
        int cols = ${gt[1]};

        ${mt}
        ${yt.output} = result;
      }
    `;return Object.assign(Object.assign({},rt),{output:{dims:gt,type:tt.type,textureType:ut.TextureType.packed},shaderSource:bt,hasMain:!0})})(ft,ht,lt,ct)})},_e.processDims3D=function(ft){if(ft.length===0)return[1,1,1];let ht=1;for(let ct=0;ct<ft.length-2;++ct)ht*=ft[ct];return[ht,ft.length>1?ft[ft.length-2]:1,ft[ft.length-1]]},_e.isReshapeCheap=function(ft,ht){let ct=!1;return ct=ft.length===0||ht.length===0||(ft.length<2||ht.length<2?ft[ft.length-1]===ht[ht.length-1]:ft[ft.length-1]===ht[ht.length-1]&&ft[ft.length-2]===ht[ht.length-2]),ct}},8126:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.reshape=void 0;const it=nt(7273);_e.reshape=(at,ut)=>{const dt=it.ShapeUtil.calculateReshapedDims(ut[0].dims,ut[1].integerData);return at.session.pack?[at.reshapePacked(ut[0],dt)]:[at.reshapeUnpacked(ut[0],dt)]}},2801:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseResizeAttributesV11=_e.parseResizeAttributesV10=_e.resize=void 0;const it=nt(6757),at=nt(5639),ut=nt(432),dt=nt(5614),ft=nt(3980),ht={name:"Resize",inputNames:["A"],inputTypes:[at.TextureType.packed]};_e.resize=(rt,st,pt)=>((0,ft.validateInputs)(st,pt),[rt.run(Object.assign(Object.assign({},ht),{cacheHint:pt.cacheKey,get:()=>ct(rt,st,pt)}),st)]),_e.parseResizeAttributesV10=rt=>(0,ft.parseUpsampleAttributes)(rt,10),_e.parseResizeAttributesV11=rt=>(0,ft.parseUpsampleAttributes)(rt,11);const ct=(rt,st,pt)=>{const gt=(0,it.getGlsl)(rt.session.backend.glContext.version),[mt,yt]=lt(st,pt);if(mt.every(Bt=>Bt===1)&&pt.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},ht),{output:{dims:yt,type:st[0].type,textureType:at.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${gt.texture2D}(X, TexCoords);
                    ${gt.output} = v;
                }`});const bt=yt.length;if(bt<2)throw new Error(`output dimension should be at least 2, but got ${bt}`);const vt=yt[bt-2],wt=yt[bt-1],xt=st[0].dims;if(bt!==xt.length)throw new Error(`output dimension should match input ${xt.length}, but got ${bt}`);const Tt=xt[bt-2],Ot=xt[bt-1],$t=mt[bt-2],It=mt[bt-1];let Rt="";if(pt.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${pt.mode}'`);switch(pt.coordinateTransformMode){case"asymmetric":Rt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":Rt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":Rt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${wt}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${vt}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${wt}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${vt}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":Rt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${wt}.0 - 1.0, ${vt}.0 - 1.0, ${wt}.0 - 1.0,
                            ${vt}.0 - 1.0);
                        vec4 original = vec4(${Ot}.0 - 1.0, ${Tt}.0 - 1.0, ${Ot}.0 - 1.0,
                            ${Tt}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${pt.coordinateTransformMode}'`)}const Ft=(0,ut.getCoordsDataType)(bt),Pt=`
            const vec2 inputWH = vec2(${Tt}.0, ${Ot}.0);
            const vec4 scaleWHWH = vec4(float(${$t}), float(${It}), float(${$t}), float(${It}));
            ${(0,dt.unpackFromChannel)()}
            ${Rt}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${Ft} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${vt-1};
                bool hasNextCol = rc.z < ${wt-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${gt.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},ht),{output:{dims:yt,type:st[0].type,textureType:at.TextureType.packed},hasMain:!0,shaderSource:Pt})},lt=(rt,st)=>{const pt=rt[0].dims;let gt,mt=st.scales;if(mt.length===0){const bt=rt[st.scalesInputIdx];if(bt&&bt.size!==0){if(rt[st.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");mt=ot(bt,st.mode,st.isResize)}else{const vt=rt[st.sizesInputIdx];if(!vt||vt.size===0)throw new Error("Either scales or sizes MUST be provided as input.");gt=Array.from(vt.integerData),mt=tt(gt,pt,st.mode,st.isResize)}}else if(rt[st.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const yt=gt||pt.map((bt,vt)=>Math.floor(bt*mt[vt]));return[mt,yt]},ot=(rt,st,pt)=>{const gt=Array.from(rt.floatData);return(0,ft.scalesValidation)(gt,st,pt),gt},tt=(rt,st,pt,gt)=>{const mt=st.length,yt=new Array(mt);for(let bt=0,vt=mt;bt<vt;bt++)if(st[bt]===0){if(rt[bt]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");yt[bt]=1}else yt[bt]=rt[bt]/st[bt];return(0,ft.scalesValidation)(yt,pt,gt),yt}},565:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.shape=void 0;const it=nt(9240);_e.shape=(ut,dt)=>(at(dt),[new it.Tensor([dt[0].dims.length],"int32",void 0,void 0,new Int32Array(dt[0].dims))]);const at=ut=>{if(!ut||ut.length!==1)throw new Error("Shape requires 1 input.")}},2444:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.sliceV10=_e.parseSliceAttributes=_e.slice=void 0;const it=nt(4910),at=nt(6145),ut=nt(7273),dt=nt(5639),ft={name:"Slice",inputNames:["A"],inputTypes:[dt.TextureType.unpacked]};_e.slice=(tt,rt,st)=>(ct(rt),[tt.run(Object.assign(Object.assign({},ft),{cacheHint:st.cacheKey,get:()=>ht(tt,rt[0],st)}),rt)]),_e.parseSliceAttributes=tt=>{const rt=tt.attributes.getInts("starts"),st=tt.attributes.getInts("ends"),pt=tt.attributes.getInts("axes",[]);return(0,it.createAttributeWithCacheKey)({starts:rt,ends:st,axes:pt})};const ht=(tt,rt,st)=>{const pt=st.axes.length===0?rt.dims.slice(0).map((xt,Tt)=>Tt):st.axes,gt=ut.ShapeUtil.normalizeAxes(pt,rt.dims.length),mt=st.starts.map((xt,Tt)=>xt>rt.dims[gt[Tt]]-1?rt.dims[gt[Tt]]:ut.ShapeUtil.normalizeAxis(xt,rt.dims[gt[Tt]])),yt=st.ends.map((xt,Tt)=>xt>rt.dims[gt[Tt]]-1?rt.dims[gt[Tt]]:ut.ShapeUtil.normalizeAxis(xt,rt.dims[gt[Tt]])),bt=rt.dims.slice(),vt=[];for(let xt=0;xt<gt.length;xt++)bt[gt[xt]]=yt[xt]-mt[xt],mt[xt]>0&&vt.push(`outputIdx[${gt[xt]}] += ${mt[xt]};`);const wt=`
      float process(int outputIdx[${bt.length}]) {
        ${vt.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},ft),{output:{dims:bt,type:rt.type,textureType:dt.TextureType.unpacked},shaderSource:wt})},ct=tt=>{if(!tt||tt.length!==1)throw new Error("Slice requires 1 input.");if(at.NUMBER_TYPES.indexOf(tt[0].type)===-1)throw new Error("Invalid input type.")};_e.sliceV10=(tt,rt)=>{ot(rt);const st=lt(tt,rt);return[tt.run(Object.assign(Object.assign({},ft),{cacheHint:st.cacheKey,get:()=>ht(tt,rt[0],st)}),[rt[0]])]};const lt=(tt,rt)=>{if(!tt.session.isInitializer(rt[1].dataId)||!tt.session.isInitializer(rt[2].dataId)||rt.length>=4&&!tt.session.isInitializer(rt[3].dataId)||rt.length>=5&&!tt.session.isInitializer(rt[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(rt.length>=5&&rt[4].integerData.some(mt=>mt!==1))throw new Error("currently non-1 steps is not supported for Slice");const st=Array.from(rt[1].integerData),pt=Array.from(rt[2].integerData),gt=rt.length>=4?Array.from(rt[3].integerData):[];return{starts:st,ends:pt,axes:gt,cacheKey:`${gt};${st};${pt}`}},ot=tt=>{if(!tt||tt.length<3||tt.length>5)throw new Error("Invalid input number.");if(tt[1].type!=="int32"||tt[1].dims.length!==1)throw new Error("Invalid input type.");if(tt[2].type!=="int32"||tt[2].dims.length!==1)throw new Error("Invalid input type.");if(tt.length>=4&&(tt[3].type!=="int32"||tt[3].dims.length!==1))throw new Error("Invalid input type.");if(tt.length>=5&&(tt[4].type!=="int32"||tt[4].dims.length!==1))throw new Error("Invalid input type.")}},815:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.softmaxV13=_e.parseSoftmaxAttributesV13=_e.parseSoftmaxAttributes=_e.softmax=void 0;const it=nt(4910),at=nt(7273),ut=nt(6757),dt=nt(5639),ft=nt(5707),ht={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[dt.TextureType.unpacked]},ct={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[dt.TextureType.unpacked,dt.TextureType.unpacked]},lt={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[dt.TextureType.unpacked,dt.TextureType.unpacked,dt.TextureType.unpacked]};_e.softmax=(gt,mt,yt)=>{pt(mt);const bt=mt[0].dims.slice(),vt=at.ShapeUtil.normalizeAxis(yt.axis,bt.length),wt=at.ShapeUtil.sizeToDimension(bt,vt),xt=at.ShapeUtil.sizeFromDimension(bt,vt);return ot(gt,mt,yt,wt,xt)},_e.parseSoftmaxAttributes=gt=>(0,it.createAttributeWithCacheKey)({axis:gt.attributes.getInt("axis",1)}),_e.parseSoftmaxAttributesV13=gt=>(0,it.createAttributeWithCacheKey)({axis:gt.attributes.getInt("axis",-1)}),_e.softmaxV13=(gt,mt,yt)=>{pt(mt);const bt=mt[0].dims.slice(),vt=at.ShapeUtil.normalizeAxis(yt.axis,bt.length),wt=bt.length,xt=vt!==wt-1,Tt=[];let Ot,$t=[],It=[];xt&&($t=Array.from({length:wt}).map((Bt,Et)=>Et),$t[vt]=wt-1,$t[wt-1]=vt,$t.map(Bt=>Tt.push(bt[Bt])),Ot=(0,it.createAttributeWithCacheKey)({perm:$t}),It=(0,ft.transpose)(gt,mt,Ot));const Rt=xt?at.ShapeUtil.sizeToDimension(Tt,wt-1):at.ShapeUtil.sizeToDimension(bt,wt-1),Ft=xt?at.ShapeUtil.sizeFromDimension(Tt,wt-1):at.ShapeUtil.sizeFromDimension(bt,wt-1),Pt=ot(gt,xt?It:mt,yt,Rt,Ft);return xt?(0,ft.transpose)(gt,Pt,Ot):Pt};const ot=(gt,mt,yt,bt,vt)=>{const wt=tt(gt,mt[0],bt,vt,[bt]),xt=gt.run(Object.assign(Object.assign({},ht),{cacheHint:yt.cacheKey,get:()=>wt}),mt),Tt=rt(gt,mt[0],bt,vt,wt.output.dims,[bt]),Ot=gt.run(Object.assign(Object.assign({},ct),{cacheHint:yt.cacheKey,get:()=>Tt}),[mt[0],xt]),$t=st(gt,mt[0],bt,vt,wt.output.dims,Tt.output.dims);return[gt.run(Object.assign(Object.assign({},lt),{cacheHint:yt.cacheKey,get:()=>$t}),[mt[0],xt,Ot])]},tt=(gt,mt,yt,bt,vt)=>{const[wt,xt]=gt.calculateTextureWidthAndHeight(mt.dims,dt.TextureType.unpacked),Tt=vt.length;if(yt<1||bt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(vt.length!==1)throw new Error("Dimensionality of the output should be 1");if(vt[0]!==yt)throw new Error("Shape of the output should be equal to logical row count");const Ot=(0,ut.getGlsl)(gt.session.backend.glContext.version),$t=`
      float process(int[${Tt}] indices) {
        int logical_row_start_offset = indices[0] * ${bt};

        float max = getColorAsFloat(${Ot.texture2D}(A, offsetToCoords(logical_row_start_offset, ${wt},
        ${xt} )));
        for(int i=1; i<${bt}; ++i)
        {
          float current = getColorAsFloat(${Ot.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${wt}, ${xt})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},ht),{output:{dims:vt,type:mt.type,textureType:dt.TextureType.unpacked},shaderSource:$t})},rt=(gt,mt,yt,bt,vt,wt)=>{const[xt,Tt]=gt.calculateTextureWidthAndHeight(mt.dims,dt.TextureType.unpacked),Ot=wt.length;if(yt<1||bt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(wt.length!==1)throw new Error("Dimensionality of the output should be 1");if(wt[0]!==yt)throw new Error("Shape of the output should be equal to logical row count");if(vt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(vt[0]!==yt)throw new Error("Shape of the intermediate results should be equal to logical row count");const $t=`
      float process(int[${Ot}] indices) {
        int logical_row_start_offset = indices[0] * ${bt};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${bt}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,ut.getGlsl)(gt.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${xt}, ${Tt}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},ct),{output:{dims:wt,type:mt.type,textureType:dt.TextureType.unpacked},shaderSource:$t})},st=(gt,mt,yt,bt,vt,wt)=>{const[xt,Tt]=gt.calculateTextureWidthAndHeight(mt.dims,dt.TextureType.unpacked),Ot=mt.dims.length;if(yt<1||bt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(vt.length!==1||wt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(vt[0]!==yt||wt[0]!==yt)throw new Error("Shape of the intermediate results should be equal to logical row count");const $t=`
      float process(int[${Ot}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${xt}, ${Tt});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${bt};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},lt),{output:{dims:mt.dims,type:mt.type,textureType:dt.TextureType.unpacked},shaderSource:$t})},pt=gt=>{if(!gt||gt.length!==1)throw new Error("Softmax requires 1 input.");if(gt[0].type!=="float32"&&gt[0].type!=="float64")throw new Error("Invalid input type")}},564:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseSplitAttributes=_e.split=void 0;const it=nt(4910),at=nt(7273),ut=nt(5639),dt={name:"Split",inputNames:["A"],inputTypes:[ut.TextureType.unpacked]};_e.split=(lt,ot,tt)=>{ct(ot);const rt=at.ShapeUtil.normalizeAxis(tt.axis,ot[0].dims.length),st=ft(lt,ot,rt,tt),pt=[];for(let gt=0;gt<st;++gt)pt.push(lt.run(Object.assign(Object.assign({},dt),{cacheHint:`${tt.cacheKey};${gt}`,get:()=>ht(lt,ot[0],tt,rt,gt)}),ot));return pt},_e.parseSplitAttributes=lt=>{const ot=lt.attributes.getInt("axis",0),tt=lt.attributes.getInts("split",[]),rt=lt.outputs.length;return(0,it.createAttributeWithCacheKey)({axis:ot,split:tt,numOutputs:rt})};const ft=(lt,ot,tt,rt)=>{const[,st]=at.SplitUtil.splitShape(ot[0].dims,tt,rt.split,rt.numOutputs);return st.length},ht=(lt,ot,tt,rt,st)=>{const[pt,gt]=at.SplitUtil.splitShape(ot.dims,rt,tt.split,tt.numOutputs),mt=gt[st],yt=pt[st],bt=`
      float process(int indices[${yt.length}]) {
        indices[${rt}] += ${mt};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},dt),{cacheHint:`${tt.cacheKey}:${st}`,output:{dims:yt,type:ot.type,textureType:ut.TextureType.unpacked},shaderSource:bt})},ct=lt=>{if(!lt||lt.length!==1)throw new Error("Split requires one input.");if(lt[0].type!=="int8"&&lt[0].type!=="uint8"&&lt[0].type!=="int16"&&lt[0].type!=="uint16"&&lt[0].type!=="int32"&&lt[0].type!=="uint32"&&lt[0].type!=="float32"&&lt[0].type!=="float64"&&lt[0].type!=="bool")throw new Error("Invalid input type.")}},5416:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseSqueezeAttributes=_e.squeezeV13=_e.squeeze=void 0;const it=nt(7273);_e.squeeze=(dt,ft,ht)=>{at(ft);const ct=it.ShapeUtil.squeezeShape(ft[0].dims,ht);return[dt.reshapeUnpacked(ft[0],ct)]},_e.squeezeV13=(dt,ft)=>(ut(ft),(0,_e.squeeze)(dt,[ft[0]],Array.from(ft[1].integerData))),_e.parseSqueezeAttributes=dt=>dt.attributes.getInts("axes");const at=dt=>{if(!dt||dt.length!==1)throw new Error("Squeeze requires 1 input.");if(dt[0].type==="string")throw new Error("invalid input tensor types.")},ut=dt=>{if(!dt||dt.length!==2)throw new Error("Squeeze requires 2 inputs.");if(dt[1].type!=="int32")throw new Error("Invalid input type.")}},1240:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.sum=void 0;const it=nt(6757),at=nt(5639);_e.sum=(ft,ht)=>{dt(ht);const ct={name:"Sum",inputNames:ht.map((lt,ot)=>`X${ot}`),inputTypes:new Array(ht.length).fill(at.TextureType.unpacked)};return[ft.run(Object.assign(Object.assign({},ct),{get:()=>ut(ft,ht,ct)}),ht)]};const ut=(ft,ht,ct)=>{const lt=(0,it.getGlsl)(ft.session.backend.glContext.version),ot=ht[0].dims.slice(),tt=`
      void main() {
        vec4 result = ${ht.map((rt,st)=>`${lt.texture2D}(X${st},TexCoords)`).join(" + ")};
        ${lt.output} = result;
      }
    `;return Object.assign(Object.assign({},ct),{output:{dims:ot,type:ht[0].type,textureType:at.TextureType.unpacked},hasMain:!0,shaderSource:tt})},dt=ft=>{if(!ft||ft.length===0)throw new Error("Sum requires inputs.");const ht=ft[0].dims.length;for(let ct=1;ct<ft.length;ct++){if(ht!==ft[ct].dims.length)throw new Error("Input shapes are mismatched.");for(let lt=0;lt<ht;lt++)if(ft[0].dims[lt]!==ft[ct].dims[lt])throw new Error("Input shapes are not matched.")}if(ft[0].type!=="float32"&&ft[0].type!=="float64")throw new Error("Invalid input type.");for(let ct=1;ct<ft.length;ct++)if(ft[0].type!==ft[ct].type)throw new Error("Input types are not matched.")}},5944:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.tile=void 0;const it=nt(6145),at=nt(5639);_e.tile=(ft,ht)=>{dt(ht);const ct={name:"Tile",inputNames:["A"],inputTypes:[at.TextureType.unpacked]};return[ft.run(Object.assign(Object.assign({},ct),{get:()=>ut(ft,ht,ct)}),ht)]};const ut=(ft,ht,ct)=>{const lt=ht[0].dims.slice(),ot=new Array(lt.length),tt=[];for(let pt=0;pt<lt.length;pt++)ot[pt]=lt[pt]*ht[1].numberData[pt],tt.push(`inputIdx[${pt}] = int(mod(float(outputIdx[${pt}]), ${lt[pt]}.));`);const rt=ot.length,st=`
      float process(int outputIdx[${rt}]) {
        int inputIdx[${rt}];
        ${tt.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},ct),{output:{dims:ot,type:ht[0].type,textureType:at.TextureType.unpacked},shaderSource:st})},dt=ft=>{if(!ft||ft.length!==2)throw new Error("Tile requires 2 input.");if(ft[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(ft[1].dims[0]!==ft[0].dims.length)throw new Error("Invalid input shape.");if(it.NUMBER_TYPES.indexOf(ft[0].type)===-1)throw new Error("Invalid input type.");if(ft[1].type!=="int32"&&ft[1].type!=="int16")throw new Error("Invalid repeat type.")}},5707:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseTransposeAttributes=_e.transpose=void 0;const it=nt(4910),at=nt(7273),ut=nt(5639),dt={name:"Transpose",inputNames:["A"],inputTypes:[ut.TextureType.unpacked]};_e.transpose=(tt,rt,st)=>(ot(rt),[tt.run(Object.assign(Object.assign({},dt),{cacheHint:st.cacheKey,get:()=>ft(tt,rt[0],st.perm)}),rt)]),_e.parseTransposeAttributes=tt=>(0,it.createAttributeWithCacheKey)({perm:tt.attributes.getInts("perm",[])});const ft=(tt,rt,st)=>{const pt=rt.dims;st=ht(pt,st);const gt=ct(pt,st),mt=pt.length,yt=`
      ${lt("perm",st,mt)}
      float process(int indices[${mt}]) {
        int a[${mt}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},dt),{output:{dims:gt,type:rt.type,textureType:ut.TextureType.unpacked},shaderSource:yt})},ht=(tt,rt)=>(rt&&rt.length!==tt.length&&(rt=[...tt.keys()].reverse()),rt),ct=(tt,rt)=>(rt=ht(tt,rt),at.ShapeUtil.sortBasedOnPerm(tt,rt)),lt=(tt,rt,st)=>{const pt=[];pt.push(`void ${tt}(out int a[${st}], int src[${st}]) {`);for(let gt=0;gt<st;++gt)pt.push(`	a[${rt[gt]}]=src[${gt}];`);return pt.push("	}"),pt.join(`
`)},ot=tt=>{if(!tt||tt.length!==1)throw new Error("Transpose requires 1 input.");if(tt[0].type!=="float32"&&tt[0].type!=="float64")throw new Error("input should be float tensor")}},2488:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.encodeAsUint8=void 0;const it=nt(6757),at=nt(5639);_e.encodeAsUint8=(ut,dt)=>{const ft=dt.shape,ht=(0,it.getGlsl)(ut.session.backend.glContext.version),ct=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${ht.texture2D}(X,TexCoords).r;
      ${ht.output} = encodeAsUint8(value);
    }`,lt={name:"Uint8Encode",inputTypes:[at.TextureType.unpacked],inputNames:["X"],output:{dims:ft,type:dt.tensor.type,textureType:at.TextureType.downloadUint8AsFloat},shaderSource:ct,hasMain:!0};return ut.executeProgram(lt,[dt.tensor])}},9087:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.tanh=_e.tan=_e.sqrt=_e.sin=_e.sigmoid=_e.relu=_e.not=_e.neg=_e.log=_e.parseLeakyReluAttributes=_e.leakyRelu=_e.identity=_e.floor=_e.exp=_e.parseEluAttributes=_e.elu=_e.cos=_e.ceil=_e.clipV11=_e.parseClipAttributes=_e.clip=_e.atan=_e.asin=_e.acos=_e.abs=_e.glslTanh=_e.glslTan=_e.glslSqrt=_e.glslSigmoid=_e.glslRelu=_e.glslSin=_e.glslNot=_e.glslNeg=_e.glslLog=_e.glslLeakyRelu=_e.glslIdentity=_e.glslClip=_e.glslFloor=_e.glslExp=_e.glslElu=_e.glslCos=_e.glslCeil=_e.glslAtan=_e.glslAsin=_e.glslAcos=_e.glslAbs=void 0;const it=nt(4910),at=nt(7273),ut=nt(1997),dt=nt(6757),ft=nt(5639);function ht(){return Pt("abs")}function ct(){return Pt("acos")}function lt(){return Pt("asin")}function ot(){return Pt("atan")}function tt(){return Pt("ceil")}function rt(){return Pt("cos")}function st(At){const jt="elu";return{body:`
  const float alpha = float(${At});

  float ${jt}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${jt}_(vec4 v) {
    return vec4(${jt}_(v.x), ${jt}_(v.y), ${jt}_(v.z), ${jt}_(v.w));
  }
  `,name:jt,type:ut.FunctionType.ValueBased}}function pt(){return Pt("exp")}function gt(){return Pt("floor")}function mt(At,jt){const Mt="clip";return{body:`
  const float min = float(${At});
  const float max = float(${jt});

  float ${Mt}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${Mt}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:Mt,type:ut.FunctionType.ValueBased}}function yt(){const At="indentity";return{body:`
  float ${At}_(float a) {
    return a;
  }
  vec4 ${At}_(vec4 v) {
    return v;
  }
  `,name:At,type:ut.FunctionType.ValueBased}}function bt(At){const jt="leakyRelu";return{body:`
  const float alpha = float(${At});

  float ${jt}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${jt}_(vec4 v) {
    return vec4(${jt}_(v.x), ${jt}_(v.y), ${jt}_(v.z), ${jt}_(v.w));
  }
  `,name:jt,type:ut.FunctionType.ValueBased}}function vt(){return Pt("log")}function wt(){const At="neg";return{body:`
  float ${At}_(float a) {
    return -a;
  }
  vec4 ${At}_(vec4 v) {
    return -v;
  }
  `,name:At,type:ut.FunctionType.ValueBased}}function xt(){const At="not";return{body:`
  float ${At}_(float a) {
    return float( ! bool(a) );
  }
  bool ${At}_(bool a) {
    return !a;
  }
  vec4 ${At}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${At}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:At,type:ut.FunctionType.ValueBased}}function Tt(){return Pt("sin")}function Ot(){const At="relu";return{body:`
  float ${At}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${At}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:At,type:ut.FunctionType.ValueBased}}function $t(){const At="sigmoid";return{body:`
  float ${At}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${At}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:At,type:ut.FunctionType.ValueBased}}function It(){return Pt("sqrt")}function Rt(){return Pt("tan")}function Ft(){const At="tanh";return{body:`
  float ${At}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${At}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:At,type:ut.FunctionType.ValueBased}}function Pt(At){return{body:`
  float ${At}_(float a) {
    return ${At}(a);
  }
  vec4 ${At}_(vec4 v) {
    return ${At}(v);
  }
  `,name:At,type:ut.FunctionType.ValueBased}}_e.glslAbs=ht,_e.glslAcos=ct,_e.glslAsin=lt,_e.glslAtan=ot,_e.glslCeil=tt,_e.glslCos=rt,_e.glslElu=st,_e.glslExp=pt,_e.glslFloor=gt,_e.glslClip=mt,_e.glslIdentity=yt,_e.glslLeakyRelu=bt,_e.glslLog=vt,_e.glslNeg=wt,_e.glslNot=xt,_e.glslSin=Tt,_e.glslRelu=Ot,_e.glslSigmoid=$t,_e.glslSqrt=It,_e.glslTan=Rt,_e.glslTanh=Ft;const Bt=(At,jt,Mt,Lt)=>{const Kt=At.session.pack?ft.TextureType.packed:ft.TextureType.unpacked,qt={name:Mt.name,inputTypes:[Kt],inputNames:["A"],cacheHint:Lt};return Object.assign(Object.assign({},qt),{get:()=>((Qt,Zt,tn,nn)=>{const sn=Qt.session.pack?ft.TextureType.packed:ft.TextureType.unpacked,an=(0,dt.getGlsl)(Qt.session.backend.glContext.version);return Object.assign(Object.assign({},Zt),{output:{dims:tn.dims,type:tn.type,textureType:sn},shaderSource:`
     ${nn.body}
     void main() {
       vec4 v = ${an.texture2D}(A, TexCoords);
       v = ${nn.name}_(v);
       ${an.output} = v;
     }
     `,hasMain:!0})})(At,qt,jt,Mt)})};_e.abs=(At,jt)=>[At.run(Bt(At,jt[0],ht()),jt)],_e.acos=(At,jt)=>[At.run(Bt(At,jt[0],ct()),jt)],_e.asin=(At,jt)=>[At.run(Bt(At,jt[0],lt()),jt)],_e.atan=(At,jt)=>[At.run(Bt(At,jt[0],ot()),jt)],_e.clip=(At,jt,Mt)=>[At.run(Bt(At,jt[0],mt(Mt.min,Mt.max),Mt.cacheKey),jt)],_e.parseClipAttributes=At=>(0,it.createAttributeWithCacheKey)({min:At.attributes.getFloat("min",at.MIN_CLIP),max:At.attributes.getFloat("max",at.MAX_CLIP)}),_e.clipV11=(At,jt)=>{const Mt=Et(At,jt);return(0,_e.clip)(At,[jt[0]],Mt)};const Et=(At,jt)=>{if(jt.length>=3&&(!At.session.isInitializer(jt[1].dataId)||!At.session.isInitializer(jt[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const Mt=jt.length>=3?jt[1].numberData[0]:at.MIN_CLIP,Lt=jt.length>=3?jt[2].numberData[0]:at.MAX_CLIP;return(0,it.createAttributeWithCacheKey)({min:Mt,max:Lt})};_e.ceil=(At,jt)=>[At.run(Bt(At,jt[0],tt()),jt)],_e.cos=(At,jt)=>[At.run(Bt(At,jt[0],rt()),jt)],_e.elu=(At,jt,Mt)=>[At.run(Bt(At,jt[0],st(Mt.alpha),Mt.cacheKey),jt)],_e.parseEluAttributes=At=>(0,it.createAttributeWithCacheKey)({alpha:At.attributes.getFloat("alpha",1)}),_e.exp=(At,jt)=>[At.run(Bt(At,jt[0],pt()),jt)],_e.floor=(At,jt)=>[At.run(Bt(At,jt[0],gt()),jt)],_e.identity=(At,jt)=>[At.run(Bt(At,jt[0],yt()),jt)],_e.leakyRelu=(At,jt,Mt)=>[At.run(Bt(At,jt[0],bt(Mt.alpha),Mt.cacheKey),jt)],_e.parseLeakyReluAttributes=At=>(0,it.createAttributeWithCacheKey)({alpha:At.attributes.getFloat("alpha",.01)}),_e.log=(At,jt)=>[At.run(Bt(At,jt[0],vt()),jt)],_e.neg=(At,jt)=>[At.run(Bt(At,jt[0],wt()),jt)],_e.not=(At,jt)=>[At.run(Bt(At,jt[0],xt()),jt)],_e.relu=(At,jt)=>[At.run(Bt(At,jt[0],Ot()),jt)],_e.sigmoid=(At,jt)=>[At.run(Bt(At,jt[0],$t()),jt)],_e.sin=(At,jt)=>[At.run(Bt(At,jt[0],Tt()),jt)],_e.sqrt=(At,jt)=>[At.run(Bt(At,jt[0],It()),jt)],_e.tan=(At,jt)=>[At.run(Bt(At,jt[0],Rt()),jt)],_e.tanh=(At,jt)=>[At.run(Bt(At,jt[0],Ft()),jt)]},540:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createUnpackProgramInfoLoader=_e.createUnpackProgramInfo=void 0;const it=nt(6757),at=nt(5639),ut=nt(432),dt=nt(5614),ft={name:"unpack",inputNames:["A"],inputTypes:[at.TextureType.packed]};_e.createUnpackProgramInfo=(ht,ct)=>{const lt=ct.dims.length,ot=(0,dt.getChannels)("rc",lt),tt=ot.slice(-2),rt=(0,ut.getCoordsDataType)(lt),st=(0,dt.unpackFromChannel)(),pt=ct.dims.length===0?"":function(yt,bt){if(yt===1)return"rc";let vt="";for(let wt=0;wt<yt;wt++)vt+=bt[wt],wt<yt-1&&(vt+=",");return vt}(lt,ot),gt=lt<=1?"rc":`vec2(${tt.join(",")})`,mt=`
    ${st}
    void main() {
      ${rt} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${pt});

       ${(0,it.getGlsl)(ht.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${gt}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},ft),{hasMain:!0,output:{dims:ct.dims,type:ct.type,textureType:at.TextureType.unpacked},shaderSource:mt})},_e.createUnpackProgramInfoLoader=(ht,ct)=>Object.assign(Object.assign({},ft),{get:()=>(0,_e.createUnpackProgramInfo)(ht,ct)})},7862:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.parseUnsqueezeAttributes=_e.unsqueezeV13=_e.unsqueeze=void 0;const it=nt(7273);_e.unsqueeze=(dt,ft,ht)=>{at(ft);const ct=it.ShapeUtil.unsqueezeShape(ft[0].dims,ht);return[dt.reshapeUnpacked(ft[0],ct)]},_e.unsqueezeV13=(dt,ft)=>(ut(ft),(0,_e.unsqueeze)(dt,[ft[0]],Array.from(ft[1].integerData))),_e.parseUnsqueezeAttributes=dt=>dt.attributes.getInts("axes");const at=dt=>{if(!dt||dt.length!==1)throw new Error("Unsqueeze requires 1 input.");if(dt[0].type==="string")throw new Error("invalid input tensor types.")},ut=dt=>{if(!dt||dt.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(dt[1].type!=="int32")throw new Error("Invalid input type.")}},3980:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.scalesValidation=_e.validateInputs=_e.parseUpsampleAttributes=_e.parseUpsampleAttributesV9=_e.parseUpsampleAttributesV7=_e.upsample=void 0;const it=nt(4910),at=nt(6757),ut=nt(5639),dt={name:"Upsample",inputNames:["X"],inputTypes:[ut.TextureType.unpacked]};_e.upsample=(ht,ct,lt)=>((0,_e.validateInputs)(ct,lt),[ht.run(Object.assign(Object.assign({},dt),{cacheHint:lt.cacheKey,get:()=>ft(ht,ct,lt)}),ct)]),_e.parseUpsampleAttributesV7=ht=>(0,_e.parseUpsampleAttributes)(ht,7),_e.parseUpsampleAttributesV9=ht=>(0,_e.parseUpsampleAttributes)(ht,9),_e.parseUpsampleAttributes=(ht,ct)=>{const lt=ct>=10,ot=ht.attributes.getString("mode","nearest");if(ot!=="nearest"&&ot!=="linear"&&(ct<11||ot!=="cubic"))throw new Error(`unrecognized mode: ${ot}`);let tt=[];ct<9&&(tt=ht.attributes.getFloats("scales"),(0,_e.scalesValidation)(tt,ot,lt));const rt=ht.attributes.getFloat("extrapolation_value",0),st=ct>10?ht.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(st)===-1)throw new Error(`coordinate_transform_mode '${st}' is not supported`);const pt=st==="tf_crop_and_resize",gt=pt,mt=ot==="nearest"&&ct>=11?ht.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(mt)===-1)throw new Error(`nearest_mode '${mt}' is not supported`);const yt=ht.attributes.getFloat("cubic_coeff_a",-.75),bt=ht.attributes.getInt("exclude_outside",0)!==0;if(bt&&ot!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const vt=ct<11||ot==="nearest"&&st==="asymmetric"&&mt==="floor";let wt=0,xt=0,Tt=0;return ct>10?ht.inputs.length>2?(wt=1,xt=2,Tt=3):(xt=1,Tt=2):ct===9&&(xt=1),(0,it.createAttributeWithCacheKey)({opset:ct,isResize:lt,mode:ot,scales:tt,extrapolationValue:rt,coordinateTransformMode:st,useExtrapolation:gt,needRoiInput:pt,nearestMode:mt,cubicCoefficientA:yt,excludeOutside:bt,useNearest2xOptimization:vt,roiInputIdx:wt,scalesInputIdx:xt,sizesInputIdx:Tt})};const ft=(ht,ct,lt)=>{const ot=(0,at.getGlsl)(ht.session.backend.glContext.version),[tt,rt]=ht.calculateTextureWidthAndHeight(ct[0].dims,ut.TextureType.unpacked),st=ct[0].dims.map((Tt,Ot)=>Math.floor(Tt*lt.scales[Ot])),[pt,gt]=ht.calculateTextureWidthAndHeight(st,ut.TextureType.unpacked),mt=st.length,yt=new Array(mt),bt=new Array(mt);let vt=`
      int output_pitches[${mt}];
      int input_pitches[${mt}];
      `;for(let Tt=mt-1;Tt>=0;Tt--)yt[Tt]=Tt===mt-1?1:yt[Tt+1]*st[Tt+1],bt[Tt]=Tt===mt-1?1:bt[Tt+1]*ct[0].dims[Tt+1],vt+=`
        output_pitches[${Tt}] = ${yt[Tt]};
        input_pitches[${Tt}] = ${bt[Tt]};
        `;const wt=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${tt}, ${rt});
        float value = getColorAsFloat(${ot.texture2D}(X, coords));
        return value;
      }
      `,xt=lt.mode==="nearest"?`
    ${wt}
    float process(int indices[${mt}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${pt}, ${gt});

      ${vt}

      int d, m;
      for (int dim = 0; dim < ${mt}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:mt===4?`
    ${wt}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${pt}, ${gt});

      ${vt}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${ct[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${wt}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${pt}, ${gt});

      ${vt}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${ct[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},dt),{output:{dims:st,type:ct[0].type,textureType:ut.TextureType.unpacked},shaderSource:xt,variables:[{name:"scales",type:"int",arrayLength:lt.scales.length,data:lt.scales.map(Tt=>Math.ceil(Tt))}]})};_e.validateInputs=(ht,ct)=>{if(!ht||ct.opset<9&&ht.length!==1||ct.opset>=9&&ct.opset<11&&ht.length!==2||ct.opset>=11&&ht.length<2)throw new Error("invalid inputs.");if(ct.scales.length>0&&ht[0].dims.length!==ct.scales.length)throw new Error("Invalid input shape.");if(ht[0].type==="string")throw new Error("Invalid input tensor types.")},_e.scalesValidation=(ht,ct,lt)=>{if(lt){for(const ot of ht)if(ot<=0)throw new Error("Scale value should be greater than 0.")}else for(const ot of ht)if(ot<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(ct!=="linear"&&ct!=="cubic"||ht.length===2||ht.length===4&&ht[0]===1&&ht[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${lt?"Resize":"Upsample"} opeartor.`)}},2757:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ProgramManager=void 0;const it=nt(2235),at=nt(1315),ut=nt(8897),dt=nt(6757);_e.ProgramManager=class{constructor(ft,ht,ct){this.profiler=ft,this.glContext=ht,this.textureLayoutStrategy=ct,this.repo=new Map,this.attributesBound=!1}getArtifact(ft){return this.repo.get(ft)}setArtifact(ft,ht){this.repo.set(ft,ht)}run(ft,ht,ct){var lt;this.profiler.event("op",`ProgramManager.run ${(lt=ft.programInfo.name)!==null&&lt!==void 0?lt:"unknown kernel"}`,()=>{var ot;const tt=this.glContext.gl,rt=ft.program;tt.useProgram(rt);try{this.bindOutput(ct),this.attributesBound||this.bindAttributes(ft.attribLocations),this.bindUniforms(ft.uniformLocations,(ot=ft.programInfo.variables)!==null&&ot!==void 0?ot:[],ht)}catch(st){throw at.Logger.error("ProgramManager",ft.programInfo.shaderSource),st}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(ft=>this.glContext.deleteProgram(ft.program))}build(ft,ht,ct){return this.profiler.event("backend","ProgramManager.build",()=>{const lt=new ut.GlslPreprocessor(this.glContext,ft,ht,ct),ot=lt.preprocess(),tt=this.compile(ot);return{programInfo:ft,program:tt,uniformLocations:this.getUniformLocations(tt,lt.context.programInfo.inputNames,lt.context.programInfo.variables),attribLocations:this.getAttribLocations(tt)}})}compile(ft){if(!this.vertexShader){at.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const lt=(0,dt.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(lt,this.glContext.gl.VERTEX_SHADER)}it.env.debug&&at.Logger.verbose("ProrgramManager",`FragShader:
${ft}
`);const ht=this.glContext.compileShader(ft,this.glContext.gl.FRAGMENT_SHADER),ct=this.glContext.createProgram(this.vertexShader,ht);return this.glContext.deleteShader(ht),ct}bindOutput(ft){const ht=ft.width,ct=ft.height;at.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${ht}/${ct}, shape=${ft.shape}, type=${ft.tensor.type}`),this.glContext.attachFramebuffer(ft.texture,ht,ct)}bindAttributes(ft){const ht=ft.position,ct=ft.textureCoord;this.glContext.setVertexAttributes(ht,ct),this.attributesBound=!0}bindUniforms(ft,ht,ct){var lt;const ot=this.glContext.gl;let tt=0;for(const{name:rt,type:st,location:pt,arrayLength:gt}of ft){const mt=(lt=ht.find(yt=>yt.name===rt))===null||lt===void 0?void 0:lt.data;if(st!=="sampler2D"&&!mt)throw new Error(`variable '${rt}' does not have data defined in program info`);switch(st){case"sampler2D":this.bindTexture(ct[tt],pt,tt),tt++;break;case"float":gt?ot.uniform1fv(pt,mt):ot.uniform1f(pt,mt);break;case"int":gt?ot.uniform1iv(pt,mt):ot.uniform1i(pt,mt);break;default:throw new Error(`Uniform not implemented: ${st}`)}}}bindTexture(ft,ht,ct){this.glContext.bindTextureToUniform(ft.texture,ct,ht)}getAttribLocations(ft){return{position:this.getAttribLocation(ft,"position"),textureCoord:this.getAttribLocation(ft,"textureCoord")}}getUniformLocations(ft,ht,ct){const lt=[];if(ht)for(const ot of ht)lt.push({name:ot,type:"sampler2D",location:this.getUniformLocation(ft,ot)});if(ct)for(const ot of ct)lt.push(Object.assign(Object.assign({},ot),{location:this.getUniformLocation(ft,ot.name)}));return lt}getUniformLocation(ft,ht){const ct=this.glContext.gl.getUniformLocation(ft,ht);if(ct===null)throw new Error(`Uniform ${ht} not found.`);return ct}getAttribLocation(ft,ht){return this.glContext.gl.getAttribLocation(ft,ht)}}},2171:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.WebGLSessionHandler=void 0;const it=nt(1315),at=nt(5881),ut=nt(7860),dt=nt(4110),ft=nt(2757),ht=nt(7618),ct=nt(5243);_e.WebGLSessionHandler=class{constructor(lt,ot){this.backend=lt,this.context=ot,this.layoutStrategy=new ht.PreferLogicalStrategy(lt.glContext.maxTextureSize),this.programManager=new ft.ProgramManager(this.context.profiler,lt.glContext,this.layoutStrategy),this.textureManager=new ct.TextureManager(lt.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:lt.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=lt.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new ut.WebGLInferenceHandler(this)}onGraphInitialized(lt){const ot=lt.getValues().filter(tt=>tt.from===-1&&tt.tensor).map(tt=>tt.tensor.dataId);this.initializers=new Set(ot)}isInitializer(lt){return!!this.initializers&&this.initializers.has(lt)}addInitializer(lt){this.initializers.add(lt)}getTextureData(lt,ot){return ot?this.packedTextureDataCache.get(lt):this.unpackedTextureDataCache.get(lt)}setTextureData(lt,ot,tt=!1){it.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),tt?this.packedTextureDataCache.set(lt,ot):this.unpackedTextureDataCache.set(lt,ot)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(lt=>this.textureManager.releaseTexture(lt,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(lt=>this.textureManager.releaseTexture(lt,!0)),this.unpackedTextureDataCache=new Map}resolve(lt,ot,tt){const rt=(0,at.resolveOperator)(lt,ot,dt.WEBGL_OP_RESOLVE_RULES);return{impl:rt.opImpl,context:rt.opInit?rt.opInit(lt,tt):lt}}}},9622:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Uint8DataEncoder=_e.RGBAFloatDataEncoder=_e.RedFloat32DataEncoder=void 0;const it=nt(1315);_e.RedFloat32DataEncoder=class{constructor(at,ut=1){if(ut===1)this.internalFormat=at.R32F,this.format=at.RED,this.textureType=at.FLOAT,this.channelSize=ut;else{if(ut!==4)throw new Error(`Invalid number of channels: ${ut}`);this.internalFormat=at.RGBA32F,this.format=at.RGBA,this.textureType=at.FLOAT,this.channelSize=ut}}encode(at,ut){let dt,ft;return at.constructor!==Float32Array&&(it.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),ft=new Float32Array(at)),ut*this.channelSize>at.length?(it.Logger.warning("Encoder","Source data too small. Allocating larger array"),ft=at,dt=this.allocate(ut*this.channelSize),ft.forEach((ht,ct)=>dt[ct]=ht)):(ft=at,dt=ft),dt}allocate(at){return new Float32Array(4*at)}decode(at,ut){return this.channelSize===1?at.filter((dt,ft)=>ft%4==0).subarray(0,ut):at.subarray(0,ut)}},_e.RGBAFloatDataEncoder=class{constructor(at,ut=1,dt){if(ut!==1&&ut!==4)throw new Error(`Invalid number of channels: ${ut}`);this.internalFormat=at.RGBA,this.format=at.RGBA,this.channelSize=ut,this.textureType=dt||at.FLOAT}encode(at,ut){let dt=at;return this.channelSize===1&&(it.Logger.verbose("Encoder","Exploding into a larger array"),dt=this.allocate(ut),at.forEach((ft,ht)=>dt[4*ht]=ft)),dt}allocate(at){return new Float32Array(4*at)}decode(at,ut){return this.channelSize===1?at.filter((dt,ft)=>ft%4==0).subarray(0,ut):at.subarray(0,ut)}},_e.Uint8DataEncoder=class{constructor(at,ut=1){if(this.channelSize=4,ut===1)this.internalFormat=at.ALPHA,this.format=at.ALPHA,this.textureType=at.UNSIGNED_BYTE,this.channelSize=ut;else{if(ut!==4)throw new Error(`Invalid number of channels: ${ut}`);this.internalFormat=at.RGBA,this.format=at.RGBA,this.textureType=at.UNSIGNED_BYTE,this.channelSize=ut}}encode(at,ut){return new Uint8Array(at.buffer,at.byteOffset,at.byteLength)}allocate(at){return new Uint8Array(at*this.channelSize)}decode(at,ut){if(at instanceof Uint8Array)return at.subarray(0,ut);throw new Error(`Invalid array type: ${at.constructor}`)}}},7618:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getBatchDim=_e.sizeToSquarishShape=_e.getRowsCols=_e.sizeFromShape=_e.isInt=_e.parseAxisParam=_e.squeezeShape=_e.PreferLogicalStrategy=_e.AlwaysKeepOriginalSizeStrategy=void 0;const it=nt(1315),at=nt(7273);function ut(lt,ot){const tt=[],rt=[],st=ot!=null&&Array.isArray(ot)&&ot.length===0,pt=ot==null||st?null:dt(ot,lt).sort();let gt=0;for(let mt=0;mt<lt.length;++mt){if(pt!=null){if(pt[gt]===mt&&lt[mt]!==1)throw new Error(`Can't squeeze axis ${mt} since its dim '${lt[mt]}' is not 1`);(pt[gt]==null||pt[gt]>mt)&&lt[mt]===1&&(tt.push(lt[mt]),rt.push(mt)),pt[gt]<=mt&&gt++}lt[mt]!==1&&(tt.push(lt[mt]),rt.push(mt))}return{newShape:tt,keptDims:rt}}function dt(lt,ot){const tt=ot.length;return lt=lt==null?ot.map((rt,st)=>st):[].concat(lt),(0,at.assert)(lt.every(rt=>rt>=-tt&&rt<tt),()=>`All values in axis param must be in range [-${tt}, ${tt}) but got axis ${lt}`),(0,at.assert)(lt.every(ft),()=>`All values in axis param must be integers but got axis ${lt}`),lt.map(rt=>rt<0?tt+rt:rt)}function ft(lt){return lt%1==0}function ht(lt){if(lt.length===0)return 1;let ot=lt[0];for(let tt=1;tt<lt.length;tt++)ot*=lt[tt];return ot}function ct(lt){const ot=Math.ceil(Math.sqrt(lt));return[ot,Math.ceil(lt/ot)]}_e.AlwaysKeepOriginalSizeStrategy=class{constructor(lt){this.maxTextureSize=lt}computeTextureWH(lt,ot){if(lt.length===0)return[1,1];const tt=this.maxTextureSize;if(ot&&ot.breakAxis!==void 0){const pt=ot.breakAxis>=lt.length?1:lt.slice(ot.breakAxis).reduce((mt,yt)=>mt*yt),gt=ot.breakAxis<=0?1:lt.slice(0,ot.breakAxis).reduce((mt,yt)=>mt*yt);if(!(pt>tt||gt>tt))return[pt,gt];it.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${lt}, breakAxis:${ot.breakAxis}`)}const rt=lt.reduce((pt,gt)=>pt*gt);let st=Math.floor(Math.sqrt(rt));for(;st<tt&&st<rt&&rt%st!=0;st++);if(st>=tt||rt%st!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${lt}`);return[st,rt/st]}},_e.PreferLogicalStrategy=class{constructor(lt){this.maxTextureSize=lt}computeTextureWH(lt,ot){const tt=this.computeTexture(lt,ot);return ot&&ot.isPacked&&(tt[0]/=2,tt[1]/=2),ot&&ot.reverseWH?[tt[1],tt[0]]:tt}computeTexture(lt,ot){const tt=ot&&ot.isPacked;if(lt.length===0)return tt?[2,2]:[1,1];let rt=this.maxTextureSize;if(ot&&ot.breakAxis!==void 0){const gt=ot.breakAxis>=lt.length?1:lt.slice(ot.breakAxis).reduce((yt,bt)=>yt*bt),mt=ot.breakAxis<=0?1:lt.slice(0,ot.breakAxis).reduce((yt,bt)=>yt*bt);if(!(gt>rt||mt>rt))return[gt,mt];it.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${lt}, breakAxis:${ot.breakAxis}`)}let st=lt.slice(0);tt&&(rt*=2,st=st.map((gt,mt)=>mt>=st.length-2?st[mt]%2==0?st[mt]:st[mt]+1:st[mt]),st.length===1&&(st=[2,st[0]])),st.length!==2&&(st=ut(st).newShape);const pt=ht(st);return st.length<=1&&pt<=rt?[1,pt]:st.length===2&&st[0]<=rt&&st[1]<=rt?st:st.length===3&&st[0]*st[1]<=rt&&st[2]<=rt?[st[0]*st[1],st[2]]:st.length===3&&st[0]<=rt&&st[1]*st[2]<=rt?[st[0],st[1]*st[2]]:st.length===4&&st[0]*st[1]*st[2]<=rt&&st[3]<=rt?[st[0]*st[1]*st[2],st[3]]:st.length===4&&st[0]<=rt&&st[1]*st[2]*st[3]<=rt?[st[0],st[1]*st[2]*st[3]]:tt?ct(pt/4).map(gt=>2*gt):ct(pt)}},_e.squeezeShape=ut,_e.parseAxisParam=dt,_e.isInt=ft,_e.sizeFromShape=ht,_e.getRowsCols=function(lt){if(lt.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[lt.length>1?lt[lt.length-2]:1,lt[lt.length-1]]},_e.sizeToSquarishShape=ct,_e.getBatchDim=function(lt,ot=2){return ht(lt.slice(0,lt.length-ot))}},3314:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createTextureLayoutFromShape=_e.calculateTextureWidthAndHeight=_e.createTextureLayoutFromTextureType=void 0;const it=nt(7273),at=nt(5639);_e.createTextureLayoutFromTextureType=(ut,dt,ft)=>{const ht=ft===at.TextureType.unpacked||ft===at.TextureType.unpackedReversed?1:4,ct=ft===at.TextureType.packed,lt=ft===at.TextureType.unpackedReversed||ft===at.TextureType.packed,ot=ft===at.TextureType.packedLastDimension?dt.length-1:void 0,tt=ft===at.TextureType.packedLastDimension?dt.map((rt,st)=>st===dt.length-1?4*rt:rt):void 0;return(0,_e.createTextureLayoutFromShape)(ut,dt,ht,tt,{isPacked:ct,reverseWH:lt,breakAxis:ot})},_e.calculateTextureWidthAndHeight=(ut,dt,ft)=>{const ht=(0,_e.createTextureLayoutFromTextureType)(ut,dt,ft);return[ht.width,ht.height]},_e.createTextureLayoutFromShape=(ut,dt,ft=1,ht,ct)=>{const lt=!(!ct||!ct.isPacked),[ot,tt]=ut.computeTextureWH(lt&&ht||dt,ct),rt=dt.length;let st=dt.slice(0);if(rt===0&&(st=[1]),ft===1)ht=dt;else if(lt){if(ft!==4)throw new Error("a packed texture must be 4-channel");ht=dt,rt>0&&(st[rt-1]=Math.ceil(st[rt-1]/2)),rt>1&&(st[rt-2]=Math.ceil(st[rt-2]/2))}else if(!ht)throw new Error("Unpacked shape is needed when using channels > 1");return{width:ot,height:tt,channels:ft,isPacked:lt,shape:st,strides:it.ShapeUtil.computeStrides(st),unpackedShape:ht,reversedWH:ct&&ct.reverseWH}}},5243:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.TextureManager=void 0;const it=nt(1315);_e.TextureManager=class{constructor(at,ut,dt,ft){this.glContext=at,this.layoutStrategy=ut,this.profiler=dt,this.config=ft,this.pendingRead=new Map,ft.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(at,ut,dt,ft){const ht=this.toEncoderType(at),ct=this.glContext.getEncoder(ht,ut.channels||1,ft);if(ut.isPacked&&ft===1)throw new Error("not implemented");const lt=ut.width,ot=ut.height;let tt,rt;if(this.config.reuseTextures){tt=`${lt}x${ot}_${ct.format}_${ct.internalFormat}_${ct.textureType}`,rt=this.inUseTextures.get(tt),rt||(rt=[],this.inUseTextures.set(tt,rt));const pt=this.idleTextures.get(tt);if(pt&&pt.length>0){const gt=pt.pop();return rt.push(gt),ft===1&&this.glContext.updateTexture(gt,lt,ot,ct,this.toTextureData(at,dt)),gt}}it.Logger.verbose("TextureManager",`Creating new texture of size ${ut.width}x${ut.height}`);const st=this.glContext.allocateTexture(lt,ot,ct,this.toTextureData(at,dt));return this.config.reuseTextures&&(rt.push(st),this.textureLookup.set(st,tt)),st}readTexture(at,ut,dt){return dt||(dt=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const ft=at.shape.reduce((ct,lt)=>ct*lt)*dt,ht=this.glContext.readTexture(at.texture,at.width,at.height,ft,this.toEncoderType(ut),dt);return this.toTensorData(ut,ht)})}async readTextureAsync(at,ut,dt){const ft=at.tensor.dataId;if(dt||(dt=1),this.pendingRead.has(ft)){const ht=this.pendingRead.get(ft);return new Promise(ct=>ht==null?void 0:ht.push(ct))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(ft,[]);const ht=at.shape.reduce((tt,rt)=>tt*rt)*dt;await this.glContext.createAndWaitForFence();const ct=this.glContext.readTexture(at.texture,at.width,at.height,ht,this.toEncoderType(ut),dt),lt=this.toTensorData(ut,ct),ot=this.pendingRead.get(ft);return this.pendingRead.delete(ft),ot==null||ot.forEach(tt=>tt(lt)),lt})}readUint8TextureAsFloat(at){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const ut=at.shape.reduce((ft,ht)=>ft*ht),dt=this.glContext.readTexture(at.texture,at.width,at.height,4*ut,"byte",4);return new Float32Array(dt.buffer,dt.byteOffset,ut)})}releaseTexture(at,ut){let dt;if(this.config.reuseTextures&&(dt=this.textureLookup.get(at.texture),dt)){ut&&this.textureLookup.delete(dt);const ft=this.inUseTextures.get(dt);if(ft){const ht=ft.indexOf(at.texture);if(ht!==-1){ft.splice(ht,1);let ct=this.idleTextures.get(dt);ct||(ct=[],this.idleTextures.set(dt,ct)),ct.push(at.texture)}}}dt&&!ut||(it.Logger.verbose("TextureManager",`Deleting texture of size ${at.width}x${at.height}`),this.glContext.deleteTexture(at.texture))}toTensorData(at,ut){switch(at){case"int16":return ut instanceof Int16Array?ut:Int16Array.from(ut);case"int32":return ut instanceof Int32Array?ut:Int32Array.from(ut);case"int8":return ut instanceof Int8Array?ut:Int8Array.from(ut);case"uint16":return ut instanceof Uint16Array?ut:Uint16Array.from(ut);case"uint32":return ut instanceof Uint32Array?ut:Uint32Array.from(ut);case"uint8":case"bool":return ut instanceof Uint8Array?ut:Uint8Array.from(ut);case"float32":return ut instanceof Float32Array?ut:Float32Array.from(ut);case"float64":return ut instanceof Float64Array?ut:Float64Array.from(ut);default:throw new Error(`TensorData type ${at} is not supported`)}}toTextureData(at,ut){if(ut)return ut instanceof Float32Array?ut:new Float32Array(ut)}toEncoderType(at){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(et,_e)=>{var nt;Object.defineProperty(_e,"__esModule",{value:!0}),_e.TextureType=void 0,(nt=_e.TextureType||(_e.TextureType={}))[nt.unpacked=0]="unpacked",nt[nt.unpackedReversed=1]="unpackedReversed",nt[nt.packed=2]="packed",nt[nt.downloadUint8AsFloat=3]="downloadUint8AsFloat",nt[nt.packedLastDimension=4]="packedLastDimension"},432:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.getGlChannels=_e.getCoordsDataType=_e.getSqueezedParams=_e.squeezeInputShape=_e.generateShaderFuncNameFromInputSamplerNameAtOutCoords=_e.generateShaderFuncNameFromInputSamplerName=_e.repeatedTry=_e.getPackedShape=void 0;const it=nt(7273);_e.getPackedShape=function(at){const ut=at.length;return at.slice(0,ut-1).concat(at[ut-1]/4)},_e.repeatedTry=async function(at,ut=ft=>0,dt){return new Promise((ft,ht)=>{let ct=0;const lt=()=>{if(at())return void ft();ct++;const ot=ut(ct);dt!=null&&ct>=dt?ht():setTimeout(lt,ot)};lt()})},_e.generateShaderFuncNameFromInputSamplerName=function(at){return(0,it.assert)(at!==void 0&&at.length!==0,()=>"empty string found for sampler name"),"get"+at.charAt(0).toUpperCase()+at.slice(1)},_e.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(at){return(0,it.assert)(at!==void 0&&at.length!==0,()=>"empty string found for sampler name"),"get"+at.charAt(0).toUpperCase()+at.slice(1)+"AtOutCoords"},_e.squeezeInputShape=function(at,ut){let dt=JSON.parse(JSON.stringify(at));return dt=ut,dt},_e.getSqueezedParams=function(at,ut){return ut.map(dt=>at[dt]).join(", ")},_e.getCoordsDataType=function(at){if(at<=1)return"int";if(at===2)return"ivec2";if(at===3)return"ivec3";if(at===4)return"ivec4";if(at===5)return"ivec5";if(at===6)return"ivec6";throw Error(`GPU for rank ${at} is not yet supported`)},_e.getGlChannels=function(at=6){return["x","y","z","w","u","v"].slice(0,at)}},3389:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.createNewWebGLContext=_e.createWebGLContext=void 0;const it=nt(1315),at=nt(3524),ut={};function dt(ft,ht){let ct;const lt={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!ht||ht==="webgl2")&&(ct=ft.getContext("webgl2",lt),ct))try{return new at.WebGLContext(ct,2)}catch(ot){it.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${ot}`)}if((!ht||ht==="webgl")&&(ct=ft.getContext("webgl",lt)||ft.getContext("experimental-webgl",lt),ct))try{return new at.WebGLContext(ct,1)}catch(ot){it.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${ot}`)}throw new Error("WebGL is not supported")}_e.createWebGLContext=function ft(ht){let ct;if(ht&&ht!=="webgl2"||!("webgl2"in ut)?ht&&ht!=="webgl"||!("webgl"in ut)||(ct=ut.webgl):ct=ut.webgl2,!ct)try{ct=dt(function(){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create offscreen canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}(),ht)}catch{ct=dt(function(){if(typeof document>"u")throw new TypeError("failed to create canvas: document is not supported");const tt=document.createElement("canvas");return tt.width=1,tt.height=1,tt}(),ht)}ht=ht||ct.version===1?"webgl":"webgl2";const lt=ct.gl;return ut[ht]=ct,lt.isContextLost()?(delete ut[ht],ft(ht)):(lt.disable(lt.DEPTH_TEST),lt.disable(lt.STENCIL_TEST),lt.disable(lt.BLEND),lt.disable(lt.DITHER),lt.disable(lt.POLYGON_OFFSET_FILL),lt.disable(lt.SAMPLE_COVERAGE),lt.enable(lt.SCISSOR_TEST),lt.enable(lt.CULL_FACE),lt.cullFace(lt.BACK),ct)},_e.createNewWebGLContext=dt},3524:function(et,_e,nt){var it=this&&this.__createBinding||(Object.create?function(lt,ot,tt,rt){rt===void 0&&(rt=tt);var st=Object.getOwnPropertyDescriptor(ot,tt);st&&!("get"in st?!ot.__esModule:st.writable||st.configurable)||(st={enumerable:!0,get:function(){return ot[tt]}}),Object.defineProperty(lt,rt,st)}:function(lt,ot,tt,rt){rt===void 0&&(rt=tt),lt[rt]=ot[tt]}),at=this&&this.__setModuleDefault||(Object.create?function(lt,ot){Object.defineProperty(lt,"default",{enumerable:!0,value:ot})}:function(lt,ot){lt.default=ot}),ut=this&&this.__importStar||function(lt){if(lt&&lt.__esModule)return lt;var ot={};if(lt!=null)for(var tt in lt)tt!=="default"&&Object.prototype.hasOwnProperty.call(lt,tt)&&it(ot,lt,tt);return at(ot,lt),ot};Object.defineProperty(_e,"__esModule",{value:!0}),_e.WebGLContext=_e.linearSearchLastTrue=void 0;const dt=nt(2235),ft=ut(nt(9622)),ht=nt(432);function ct(lt){let ot=0;for(;ot<lt.length&&lt[ot]();++ot);return ot-1}_e.linearSearchLastTrue=ct,_e.WebGLContext=class{constructor(lt,ot){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=lt,this.version=ot,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(lt,ot,tt,rt){const st=this.gl,pt=st.createTexture();st.bindTexture(st.TEXTURE_2D,pt),st.texParameteri(st.TEXTURE_2D,st.TEXTURE_MIN_FILTER,st.NEAREST),st.texParameteri(st.TEXTURE_2D,st.TEXTURE_MAG_FILTER,st.NEAREST),st.texParameteri(st.TEXTURE_2D,st.TEXTURE_WRAP_S,st.CLAMP_TO_EDGE),st.texParameteri(st.TEXTURE_2D,st.TEXTURE_WRAP_T,st.CLAMP_TO_EDGE);const gt=rt?tt.encode(rt,lt*ot):null;return st.texImage2D(st.TEXTURE_2D,0,tt.internalFormat,lt,ot,0,tt.format,tt.textureType,gt),this.checkError(),pt}updateTexture(lt,ot,tt,rt,st){const pt=this.gl;pt.bindTexture(pt.TEXTURE_2D,lt);const gt=rt.encode(st,ot*tt);pt.texSubImage2D(pt.TEXTURE_2D,0,0,0,ot,tt,rt.format,rt.textureType,gt),this.checkError()}attachFramebuffer(lt,ot,tt){const rt=this.gl;rt.bindTexture(rt.TEXTURE_2D,lt),rt.bindFramebuffer(rt.FRAMEBUFFER,this.framebuffer),rt.framebufferTexture2D(rt.FRAMEBUFFER,rt.COLOR_ATTACHMENT0,rt.TEXTURE_2D,lt,0),this.checkError(),rt.viewport(0,0,ot,tt),rt.scissor(0,0,ot,tt)}readTexture(lt,ot,tt,rt,st,pt){const gt=this.gl;pt||(pt=1),this.frameBufferBound||this.attachFramebuffer(lt,ot,tt);const mt=this.getEncoder(st,pt),yt=mt.allocate(ot*tt);return gt.bindTexture(gt.TEXTURE_2D,lt),gt.framebufferTexture2D(gt.FRAMEBUFFER,gt.COLOR_ATTACHMENT0,gt.TEXTURE_2D,lt,0),gt.readPixels(0,0,ot,tt,gt.RGBA,mt.textureType,yt),this.checkError(),mt.decode(yt,rt)}isFramebufferReady(){return!0}getActiveTexture(){const lt=this.gl;return"TEXTURE"+(lt.getParameter(this.gl.ACTIVE_TEXTURE)-lt.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(lt,ot){const tt=this.gl;tt.vertexAttribPointer(lt,3,tt.FLOAT,!1,20,0),tt.enableVertexAttribArray(lt),ot!==-1&&(tt.vertexAttribPointer(ot,2,tt.FLOAT,!1,20,12),tt.enableVertexAttribArray(ot)),this.checkError()}createProgram(lt,ot){const tt=this.gl,rt=tt.createProgram();return tt.attachShader(rt,lt),tt.attachShader(rt,ot),tt.linkProgram(rt),rt}compileShader(lt,ot){const tt=this.gl,rt=tt.createShader(ot);if(!rt)throw new Error(`createShader() returned null with type ${ot}`);if(tt.shaderSource(rt,lt),tt.compileShader(rt),tt.getShaderParameter(rt,tt.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${tt.getShaderInfoLog(rt)}
Shader source:
${lt}`);return rt}deleteShader(lt){this.gl.deleteShader(lt)}bindTextureToUniform(lt,ot,tt){const rt=this.gl;rt.activeTexture(rt.TEXTURE0+ot),this.checkError(),rt.bindTexture(rt.TEXTURE_2D,lt),this.checkError(),rt.uniform1i(tt,ot),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(dt.env.debug){const lt=this.gl,ot=lt.getError();let tt="";switch(ot){case lt.NO_ERROR:return;case lt.INVALID_ENUM:tt="INVALID_ENUM";break;case lt.INVALID_VALUE:tt="INVALID_VALUE";break;case lt.INVALID_OPERATION:tt="INVALID_OPERATION";break;case lt.INVALID_FRAMEBUFFER_OPERATION:tt="INVALID_FRAMEBUFFER_OPERATION";break;case lt.OUT_OF_MEMORY:tt="OUT_OF_MEMORY";break;case lt.CONTEXT_LOST_WEBGL:tt="CONTEXT_LOST_WEBGL";break;default:tt=`Unknown WebGL Error: ${ot.toString(16)}`}throw new Error(tt)}}deleteTexture(lt){this.gl.deleteTexture(lt)}deleteProgram(lt){this.gl.deleteProgram(lt)}getEncoder(lt,ot,tt=0){if(this.version===2)return new ft.RedFloat32DataEncoder(this.gl,ot);switch(lt){case"float":return tt===1||this.isRenderFloat32Supported?new ft.RGBAFloatDataEncoder(this.gl,ot):new ft.RGBAFloatDataEncoder(this.gl,ot,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new ft.Uint8DataEncoder(this.gl,ot);default:throw new Error(`Invalid dataType: ${lt}`)}}clearActiveTextures(){const lt=this.gl;for(let ot=0;ot<this.maxTextureImageUnits;++ot)lt.activeTexture(lt.TEXTURE0+ot),lt.bindTexture(lt.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const lt=this.gl;lt.bindFramebuffer(lt.FRAMEBUFFER,null),lt.deleteFramebuffer(this.framebuffer),lt.bindBuffer(lt.ARRAY_BUFFER,null),lt.deleteBuffer(this.vertexbuffer),lt.bindBuffer(lt.ELEMENT_ARRAY_BUFFER,null),lt.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const lt=this.gl,ot=lt.createBuffer();if(!ot)throw new Error("createBuffer() returned null");const tt=this.createDefaultGeometry();return lt.bindBuffer(lt.ARRAY_BUFFER,ot),lt.bufferData(lt.ARRAY_BUFFER,tt,lt.STATIC_DRAW),this.checkError(),ot}createFramebuffer(){const lt=this.gl.createFramebuffer();if(!lt)throw new Error("createFramebuffer returned null");return lt}queryVitalParameters(){const lt=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=lt.getParameter(lt.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=lt.getParameter(lt.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const lt=this.gl,ot=lt.createTexture();lt.bindTexture(lt.TEXTURE_2D,ot);const tt=this.version===2?lt.RGBA32F:lt.RGBA;lt.texImage2D(lt.TEXTURE_2D,0,tt,1,1,0,lt.RGBA,lt.FLOAT,null);const rt=lt.createFramebuffer();lt.bindFramebuffer(lt.FRAMEBUFFER,rt),lt.framebufferTexture2D(lt.FRAMEBUFFER,lt.COLOR_ATTACHMENT0,lt.TEXTURE_2D,ot,0);const st=lt.checkFramebufferStatus(lt.FRAMEBUFFER)===lt.FRAMEBUFFER_COMPLETE;return lt.bindTexture(lt.TEXTURE_2D,null),lt.bindFramebuffer(lt.FRAMEBUFFER,null),lt.deleteTexture(ot),lt.deleteFramebuffer(rt),st}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const lt=this.gl;let ot,tt,rt,st,pt;try{ot=lt.createTexture(),tt=lt.createFramebuffer(),lt.bindTexture(lt.TEXTURE_2D,ot);const gt=this.version===2?lt.RGBA32F:lt.RGBA;return lt.texImage2D(lt.TEXTURE_2D,0,gt,1,1,0,lt.RGBA,lt.FLOAT,null),lt.bindFramebuffer(lt.FRAMEBUFFER,tt),lt.framebufferTexture2D(lt.FRAMEBUFFER,lt.COLOR_ATTACHMENT0,lt.TEXTURE_2D,ot,0),lt.enable(lt.BLEND),rt=lt.createShader(lt.VERTEX_SHADER),!!rt&&(lt.shaderSource(rt,"void main(){}"),lt.compileShader(rt),st=lt.createShader(lt.FRAGMENT_SHADER),!!st&&(lt.shaderSource(st,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),lt.compileShader(st),pt=lt.createProgram(),!!pt&&(lt.attachShader(pt,rt),lt.attachShader(pt,st),lt.linkProgram(pt),lt.useProgram(pt),lt.drawArrays(lt.POINTS,0,1),lt.getError()===lt.NO_ERROR)))}finally{lt.disable(lt.BLEND),pt&&lt.deleteProgram(pt),rt&&lt.deleteShader(rt),st&&lt.deleteShader(st),tt&&(lt.bindFramebuffer(lt.FRAMEBUFFER,null),lt.deleteFramebuffer(tt)),ot&&(lt.bindTexture(lt.TEXTURE_2D,null),lt.deleteTexture(ot))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const lt=this.gl,ot=this.disjointTimerQueryWebgl2Extension,tt=lt.createQuery();return lt.beginQuery(ot.TIME_ELAPSED_EXT,tt),tt}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const lt=this.gl,ot=this.disjointTimerQueryWebgl2Extension;lt.endQuery(ot.TIME_ELAPSED_EXT)}}isTimerResultAvailable(lt){let ot=!1,tt=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const rt=this.gl,st=this.disjointTimerQueryWebgl2Extension;ot=rt.getQueryParameter(lt,rt.QUERY_RESULT_AVAILABLE),tt=rt.getParameter(st.GPU_DISJOINT_EXT)}return ot&&!tt}getTimerResult(lt){let ot=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const tt=this.gl;ot=tt.getQueryParameter(lt,tt.QUERY_RESULT),tt.deleteQuery(lt)}return ot/1e6}async waitForQueryAndGetTime(lt){return await(0,ht.repeatedTry)(()=>this.isTimerResultAvailable(lt)),this.getTimerResult(lt)}async createAndWaitForFence(){const lt=this.createFence(this.gl);return this.pollFence(lt)}createFence(lt){let ot;const tt=lt,rt=tt.fenceSync(tt.SYNC_GPU_COMMANDS_COMPLETE,0);return lt.flush(),ot=rt===null?()=>!0:()=>{const st=tt.clientWaitSync(rt,0,0);return st===tt.ALREADY_SIGNALED||st===tt.CONDITION_SATISFIED},{query:rt,isFencePassed:ot}}async pollFence(lt){return new Promise(ot=>{this.addItemToPoll(()=>lt.isFencePassed(),()=>ot())})}pollItems(){const lt=ct(this.itemsToPoll.map(ot=>ot.isDoneFn));for(let ot=0;ot<=lt;++ot){const{resolveFn:tt}=this.itemsToPoll[ot];tt()}this.itemsToPoll=this.itemsToPoll.slice(lt+1)}async addItemToPoll(lt,ot){this.itemsToPoll.push({isDoneFn:lt,resolveFn:ot}),this.itemsToPoll.length>1||await(0,ht.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},6496:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.ExecutionPlan=void 0;const it=nt(1315);class at{constructor(dt,ft){this.op=dt,this.node=ft}}_e.ExecutionPlan=class{constructor(ut,dt,ft){this.graph=ut,this.profiler=ft,this.initialize(dt)}initialize(ut){this.profiler.event("session","ExecutionPlan.initialize",()=>{const dt=this.graph.getNodes();if(dt.length!==ut.length)throw new Error("The size of nodes and OPs do not match.");this._ops=ut.map((ft,ht)=>new at(ft,dt[ht])),this.reset(),this._starter=[],this._ops.forEach((ft,ht)=>{let ct=!0;for(const lt of ft.node.inputs)if(!this._values[lt]&&this.graph.getInputIndices().indexOf(lt)===-1){ct=!1;break}ct&&this._starter.push(ht)})})}reset(){this._values=this.graph.getValues().map(ut=>ut.tensor)}async execute(ut,dt){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const ft=ut.createInferenceHandler(),ht=this.graph.getInputIndices();if(dt.length!==ht.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${dt.length} expected: ${ht.length}`);dt.forEach((st,pt)=>{const gt=ht[pt];this._values[gt]=st});const ct=this._starter.slice(0),lt=this.graph.getValues(),ot=this.graph.getNodes();let tt=0;for(;tt<ct.length;){const st=ct[tt++],pt=this._ops[st],gt=pt.node.inputs.map(vt=>this._values[vt]);if(gt.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${pt.node}`);const mt=gt;it.Logger.verbose("ExecPlan",`Runing op:${pt.node.name} (${mt.map((vt,wt)=>`'${pt.node.inputs[wt]}': ${vt.type}[${vt.dims.join(",")}]`).join(", ")})`);const yt=await this.profiler.event("node",pt.node.name,async()=>pt.op.impl(ft,mt,pt.op.context));if(yt.length!==pt.node.outputs.length)throw new Error("the size of output does not match model definition.");yt.forEach((vt,wt)=>{const xt=pt.node.outputs[wt];if(this._values[xt])throw new Error(`output [${xt}] already has value: op:${pt.node.name}`);this._values[xt]=vt});const bt=new Set;yt.forEach((vt,wt)=>{const xt=pt.node.outputs[wt];for(const Tt of lt[xt].to){const Ot=ot[Tt];let $t=!0;for(const It of Ot.inputs)if(!this._values[It]){$t=!1;break}$t&&bt.add(Tt)}}),ct.push(...bt)}const rt=[];for(let st=0;st<this.graph.getOutputIndices().length;st++){const pt=this.graph.getOutputIndices()[st],gt=this._values[pt];if(gt===void 0)throw new Error(`required output [${pt}] does not have value`);pt===0?await gt.getData():gt.data,rt.push(gt)}return it.Logger.verbose("ExecPlan","disposing of inferenceHandler"),ft.dispose(),rt})}}},4662:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Graph=void 0;const it=nt(6874),at=nt(5127),ut=nt(2446),dt=nt(9240),ft=nt(7273);var ht=at.onnxruntime.experimental.fbs;_e.Graph={from:(tt,rt)=>new ot(tt,rt)};class ct{constructor(rt){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,rt&&(this.type=ft.ProtoUtil.tensorValueTypeFromProto(rt.type.tensorType))}get from(){return this._from}get to(){return this._to}}class lt{constructor(rt,st){rt instanceof ut.onnx.NodeProto?(this.name=rt.name,this.opType=rt.opType,this.attributes=new it.Attribute(rt.attribute)):rt instanceof ht.Node&&(this.name=st??rt.name(),this.opType=rt.opType(),this.attributes=new it.Attribute(ft.ProtoUtil.tensorAttributesFromORTFormat(rt))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class ot{constructor(rt,st){if(!rt)throw new TypeError("graph is empty");this.buildGraph(rt),this.transformGraph(st),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(rt){if(rt instanceof ut.onnx.GraphProto)this.buildGraphFromOnnxFormat(rt);else{if(!(rt instanceof ht.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(rt)}}buildGraphFromOnnxFormat(rt){const st=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const pt=new Map;if(!rt.input)throw new Error("missing information in graph: input");const gt=[];for(const mt of rt.input){if(st.has(mt.name))throw new Error(`duplicated input name: ${mt.name}`);const yt=this._allData.push(new ct(mt))-1;st.set(mt.name,yt),gt.push(mt.name)}if(!rt.initializer)throw new Error("missing information in graph: initializer");for(const mt of rt.initializer){let yt=st.get(mt.name);if(yt===void 0){const bt=new ct;bt.type={shape:{dims:ft.ProtoUtil.tensorDimsFromProto(mt.dims)},tensorType:ft.ProtoUtil.tensorDataTypeFromProto(mt.dataType)},yt=this._allData.push(bt)-1,st.set(mt.name,yt)}this._allData[yt]._from=-1,this._allData[yt].tensor=dt.Tensor.fromProto(mt)}for(let mt=0;mt<this._allData.length;mt++)this._allData[mt].tensor||(this._allInputIndices.push(mt),this._allInputNames.push(gt[mt]));if(!rt.output)throw new Error("missing information in graph: output");for(const mt of rt.output){if(st.has(mt.name))throw new Error(`duplicated output name: ${mt.name}`);const yt=this._allData.push(new ct(mt))-1;st.set(mt.name,yt),this._allOutputIndices.push(yt),this._allOutputNames.push(mt.name)}if(!rt.node)throw new Error("missing information in graph: node");for(const mt of rt.node){if(!mt.name)for(let bt=0;;bt++){const vt=`unnamed_${mt.opType}_${bt}`;if(!pt.has(vt)){mt.name=vt;break}}if(pt.has(mt.name))throw new Error(`duplicated node name: ${mt.name}`);const yt=this._nodes.push(new lt(mt))-1;pt.set(mt.name,yt)}for(let mt=0;mt<this._nodes.length;mt++){const yt=this._nodes[mt],bt=rt.node[mt];if(!bt.output)throw new Error(`missing output for node: ${bt.name}`);for(const vt of bt.output){let wt=st.get(vt);if(wt===void 0&&(wt=this._allData.push(new ct)-1,st.set(vt,wt)),yt.outputs.push(wt),this._allData[wt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${wt}`);if(this._allData[wt]._from=mt,bt.opType==="Constant"){if(!bt.attribute||bt.attribute.length!==1||!bt.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!bt.output||bt.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");yt.outputs.pop(),yt.executeNode=!1,this._allData[wt]._from=-1,this._allData[wt].tensor=dt.Tensor.fromProto(bt.attribute[0].t)}}}for(let mt=0;mt<this._nodes.length;mt++){const yt=this._nodes[mt],bt=rt.node[mt];if(!bt.input)throw new Error(`missing input for node: ${bt.name}`);for(const vt of bt.input){const wt=st.get(vt);if(wt===void 0){if(vt===""&&(bt.input.length===3||bt.input.length===4)&&bt.opType==="Resize")continue;throw new Error(`unrecognized input '${vt}' for node: ${bt.name}`)}yt.inputs.push(wt),this._allData[wt]._to.push(mt)}}return!0}buildGraphFromOrtFormat(rt){var st,pt,gt;const mt=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const yt=new Map,bt=[];for(let vt=0;vt<rt.inputsLength();vt++){const wt=rt.inputs(vt);if(mt.has(wt))throw new Error(`duplicated input name: ${wt}`);for(let xt=0;xt<rt.nodeArgsLength();xt++)if(((st=rt.nodeArgs(xt))===null||st===void 0?void 0:st.name())===wt){const Tt=new ct;if(((gt=(pt=rt.nodeArgs(xt))===null||pt===void 0?void 0:pt.type())===null||gt===void 0?void 0:gt.valueType())!==ht.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const Ot=rt.nodeArgs(xt).type().value(new ht.TensorTypeAndShape),$t=ft.ProtoUtil.tensorDataTypeFromProto(Ot.elemType()),It=Ot.shape(),Rt=[];for(let Pt=0;Pt<It.dimLength();Pt++)Rt.push(ft.LongUtil.longToNumber(It.dim(Pt).value().dimValue()));Tt.type={shape:{dims:Rt},tensorType:$t};const Ft=this._allData.push(Tt)-1;mt.set(wt,Ft),bt.push(wt)}}for(let vt=0;vt<rt.initializersLength();vt++){const wt=rt.initializers(vt);let xt=mt.get(wt.name());if(xt===void 0){const Tt=new ct,Ot=ft.ProtoUtil.tensorDimsFromORTFormat(wt),$t=ft.ProtoUtil.tensorDataTypeFromProto(wt.dataType());Tt.type={shape:{dims:Ot},tensorType:$t},xt=this._allData.push(Tt)-1,mt.set(wt.name(),xt)}this._allData[xt]._from=-1,this._allData[xt].tensor=dt.Tensor.fromOrtTensor(wt)}for(let vt=0;vt<this._allData.length;vt++)this._allData[vt].tensor||(this._allInputIndices.push(vt),this._allInputNames.push(bt[vt]));for(let vt=0;vt<rt.outputsLength();vt++){const wt=rt.outputs(vt);if(mt.has(wt))throw new Error(`duplicated output name: ${wt}`);const xt=this._allData.push(new ct)-1;mt.set(wt,xt),this._allOutputIndices.push(xt),this._allOutputNames.push(wt)}if(!rt.nodes)throw new Error("missing information in graph: node");for(let vt=0;vt<rt.nodesLength();vt++){const wt=rt.nodes(vt);let xt=wt.name();if(!xt)for(let Ot=0;xt=`unnamed_${wt.opType()}_${Ot}`,yt.has(xt);Ot++);if(yt.has(xt))throw new Error(`duplicated node name: ${xt}`);const Tt=this._nodes.push(new lt(wt,xt))-1;yt.set(xt,Tt)}for(let vt=0;vt<this._nodes.length;vt++){const wt=this._nodes[vt],xt=rt.nodes(vt);if(xt==null)throw new Error(`No node exists at index ${vt}`);if((xt==null?void 0:xt.outputsLength())===0)throw new Error(`missing output for node: ${xt.name}`);for(let Tt=0;Tt<(xt==null?void 0:xt.outputsLength());Tt++){const Ot=xt==null?void 0:xt.outputs(Tt);let $t=mt.get(Ot);if($t===void 0&&($t=this._allData.push(new ct)-1,mt.set(Ot,$t)),wt.outputs.push($t),this._allData[$t]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${$t}`);if(this._allData[$t]._from=vt,xt.opType()==="Constant"){if(xt.attributesLength()!==1||!xt.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(xt.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");wt.outputs.pop(),wt.executeNode=!1,this._allData[$t]._from=-1,this._allData[$t].tensor=dt.Tensor.fromOrtTensor(xt.attributes(0).t())}}}for(let vt=0;vt<this._nodes.length;vt++){const wt=this._nodes[vt],xt=rt.nodes(vt);if(xt.inputsLength()===0)throw new Error(`missing input for node: ${xt.name}`);for(let Tt=0;Tt<xt.inputsLength();Tt++){const Ot=xt.inputs(Tt),$t=mt.get(Ot);if($t===void 0)throw new Error(`unrecognized input '${Ot}' for node: ${xt.name()}`);wt.inputs.push($t),this._allData[$t]._to.push(vt)}}}checkIsAcyclic(){const rt=new Set;this._allInputIndices.forEach(gt=>{this._allData[gt]._to.forEach(mt=>{rt.add(mt)})});const st=Array.from(rt),pt=new Array(this._nodes.length).fill("white");for(;st.length>0;){const gt=st.pop();pt[gt]==="gray"?pt[gt]="black":(st.push(gt),pt[gt]="gray",this._nodes[gt].outputs.forEach(mt=>{const yt=this._allData[mt];if(yt.tensor!==void 0)throw new Error("node outputs should not be initialized");if(yt._from!==gt)throw new Error("from property of the Value object doesn't match index of Node being processed");yt._to.forEach(bt=>{if(pt[bt]==="gray")throw new Error("model graph is cyclic");pt[bt]==="white"&&st.push(bt)})}))}}transformGraph(rt){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),rt&&rt.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let rt=0;const st=new Array(this._nodes.length,0);let pt=0;for(let gt=0;gt<this._nodes.length;gt++)st[gt]=pt,this._nodes[gt].executeNode?(pt!==gt&&(this._nodes[pt]=this._nodes[gt]),pt++):this._nodes[gt].outputs.forEach(mt=>{this._allData[mt]._from=-2});this._nodes.splice(pt,this._nodes.length-pt);for(let gt=0;gt<this._allData.length;gt++){const mt=this._allData[gt];mt._from!==void 0&&mt._from!==-1&&mt._from!==-2&&(mt._from=st[mt._from]);for(let yt=0;yt<mt._to.length;yt++){if(!(mt._to[yt]>=0))throw new Error("Trying to update a removed node");mt._to[yt]=st[mt._to[yt]]}}rt=0;for(let gt=0;gt<this._allData.length;gt++)if(this._allData[gt].from!==-2||this._allOutputIndices.indexOf(gt+rt)!==-1){if(rt>0){let mt=-1;this._allData[gt].from!==void 0&&this._allData[gt].from!==-1?(mt=this._nodes[this._allData[gt].from].outputs.indexOf(gt+rt),mt!==-1&&(this._nodes[this._allData[gt].from].outputs[mt]=gt)):(mt=this._allInputIndices.indexOf(gt+rt),mt!==-1&&(this._allInputIndices[mt]=gt)),this._allData[gt].to.forEach(yt=>{mt=this._nodes[yt].inputs.indexOf(gt+rt),mt!==-1&&(this._nodes[yt].inputs[mt]=gt)}),this._allData[gt].to.length===0&&(mt=this._allOutputIndices.indexOf(gt+rt),mt!==-1&&(this._allOutputIndices[mt]=gt))}}else rt++,this._allData.splice(gt,1),gt--}deleteNode(rt){const st=this._nodes[rt];if(st.outputs.length>1){for(let bt=1;bt<st.outputs.length;bt++)if(this._allData[st.outputs[bt]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}st.executeNode=!1;const pt=st.inputs[0],gt=st.outputs[0],mt=this._allData[gt].to;for(let bt=0;bt<st.inputs.length;bt++){const vt=this._allData[st.inputs[bt]].to.indexOf(rt);if(vt===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[st.inputs[bt]].to.splice(vt,1)}this._allData[gt]._to=[];const yt=this._allOutputIndices.indexOf(gt);if(yt!==-1&&(this._allOutputIndices[yt]=pt),mt&&mt.length>0)for(const bt of mt){const vt=this._nodes[bt].inputs.indexOf(gt);if(vt===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[bt].inputs[vt]=pt,this._allData[pt].to.push(bt)}}removeAllDropoutNodes(){let rt=0;for(const st of this._nodes){if(st.opType==="Dropout"){if(st.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(st.outputs.length!==1&&st.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(st.outputs.length===2&&this._allData[st.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(rt)}rt++}}removeAllIdentityNodes(){let rt=0;for(const st of this._nodes)st.opType==="Identity"&&this.deleteNode(rt),rt++}isActivation(rt){switch(rt.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const rt of this._nodes)if(rt.opType==="Conv"){const st=this._allData[rt.outputs[0]]._to;if(st.length===1&&this.isActivation(this._nodes[st[0]])){const pt=this._nodes[st[0]];if(pt.opType==="Clip")if(pt.inputs.length===1)try{rt.attributes.set("activation_params","floats",[pt.attributes.getFloat("min"),pt.attributes.getFloat("max")])}catch{rt.attributes.set("activation_params","floats",[ft.MIN_CLIP,ft.MAX_CLIP])}else{if(!(pt.inputs.length>=3&&this._allData[pt.inputs[1]].tensor!==void 0&&this._allData[pt.inputs[2]].tensor!==void 0))continue;rt.attributes.set("activation_params","floats",[this._allData[pt.inputs[1]].tensor.floatData[0],this._allData[pt.inputs[2]].tensor.floatData[0]])}rt.attributes.set("activation","string",pt.opType),this.deleteNode(st[0])}}}}},1315:(et,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.now=_e.Profiler=_e.Logger=void 0;const nt={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},it={none:new class{log(lt,ot,tt){}},console:new class{log(lt,ot,tt){console.log(`${this.color(lt)} ${tt?"\x1B[35m"+tt+"\x1B[0m ":""}${ot}`)}color(lt){switch(lt){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${lt}`)}}}},at={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let ut={"":at};function dt(lt,ot,tt,rt){if(ot===void 0)return st=lt,{verbose:dt.verbose.bind(null,st),info:dt.info.bind(null,st),warning:dt.warning.bind(null,st),error:dt.error.bind(null,st),fatal:dt.fatal.bind(null,st)};if(tt===void 0)ft(lt,ot);else if(typeof tt=="number"&&rt===void 0)ft(lt,ot);else if(typeof tt=="string"&&rt===void 0)ft(lt,tt,0,ot);else{if(typeof tt!="string"||typeof rt!="number")throw new TypeError("input is valid");ft(lt,tt,0,ot)}var st}function ft(lt,ot,tt,rt){const st=ut[rt||""]||ut[""];nt[lt]<nt[st.minimalSeverity]||(st.logDateTime&&(ot=`${new Date().toISOString()}|${ot}`),st.logSourceLocation,it[st.provider].log(lt,ot,rt))}(function(lt){function ot(rt){ut={},tt("",rt||{})}function tt(rt,st){if(rt==="*")ot(st);else{const pt=ut[rt]||at;ut[rt]={provider:st.provider||pt.provider,minimalSeverity:st.minimalSeverity||pt.minimalSeverity,logDateTime:st.logDateTime===void 0?pt.logDateTime:st.logDateTime,logSourceLocation:st.logSourceLocation===void 0?pt.logSourceLocation:st.logSourceLocation}}}lt.verbose=function(rt,st){lt("verbose",rt,st)},lt.info=function(rt,st){lt("info",rt,st)},lt.warning=function(rt,st){lt("warning",rt,st)},lt.error=function(rt,st){lt("error",rt,st)},lt.fatal=function(rt,st){lt("fatal",rt,st)},lt.reset=ot,lt.set=tt,lt.setWithEnv=function(rt){const st={};rt.logLevel&&(st.minimalSeverity=rt.logLevel),tt("",st)}})(dt||(dt={})),_e.Logger=dt;class ht{constructor(ot,tt,rt,st,pt,gt){this.category=ot,this.name=tt,this.startTime=rt,this.endCallback=st,this.timer=pt,this.ctx=gt}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class ct{constructor(ot,tt,rt,st){this.category=ot,this.name=tt,this.startTime=rt,this.endTime=st}}_e.Profiler=class{static create(lt){return lt===void 0?new this:new this(lt.maxNumberEvents,lt.flushBatchSize,lt.flushIntervalInMilliseconds)}constructor(lt,ot,tt){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=lt===void 0?1e4:lt,this._flushBatchSize=ot===void 0?10:ot,this._flushIntervalInMilliseconds=tt===void 0?5e3:tt}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,_e.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(lt,ot,tt,rt){const st=this._started?this.begin(lt,ot,rt):void 0;let pt=!1;const gt=tt();if(gt&&typeof gt.then=="function")return pt=!0,new Promise((mt,yt)=>{gt.then(async bt=>{st&&await st.end(),mt(bt)},async bt=>{st&&await st.end(),yt(bt)})});if(!pt&&st){const mt=st.end();if(mt&&typeof mt.then=="function")return new Promise((yt,bt)=>{mt.then(()=>{yt(gt)},vt=>{bt(vt)})})}return gt}begin(lt,ot,tt){if(!this._started)throw new Error("profiler is not started yet");if(tt===void 0){const rt=(0,_e.now)();return this.flush(rt),new ht(lt,ot,rt,st=>this.endSync(st))}{const rt=tt.beginTimer();return new ht(lt,ot,0,async st=>this.end(st),rt,tt)}}async end(lt){const ot=await lt.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ct(lt.category,lt.name,lt.startTime,ot)),this.flush(ot))}endSync(lt){const ot=(0,_e.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ct(lt.category,lt.name,lt.startTime,ot)),this.flush(ot))}logOneEvent(lt){_e.Logger.verbose(`Profiler.${lt.category}`,`${(lt.endTime-lt.startTime).toFixed(2)}ms on event '${lt.name}' at ${lt.endTime.toFixed(2)}`)}flush(lt){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||lt-this._flushTime>=this._flushIntervalInMilliseconds){for(const ot=this._flushPointer;this._flushPointer<ot+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,_e.now)()}}get started(){return this._started}},_e.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},1745:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Model=void 0;const it=nt(5686),at=nt(4662),ut=nt(5127),dt=nt(2446),ft=nt(7273);var ht=ut.onnxruntime.experimental.fbs;_e.Model=class{constructor(){}load(ct,lt,ot){if(!ot)try{return void this.loadFromOnnxFormat(ct,lt)}catch(tt){if(ot!==void 0)throw tt}this.loadFromOrtFormat(ct,lt)}loadFromOnnxFormat(ct,lt){const ot=dt.onnx.ModelProto.decode(ct);if(ft.LongUtil.longToNumber(ot.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=ot.opsetImport.map(tt=>({domain:tt.domain,version:ft.LongUtil.longToNumber(tt.version)})),this._graph=at.Graph.from(ot.graph,lt)}loadFromOrtFormat(ct,lt){const ot=new it.flatbuffers.ByteBuffer(ct),tt=ht.InferenceSession.getRootAsInferenceSession(ot).model();if(ft.LongUtil.longToNumber(tt.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let rt=0;rt<tt.opsetImportLength();rt++){const st=tt.opsetImport(rt);this._opsets.push({domain:st==null?void 0:st.domain(),version:ft.LongUtil.longToNumber(st.version())})}this._graph=at.Graph.from(tt.graph(),lt)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(et,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.FLOAT_TYPES=_e.INT_TYPES=_e.NUMBER_TYPES=void 0,_e.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],_e.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],_e.FLOAT_TYPES=["float32","float64"]},5881:(et,_e)=>{function nt(it,at){if(at.endsWith("+")){const ut=Number.parseInt(at.substring(0,at.length-1),10);return!isNaN(ut)&&ut<=it}if(at.split("-").length===2){const ut=at.split("-"),dt=Number.parseInt(ut[0],10),ft=Number.parseInt(ut[1],10);return!isNaN(dt)&&!isNaN(ft)&&dt<=it&&it<=ft}return Number.parseInt(at,10)===it}Object.defineProperty(_e,"__esModule",{value:!0}),_e.resolveOperator=void 0,_e.resolveOperator=function(it,at,ut){for(const dt of ut){const ft=dt[0],ht=dt[1],ct=dt[2],lt=dt[3],ot=dt[4];if(it.opType===ft){for(const tt of at)if((tt.domain===ht||tt.domain==="ai.onnx"&&ht==="")&&nt(tt.version,ct))return{opImpl:lt,opInit:ot}}}throw new TypeError(`cannot resolve operator '${it.opType}' with opsets: ${at.map(dt=>`${dt.domain||"ai.onnx"} v${dt.version}`).join(", ")}`)}},5127:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.onnxruntime=void 0;const it=nt(5686);var at,ut;at=_e.onnxruntime||(_e.onnxruntime={}),function(dt){(function(ft){ft[ft.UNDEFINED=0]="UNDEFINED",ft[ft.FLOAT=1]="FLOAT",ft[ft.INT=2]="INT",ft[ft.STRING=3]="STRING",ft[ft.TENSOR=4]="TENSOR",ft[ft.GRAPH=5]="GRAPH",ft[ft.FLOATS=6]="FLOATS",ft[ft.INTS=7]="INTS",ft[ft.STRINGS=8]="STRINGS",ft[ft.TENSORS=9]="TENSORS",ft[ft.GRAPHS=10]="GRAPHS",ft[ft.SPARSE_TENSOR=11]="SPARSE_TENSOR",ft[ft.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(dt.AttributeType||(dt.AttributeType={}))}((ut=at.experimental||(at.experimental={})).fbs||(ut.fbs={})),function(dt){(function(ft){(function(ht){(function(ct){ct[ct.UNKNOWN=0]="UNKNOWN",ct[ct.VALUE=1]="VALUE",ct[ct.PARAM=2]="PARAM"})(ht.DimensionValueType||(ht.DimensionValueType={}))})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){(function(ct){ct[ct.UNDEFINED=0]="UNDEFINED",ct[ct.FLOAT=1]="FLOAT",ct[ct.UINT8=2]="UINT8",ct[ct.INT8=3]="INT8",ct[ct.UINT16=4]="UINT16",ct[ct.INT16=5]="INT16",ct[ct.INT32=6]="INT32",ct[ct.INT64=7]="INT64",ct[ct.STRING=8]="STRING",ct[ct.BOOL=9]="BOOL",ct[ct.FLOAT16=10]="FLOAT16",ct[ct.DOUBLE=11]="DOUBLE",ct[ct.UINT32=12]="UINT32",ct[ct.UINT64=13]="UINT64",ct[ct.COMPLEX64=14]="COMPLEX64",ct[ct.COMPLEX128=15]="COMPLEX128",ct[ct.BFLOAT16=16]="BFLOAT16",ct[ct.FLOAT8E4M3FN=17]="FLOAT8E4M3FN",ct[ct.FLOAT8E4M3FNUZ=18]="FLOAT8E4M3FNUZ",ct[ct.FLOAT8E5M2=19]="FLOAT8E5M2",ct[ct.FLOAT8E5M2FNUZ=20]="FLOAT8E5M2FNUZ"})(ht.TensorDataType||(ht.TensorDataType={}))})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){(function(ct){ct[ct.Primitive=0]="Primitive",ct[ct.Fused=1]="Fused"})(ht.NodeType||(ht.NodeType={}))})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){(function(ct){ct[ct.NONE=0]="NONE",ct[ct.tensor_type=1]="tensor_type",ct[ct.sequence_type=2]="sequence_type",ct[ct.map_type=3]="map_type"})(ht.TypeInfoValue||(ht.TypeInfoValue={}))})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsShape(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsShape(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}dim(ot,tt){let rt=this.bb.__offset(this.bb_pos,4);return rt?(tt||new dt.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*ot),this.bb):null}dimLength(){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.__vector_len(this.bb_pos+ot):0}static startShape(ot){ot.startObject(1)}static addDim(ot,tt){ot.addFieldOffset(0,tt,0)}static createDimVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startDimVector(ot,tt){ot.startVector(4,tt,4)}static endShape(ot){return ot.endObject()}static createShape(ot,tt){return ct.startShape(ot),ct.addDim(ot,tt),ct.endShape(ot)}}ht.Shape=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsDimension(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsDimension(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}value(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?(ot||new dt.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}denotation(ot){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.__string(this.bb_pos+tt,ot):null}static startDimension(ot){ot.startObject(2)}static addValue(ot,tt){ot.addFieldOffset(0,tt,0)}static addDenotation(ot,tt){ot.addFieldOffset(1,tt,0)}static endDimension(ot){return ot.endObject()}static createDimension(ot,tt,rt){return ct.startDimension(ot),ct.addValue(ot,tt),ct.addDenotation(ot,rt),ct.endDimension(ot)}}ht.Dimension=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsDimensionValue(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsDimensionValue(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}dimType(){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.readInt8(this.bb_pos+ot):dt.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.readInt64(this.bb_pos+ot):this.bb.createLong(0,0)}dimParam(ot){let tt=this.bb.__offset(this.bb_pos,8);return tt?this.bb.__string(this.bb_pos+tt,ot):null}static startDimensionValue(ot){ot.startObject(3)}static addDimType(ot,tt){ot.addFieldInt8(0,tt,dt.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(ot,tt){ot.addFieldInt64(1,tt,ot.createLong(0,0))}static addDimParam(ot,tt){ot.addFieldOffset(2,tt,0)}static endDimensionValue(ot){return ot.endObject()}static createDimensionValue(ot,tt,rt,st){return ct.startDimensionValue(ot),ct.addDimType(ot,tt),ct.addDimValue(ot,rt),ct.addDimParam(ot,st),ct.endDimensionValue(ot)}}ht.DimensionValue=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsTensorTypeAndShape(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsTensorTypeAndShape(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}elemType(){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.readInt32(this.bb_pos+ot):dt.experimental.fbs.TensorDataType.UNDEFINED}shape(ot){let tt=this.bb.__offset(this.bb_pos,6);return tt?(ot||new dt.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}static startTensorTypeAndShape(ot){ot.startObject(2)}static addElemType(ot,tt){ot.addFieldInt32(0,tt,dt.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(ot,tt){ot.addFieldOffset(1,tt,0)}static endTensorTypeAndShape(ot){return ot.endObject()}static createTensorTypeAndShape(ot,tt,rt){return ct.startTensorTypeAndShape(ot),ct.addElemType(ot,tt),ct.addShape(ot,rt),ct.endTensorTypeAndShape(ot)}}ht.TensorTypeAndShape=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsMapType(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsMapType(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}keyType(){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.readInt32(this.bb_pos+ot):dt.experimental.fbs.TensorDataType.UNDEFINED}valueType(ot){let tt=this.bb.__offset(this.bb_pos,6);return tt?(ot||new dt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}static startMapType(ot){ot.startObject(2)}static addKeyType(ot,tt){ot.addFieldInt32(0,tt,dt.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(ot,tt){ot.addFieldOffset(1,tt,0)}static endMapType(ot){return ot.endObject()}static createMapType(ot,tt,rt){return ct.startMapType(ot),ct.addKeyType(ot,tt),ct.addValueType(ot,rt),ct.endMapType(ot)}}ht.MapType=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsSequenceType(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsSequenceType(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}elemType(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?(ot||new dt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}static startSequenceType(ot){ot.startObject(1)}static addElemType(ot,tt){ot.addFieldOffset(0,tt,0)}static endSequenceType(ot){return ot.endObject()}static createSequenceType(ot,tt){return ct.startSequenceType(ot),ct.addElemType(ot,tt),ct.endSequenceType(ot)}}ht.SequenceType=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(ft.fbs||(ft.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(ht,ct){return this.bb_pos=ht,this.bb=ct,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(ht,ct,lt,ot){return ht.prep(4,12),ht.writeInt32(ot),ht.writeInt32(lt),ht.writeInt32(ct),ht.offset()}}})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsNodeEdge(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsNodeEdge(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}nodeIndex(){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.readUint32(this.bb_pos+ot):0}inputEdges(ot,tt){let rt=this.bb.__offset(this.bb_pos,6);return rt?(tt||new dt.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+rt)+12*ot,this.bb):null}inputEdgesLength(){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.__vector_len(this.bb_pos+ot):0}outputEdges(ot,tt){let rt=this.bb.__offset(this.bb_pos,8);return rt?(tt||new dt.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+rt)+12*ot,this.bb):null}outputEdgesLength(){let ot=this.bb.__offset(this.bb_pos,8);return ot?this.bb.__vector_len(this.bb_pos+ot):0}static startNodeEdge(ot){ot.startObject(3)}static addNodeIndex(ot,tt){ot.addFieldInt32(0,tt,0)}static addInputEdges(ot,tt){ot.addFieldOffset(1,tt,0)}static startInputEdgesVector(ot,tt){ot.startVector(12,tt,4)}static addOutputEdges(ot,tt){ot.addFieldOffset(2,tt,0)}static startOutputEdgesVector(ot,tt){ot.startVector(12,tt,4)}static endNodeEdge(ot){return ot.endObject()}static createNodeEdge(ot,tt,rt,st){return ct.startNodeEdge(ot),ct.addNodeIndex(ot,tt),ct.addInputEdges(ot,rt),ct.addOutputEdges(ot,st),ct.endNodeEdge(ot)}}ht.NodeEdge=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsNode(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsNode(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}name(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.__string(this.bb_pos+tt,ot):null}docString(ot){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.__string(this.bb_pos+tt,ot):null}domain(ot){let tt=this.bb.__offset(this.bb_pos,8);return tt?this.bb.__string(this.bb_pos+tt,ot):null}sinceVersion(){let ot=this.bb.__offset(this.bb_pos,10);return ot?this.bb.readInt32(this.bb_pos+ot):0}index(){let ot=this.bb.__offset(this.bb_pos,12);return ot?this.bb.readUint32(this.bb_pos+ot):0}opType(ot){let tt=this.bb.__offset(this.bb_pos,14);return tt?this.bb.__string(this.bb_pos+tt,ot):null}type(){let ot=this.bb.__offset(this.bb_pos,16);return ot?this.bb.readInt32(this.bb_pos+ot):dt.experimental.fbs.NodeType.Primitive}executionProviderType(ot){let tt=this.bb.__offset(this.bb_pos,18);return tt?this.bb.__string(this.bb_pos+tt,ot):null}inputs(ot,tt){let rt=this.bb.__offset(this.bb_pos,20);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*ot,tt):null}inputsLength(){let ot=this.bb.__offset(this.bb_pos,20);return ot?this.bb.__vector_len(this.bb_pos+ot):0}outputs(ot,tt){let rt=this.bb.__offset(this.bb_pos,22);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*ot,tt):null}outputsLength(){let ot=this.bb.__offset(this.bb_pos,22);return ot?this.bb.__vector_len(this.bb_pos+ot):0}attributes(ot,tt){let rt=this.bb.__offset(this.bb_pos,24);return rt?(tt||new dt.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*ot),this.bb):null}attributesLength(){let ot=this.bb.__offset(this.bb_pos,24);return ot?this.bb.__vector_len(this.bb_pos+ot):0}inputArgCounts(ot){let tt=this.bb.__offset(this.bb_pos,26);return tt?this.bb.readInt32(this.bb.__vector(this.bb_pos+tt)+4*ot):0}inputArgCountsLength(){let ot=this.bb.__offset(this.bb_pos,26);return ot?this.bb.__vector_len(this.bb_pos+ot):0}inputArgCountsArray(){let ot=this.bb.__offset(this.bb_pos,26);return ot?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+ot),this.bb.__vector_len(this.bb_pos+ot)):null}implicitInputs(ot,tt){let rt=this.bb.__offset(this.bb_pos,28);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*ot,tt):null}implicitInputsLength(){let ot=this.bb.__offset(this.bb_pos,28);return ot?this.bb.__vector_len(this.bb_pos+ot):0}static startNode(ot){ot.startObject(13)}static addName(ot,tt){ot.addFieldOffset(0,tt,0)}static addDocString(ot,tt){ot.addFieldOffset(1,tt,0)}static addDomain(ot,tt){ot.addFieldOffset(2,tt,0)}static addSinceVersion(ot,tt){ot.addFieldInt32(3,tt,0)}static addIndex(ot,tt){ot.addFieldInt32(4,tt,0)}static addOpType(ot,tt){ot.addFieldOffset(5,tt,0)}static addType(ot,tt){ot.addFieldInt32(6,tt,dt.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(ot,tt){ot.addFieldOffset(7,tt,0)}static addInputs(ot,tt){ot.addFieldOffset(8,tt,0)}static createInputsVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startInputsVector(ot,tt){ot.startVector(4,tt,4)}static addOutputs(ot,tt){ot.addFieldOffset(9,tt,0)}static createOutputsVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startOutputsVector(ot,tt){ot.startVector(4,tt,4)}static addAttributes(ot,tt){ot.addFieldOffset(10,tt,0)}static createAttributesVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startAttributesVector(ot,tt){ot.startVector(4,tt,4)}static addInputArgCounts(ot,tt){ot.addFieldOffset(11,tt,0)}static createInputArgCountsVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addInt32(tt[rt]);return ot.endVector()}static startInputArgCountsVector(ot,tt){ot.startVector(4,tt,4)}static addImplicitInputs(ot,tt){ot.addFieldOffset(12,tt,0)}static createImplicitInputsVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startImplicitInputsVector(ot,tt){ot.startVector(4,tt,4)}static endNode(ot){return ot.endObject()}static createNode(ot,tt,rt,st,pt,gt,mt,yt,bt,vt,wt,xt,Tt,Ot){return ct.startNode(ot),ct.addName(ot,tt),ct.addDocString(ot,rt),ct.addDomain(ot,st),ct.addSinceVersion(ot,pt),ct.addIndex(ot,gt),ct.addOpType(ot,mt),ct.addType(ot,yt),ct.addExecutionProviderType(ot,bt),ct.addInputs(ot,vt),ct.addOutputs(ot,wt),ct.addAttributes(ot,xt),ct.addInputArgCounts(ot,Tt),ct.addImplicitInputs(ot,Ot),ct.endNode(ot)}}ht.Node=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsValueInfo(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsValueInfo(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}name(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.__string(this.bb_pos+tt,ot):null}docString(ot){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.__string(this.bb_pos+tt,ot):null}type(ot){let tt=this.bb.__offset(this.bb_pos,8);return tt?(ot||new dt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}static startValueInfo(ot){ot.startObject(3)}static addName(ot,tt){ot.addFieldOffset(0,tt,0)}static addDocString(ot,tt){ot.addFieldOffset(1,tt,0)}static addType(ot,tt){ot.addFieldOffset(2,tt,0)}static endValueInfo(ot){return ot.endObject()}static createValueInfo(ot,tt,rt,st){return ct.startValueInfo(ot),ct.addName(ot,tt),ct.addDocString(ot,rt),ct.addType(ot,st),ct.endValueInfo(ot)}}ht.ValueInfo=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsTypeInfo(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsTypeInfo(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}denotation(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.__string(this.bb_pos+tt,ot):null}valueType(){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.readUint8(this.bb_pos+ot):dt.experimental.fbs.TypeInfoValue.NONE}value(ot){let tt=this.bb.__offset(this.bb_pos,8);return tt?this.bb.__union(ot,this.bb_pos+tt):null}static startTypeInfo(ot){ot.startObject(3)}static addDenotation(ot,tt){ot.addFieldOffset(0,tt,0)}static addValueType(ot,tt){ot.addFieldInt8(1,tt,dt.experimental.fbs.TypeInfoValue.NONE)}static addValue(ot,tt){ot.addFieldOffset(2,tt,0)}static endTypeInfo(ot){return ot.endObject()}static createTypeInfo(ot,tt,rt,st){return ct.startTypeInfo(ot),ct.addDenotation(ot,tt),ct.addValueType(ot,rt),ct.addValue(ot,st),ct.endTypeInfo(ot)}}ht.TypeInfo=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsOperatorSetId(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsOperatorSetId(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}domain(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.__string(this.bb_pos+tt,ot):null}version(){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.readInt64(this.bb_pos+ot):this.bb.createLong(0,0)}static startOperatorSetId(ot){ot.startObject(2)}static addDomain(ot,tt){ot.addFieldOffset(0,tt,0)}static addVersion(ot,tt){ot.addFieldInt64(1,tt,ot.createLong(0,0))}static endOperatorSetId(ot){return ot.endObject()}static createOperatorSetId(ot,tt,rt){return ct.startOperatorSetId(ot),ct.addDomain(ot,tt),ct.addVersion(ot,rt),ct.endOperatorSetId(ot)}}ht.OperatorSetId=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsTensor(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsTensor(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}name(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.__string(this.bb_pos+tt,ot):null}docString(ot){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.__string(this.bb_pos+tt,ot):null}dims(ot){let tt=this.bb.__offset(this.bb_pos,8);return tt?this.bb.readInt64(this.bb.__vector(this.bb_pos+tt)+8*ot):this.bb.createLong(0,0)}dimsLength(){let ot=this.bb.__offset(this.bb_pos,8);return ot?this.bb.__vector_len(this.bb_pos+ot):0}dataType(){let ot=this.bb.__offset(this.bb_pos,10);return ot?this.bb.readInt32(this.bb_pos+ot):dt.experimental.fbs.TensorDataType.UNDEFINED}rawData(ot){let tt=this.bb.__offset(this.bb_pos,12);return tt?this.bb.readUint8(this.bb.__vector(this.bb_pos+tt)+ot):0}rawDataLength(){let ot=this.bb.__offset(this.bb_pos,12);return ot?this.bb.__vector_len(this.bb_pos+ot):0}rawDataArray(){let ot=this.bb.__offset(this.bb_pos,12);return ot?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+ot),this.bb.__vector_len(this.bb_pos+ot)):null}stringData(ot,tt){let rt=this.bb.__offset(this.bb_pos,14);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*ot,tt):null}stringDataLength(){let ot=this.bb.__offset(this.bb_pos,14);return ot?this.bb.__vector_len(this.bb_pos+ot):0}static startTensor(ot){ot.startObject(6)}static addName(ot,tt){ot.addFieldOffset(0,tt,0)}static addDocString(ot,tt){ot.addFieldOffset(1,tt,0)}static addDims(ot,tt){ot.addFieldOffset(2,tt,0)}static createDimsVector(ot,tt){ot.startVector(8,tt.length,8);for(let rt=tt.length-1;rt>=0;rt--)ot.addInt64(tt[rt]);return ot.endVector()}static startDimsVector(ot,tt){ot.startVector(8,tt,8)}static addDataType(ot,tt){ot.addFieldInt32(3,tt,dt.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(ot,tt){ot.addFieldOffset(4,tt,0)}static createRawDataVector(ot,tt){ot.startVector(1,tt.length,1);for(let rt=tt.length-1;rt>=0;rt--)ot.addInt8(tt[rt]);return ot.endVector()}static startRawDataVector(ot,tt){ot.startVector(1,tt,1)}static addStringData(ot,tt){ot.addFieldOffset(5,tt,0)}static createStringDataVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startStringDataVector(ot,tt){ot.startVector(4,tt,4)}static endTensor(ot){return ot.endObject()}static createTensor(ot,tt,rt,st,pt,gt,mt){return ct.startTensor(ot),ct.addName(ot,tt),ct.addDocString(ot,rt),ct.addDims(ot,st),ct.addDataType(ot,pt),ct.addRawData(ot,gt),ct.addStringData(ot,mt),ct.endTensor(ot)}}ht.Tensor=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsSparseTensor(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsSparseTensor(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}values(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?(ot||new dt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}indices(ot){let tt=this.bb.__offset(this.bb_pos,6);return tt?(ot||new dt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}dims(ot){let tt=this.bb.__offset(this.bb_pos,8);return tt?this.bb.readInt64(this.bb.__vector(this.bb_pos+tt)+8*ot):this.bb.createLong(0,0)}dimsLength(){let ot=this.bb.__offset(this.bb_pos,8);return ot?this.bb.__vector_len(this.bb_pos+ot):0}static startSparseTensor(ot){ot.startObject(3)}static addValues(ot,tt){ot.addFieldOffset(0,tt,0)}static addIndices(ot,tt){ot.addFieldOffset(1,tt,0)}static addDims(ot,tt){ot.addFieldOffset(2,tt,0)}static createDimsVector(ot,tt){ot.startVector(8,tt.length,8);for(let rt=tt.length-1;rt>=0;rt--)ot.addInt64(tt[rt]);return ot.endVector()}static startDimsVector(ot,tt){ot.startVector(8,tt,8)}static endSparseTensor(ot){return ot.endObject()}static createSparseTensor(ot,tt,rt,st){return ct.startSparseTensor(ot),ct.addValues(ot,tt),ct.addIndices(ot,rt),ct.addDims(ot,st),ct.endSparseTensor(ot)}}ht.SparseTensor=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsAttribute(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsAttribute(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}name(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.__string(this.bb_pos+tt,ot):null}docString(ot){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.__string(this.bb_pos+tt,ot):null}type(){let ot=this.bb.__offset(this.bb_pos,8);return ot?this.bb.readInt32(this.bb_pos+ot):dt.experimental.fbs.AttributeType.UNDEFINED}f(){let ot=this.bb.__offset(this.bb_pos,10);return ot?this.bb.readFloat32(this.bb_pos+ot):0}i(){let ot=this.bb.__offset(this.bb_pos,12);return ot?this.bb.readInt64(this.bb_pos+ot):this.bb.createLong(0,0)}s(ot){let tt=this.bb.__offset(this.bb_pos,14);return tt?this.bb.__string(this.bb_pos+tt,ot):null}t(ot){let tt=this.bb.__offset(this.bb_pos,16);return tt?(ot||new dt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}g(ot){let tt=this.bb.__offset(this.bb_pos,18);return tt?(ot||new dt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}floats(ot){let tt=this.bb.__offset(this.bb_pos,20);return tt?this.bb.readFloat32(this.bb.__vector(this.bb_pos+tt)+4*ot):0}floatsLength(){let ot=this.bb.__offset(this.bb_pos,20);return ot?this.bb.__vector_len(this.bb_pos+ot):0}floatsArray(){let ot=this.bb.__offset(this.bb_pos,20);return ot?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+ot),this.bb.__vector_len(this.bb_pos+ot)):null}ints(ot){let tt=this.bb.__offset(this.bb_pos,22);return tt?this.bb.readInt64(this.bb.__vector(this.bb_pos+tt)+8*ot):this.bb.createLong(0,0)}intsLength(){let ot=this.bb.__offset(this.bb_pos,22);return ot?this.bb.__vector_len(this.bb_pos+ot):0}strings(ot,tt){let rt=this.bb.__offset(this.bb_pos,24);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*ot,tt):null}stringsLength(){let ot=this.bb.__offset(this.bb_pos,24);return ot?this.bb.__vector_len(this.bb_pos+ot):0}tensors(ot,tt){let rt=this.bb.__offset(this.bb_pos,26);return rt?(tt||new dt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*ot),this.bb):null}tensorsLength(){let ot=this.bb.__offset(this.bb_pos,26);return ot?this.bb.__vector_len(this.bb_pos+ot):0}graphs(ot,tt){let rt=this.bb.__offset(this.bb_pos,28);return rt?(tt||new dt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*ot),this.bb):null}graphsLength(){let ot=this.bb.__offset(this.bb_pos,28);return ot?this.bb.__vector_len(this.bb_pos+ot):0}static startAttribute(ot){ot.startObject(13)}static addName(ot,tt){ot.addFieldOffset(0,tt,0)}static addDocString(ot,tt){ot.addFieldOffset(1,tt,0)}static addType(ot,tt){ot.addFieldInt32(2,tt,dt.experimental.fbs.AttributeType.UNDEFINED)}static addF(ot,tt){ot.addFieldFloat32(3,tt,0)}static addI(ot,tt){ot.addFieldInt64(4,tt,ot.createLong(0,0))}static addS(ot,tt){ot.addFieldOffset(5,tt,0)}static addT(ot,tt){ot.addFieldOffset(6,tt,0)}static addG(ot,tt){ot.addFieldOffset(7,tt,0)}static addFloats(ot,tt){ot.addFieldOffset(8,tt,0)}static createFloatsVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addFloat32(tt[rt]);return ot.endVector()}static startFloatsVector(ot,tt){ot.startVector(4,tt,4)}static addInts(ot,tt){ot.addFieldOffset(9,tt,0)}static createIntsVector(ot,tt){ot.startVector(8,tt.length,8);for(let rt=tt.length-1;rt>=0;rt--)ot.addInt64(tt[rt]);return ot.endVector()}static startIntsVector(ot,tt){ot.startVector(8,tt,8)}static addStrings(ot,tt){ot.addFieldOffset(10,tt,0)}static createStringsVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startStringsVector(ot,tt){ot.startVector(4,tt,4)}static addTensors(ot,tt){ot.addFieldOffset(11,tt,0)}static createTensorsVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startTensorsVector(ot,tt){ot.startVector(4,tt,4)}static addGraphs(ot,tt){ot.addFieldOffset(12,tt,0)}static createGraphsVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startGraphsVector(ot,tt){ot.startVector(4,tt,4)}static endAttribute(ot){return ot.endObject()}static createAttribute(ot,tt,rt,st,pt,gt,mt,yt,bt,vt,wt,xt,Tt,Ot){return ct.startAttribute(ot),ct.addName(ot,tt),ct.addDocString(ot,rt),ct.addType(ot,st),ct.addF(ot,pt),ct.addI(ot,gt),ct.addS(ot,mt),ct.addT(ot,yt),ct.addG(ot,bt),ct.addFloats(ot,vt),ct.addInts(ot,wt),ct.addStrings(ot,xt),ct.addTensors(ot,Tt),ct.addGraphs(ot,Ot),ct.endAttribute(ot)}}ht.Attribute=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsGraph(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsGraph(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}initializers(ot,tt){let rt=this.bb.__offset(this.bb_pos,4);return rt?(tt||new dt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*ot),this.bb):null}initializersLength(){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.__vector_len(this.bb_pos+ot):0}nodeArgs(ot,tt){let rt=this.bb.__offset(this.bb_pos,6);return rt?(tt||new dt.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*ot),this.bb):null}nodeArgsLength(){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.__vector_len(this.bb_pos+ot):0}nodes(ot,tt){let rt=this.bb.__offset(this.bb_pos,8);return rt?(tt||new dt.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*ot),this.bb):null}nodesLength(){let ot=this.bb.__offset(this.bb_pos,8);return ot?this.bb.__vector_len(this.bb_pos+ot):0}maxNodeIndex(){let ot=this.bb.__offset(this.bb_pos,10);return ot?this.bb.readUint32(this.bb_pos+ot):0}nodeEdges(ot,tt){let rt=this.bb.__offset(this.bb_pos,12);return rt?(tt||new dt.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*ot),this.bb):null}nodeEdgesLength(){let ot=this.bb.__offset(this.bb_pos,12);return ot?this.bb.__vector_len(this.bb_pos+ot):0}inputs(ot,tt){let rt=this.bb.__offset(this.bb_pos,14);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*ot,tt):null}inputsLength(){let ot=this.bb.__offset(this.bb_pos,14);return ot?this.bb.__vector_len(this.bb_pos+ot):0}outputs(ot,tt){let rt=this.bb.__offset(this.bb_pos,16);return rt?this.bb.__string(this.bb.__vector(this.bb_pos+rt)+4*ot,tt):null}outputsLength(){let ot=this.bb.__offset(this.bb_pos,16);return ot?this.bb.__vector_len(this.bb_pos+ot):0}sparseInitializers(ot,tt){let rt=this.bb.__offset(this.bb_pos,18);return rt?(tt||new dt.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*ot),this.bb):null}sparseInitializersLength(){let ot=this.bb.__offset(this.bb_pos,18);return ot?this.bb.__vector_len(this.bb_pos+ot):0}static startGraph(ot){ot.startObject(8)}static addInitializers(ot,tt){ot.addFieldOffset(0,tt,0)}static createInitializersVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startInitializersVector(ot,tt){ot.startVector(4,tt,4)}static addNodeArgs(ot,tt){ot.addFieldOffset(1,tt,0)}static createNodeArgsVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startNodeArgsVector(ot,tt){ot.startVector(4,tt,4)}static addNodes(ot,tt){ot.addFieldOffset(2,tt,0)}static createNodesVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startNodesVector(ot,tt){ot.startVector(4,tt,4)}static addMaxNodeIndex(ot,tt){ot.addFieldInt32(3,tt,0)}static addNodeEdges(ot,tt){ot.addFieldOffset(4,tt,0)}static createNodeEdgesVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startNodeEdgesVector(ot,tt){ot.startVector(4,tt,4)}static addInputs(ot,tt){ot.addFieldOffset(5,tt,0)}static createInputsVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startInputsVector(ot,tt){ot.startVector(4,tt,4)}static addOutputs(ot,tt){ot.addFieldOffset(6,tt,0)}static createOutputsVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startOutputsVector(ot,tt){ot.startVector(4,tt,4)}static addSparseInitializers(ot,tt){ot.addFieldOffset(7,tt,0)}static createSparseInitializersVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startSparseInitializersVector(ot,tt){ot.startVector(4,tt,4)}static endGraph(ot){return ot.endObject()}static createGraph(ot,tt,rt,st,pt,gt,mt,yt,bt){return ct.startGraph(ot),ct.addInitializers(ot,tt),ct.addNodeArgs(ot,rt),ct.addNodes(ot,st),ct.addMaxNodeIndex(ot,pt),ct.addNodeEdges(ot,gt),ct.addInputs(ot,mt),ct.addOutputs(ot,yt),ct.addSparseInitializers(ot,bt),ct.endGraph(ot)}}ht.Graph=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsModel(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsModel(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}irVersion(){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.readInt64(this.bb_pos+ot):this.bb.createLong(0,0)}opsetImport(ot,tt){let rt=this.bb.__offset(this.bb_pos,6);return rt?(tt||new dt.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*ot),this.bb):null}opsetImportLength(){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.__vector_len(this.bb_pos+ot):0}producerName(ot){let tt=this.bb.__offset(this.bb_pos,8);return tt?this.bb.__string(this.bb_pos+tt,ot):null}producerVersion(ot){let tt=this.bb.__offset(this.bb_pos,10);return tt?this.bb.__string(this.bb_pos+tt,ot):null}domain(ot){let tt=this.bb.__offset(this.bb_pos,12);return tt?this.bb.__string(this.bb_pos+tt,ot):null}modelVersion(){let ot=this.bb.__offset(this.bb_pos,14);return ot?this.bb.readInt64(this.bb_pos+ot):this.bb.createLong(0,0)}docString(ot){let tt=this.bb.__offset(this.bb_pos,16);return tt?this.bb.__string(this.bb_pos+tt,ot):null}graph(ot){let tt=this.bb.__offset(this.bb_pos,18);return tt?(ot||new dt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}graphDocString(ot){let tt=this.bb.__offset(this.bb_pos,20);return tt?this.bb.__string(this.bb_pos+tt,ot):null}static startModel(ot){ot.startObject(9)}static addIrVersion(ot,tt){ot.addFieldInt64(0,tt,ot.createLong(0,0))}static addOpsetImport(ot,tt){ot.addFieldOffset(1,tt,0)}static createOpsetImportVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startOpsetImportVector(ot,tt){ot.startVector(4,tt,4)}static addProducerName(ot,tt){ot.addFieldOffset(2,tt,0)}static addProducerVersion(ot,tt){ot.addFieldOffset(3,tt,0)}static addDomain(ot,tt){ot.addFieldOffset(4,tt,0)}static addModelVersion(ot,tt){ot.addFieldInt64(5,tt,ot.createLong(0,0))}static addDocString(ot,tt){ot.addFieldOffset(6,tt,0)}static addGraph(ot,tt){ot.addFieldOffset(7,tt,0)}static addGraphDocString(ot,tt){ot.addFieldOffset(8,tt,0)}static endModel(ot){return ot.endObject()}static createModel(ot,tt,rt,st,pt,gt,mt,yt,bt,vt){return ct.startModel(ot),ct.addIrVersion(ot,tt),ct.addOpsetImport(ot,rt),ct.addProducerName(ot,st),ct.addProducerVersion(ot,pt),ct.addDomain(ot,gt),ct.addModelVersion(ot,mt),ct.addDocString(ot,yt),ct.addGraph(ot,bt),ct.addGraphDocString(ot,vt),ct.endModel(ot)}}ht.Model=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsKernelCreateInfos(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsKernelCreateInfos(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}nodeIndices(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.readUint32(this.bb.__vector(this.bb_pos+tt)+4*ot):0}nodeIndicesLength(){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.__vector_len(this.bb_pos+ot):0}nodeIndicesArray(){let ot=this.bb.__offset(this.bb_pos,4);return ot?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+ot),this.bb.__vector_len(this.bb_pos+ot)):null}kernelDefHashes(ot){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.readUint64(this.bb.__vector(this.bb_pos+tt)+8*ot):this.bb.createLong(0,0)}kernelDefHashesLength(){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.__vector_len(this.bb_pos+ot):0}static startKernelCreateInfos(ot){ot.startObject(2)}static addNodeIndices(ot,tt){ot.addFieldOffset(0,tt,0)}static createNodeIndicesVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addInt32(tt[rt]);return ot.endVector()}static startNodeIndicesVector(ot,tt){ot.startVector(4,tt,4)}static addKernelDefHashes(ot,tt){ot.addFieldOffset(1,tt,0)}static createKernelDefHashesVector(ot,tt){ot.startVector(8,tt.length,8);for(let rt=tt.length-1;rt>=0;rt--)ot.addInt64(tt[rt]);return ot.endVector()}static startKernelDefHashesVector(ot,tt){ot.startVector(8,tt,8)}static endKernelCreateInfos(ot){return ot.endObject()}static createKernelCreateInfos(ot,tt,rt){return ct.startKernelCreateInfos(ot),ct.addNodeIndices(ot,tt),ct.addKernelDefHashes(ot,rt),ct.endKernelCreateInfos(ot)}}ht.KernelCreateInfos=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsSubGraphSessionState(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsSubGraphSessionState(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}graphId(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.__string(this.bb_pos+tt,ot):null}sessionState(ot){let tt=this.bb.__offset(this.bb_pos,6);return tt?(ot||new dt.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}static startSubGraphSessionState(ot){ot.startObject(2)}static addGraphId(ot,tt){ot.addFieldOffset(0,tt,0)}static addSessionState(ot,tt){ot.addFieldOffset(1,tt,0)}static endSubGraphSessionState(ot){let tt=ot.endObject();return ot.requiredField(tt,4),tt}static createSubGraphSessionState(ot,tt,rt){return ct.startSubGraphSessionState(ot),ct.addGraphId(ot,tt),ct.addSessionState(ot,rt),ct.endSubGraphSessionState(ot)}}ht.SubGraphSessionState=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsSessionState(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsSessionState(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}kernels(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?(ot||new dt.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}subGraphSessionStates(ot,tt){let rt=this.bb.__offset(this.bb_pos,6);return rt?(tt||new dt.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+rt)+4*ot),this.bb):null}subGraphSessionStatesLength(){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.__vector_len(this.bb_pos+ot):0}static startSessionState(ot){ot.startObject(2)}static addKernels(ot,tt){ot.addFieldOffset(0,tt,0)}static addSubGraphSessionStates(ot,tt){ot.addFieldOffset(1,tt,0)}static createSubGraphSessionStatesVector(ot,tt){ot.startVector(4,tt.length,4);for(let rt=tt.length-1;rt>=0;rt--)ot.addOffset(tt[rt]);return ot.endVector()}static startSubGraphSessionStatesVector(ot,tt){ot.startVector(4,tt,4)}static endSessionState(ot){return ot.endObject()}static createSessionState(ot,tt,rt){return ct.startSessionState(ot),ct.addKernels(ot,tt),ct.addSubGraphSessionStates(ot,rt),ct.endSessionState(ot)}}ht.SessionState=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={})),function(dt){(function(ft){(function(ht){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(ot,tt){return this.bb_pos=ot,this.bb=tt,this}static getRootAsInferenceSession(ot,tt){return(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static getSizePrefixedRootAsInferenceSession(ot,tt){return ot.setPosition(ot.position()+it.flatbuffers.SIZE_PREFIX_LENGTH),(tt||new ct).__init(ot.readInt32(ot.position())+ot.position(),ot)}static bufferHasIdentifier(ot){return ot.__has_identifier("ORTM")}ortVersion(ot){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.__string(this.bb_pos+tt,ot):null}model(ot){let tt=this.bb.__offset(this.bb_pos,6);return tt?(ot||new dt.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}sessionState(ot){let tt=this.bb.__offset(this.bb_pos,8);return tt?(ot||new dt.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+tt),this.bb):null}static startInferenceSession(ot){ot.startObject(3)}static addOrtVersion(ot,tt){ot.addFieldOffset(0,tt,0)}static addModel(ot,tt){ot.addFieldOffset(1,tt,0)}static addSessionState(ot,tt){ot.addFieldOffset(2,tt,0)}static endInferenceSession(ot){return ot.endObject()}static finishInferenceSessionBuffer(ot,tt){ot.finish(tt,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(ot,tt){ot.finish(tt,"ORTM",!0)}static createInferenceSession(ot,tt,rt,st){return ct.startInferenceSession(ot),ct.addOrtVersion(ot,tt),ct.addModel(ot,rt),ct.addSessionState(ot,st),ct.endInferenceSession(ot)}}ht.InferenceSession=ct})(ft.fbs||(ft.fbs={}))})(dt.experimental||(dt.experimental={}))}(_e.onnxruntime||(_e.onnxruntime={}))},1723:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.OnnxjsSessionHandler=void 0;const it=nt(2235),at=nt(9240);_e.OnnxjsSessionHandler=class{constructor(ut){this.session=ut,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(ut,dt,ft){const ht=new Map;for(const ot in ut)if(Object.hasOwnProperty.call(ut,ot)){const tt=ut[ot];ht.set(ot,new at.Tensor(tt.dims,tt.type,void 0,void 0,tt.data))}const ct=await this.session.run(ht),lt={};return ct.forEach((ot,tt)=>{lt[tt]=new it.Tensor(ot.type,ot.data,ot.dims)}),lt}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Session=void 0;const it=nt(7067),at=nt(1296),ut=nt(1975),dt=nt(6496),ft=nt(1315),ht=nt(1745);_e.Session=class{constructor(ct={}){this._initialized=!1,this.backendHint=ct.backendHint,this.profiler=ft.Profiler.create(ct.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(ct,lt,ot){await this.profiler.event("session","Session.loadModel",async()=>{const tt=await(0,ut.resolveBackend)(this.backendHint);if(this.sessionHandler=tt.createSessionHandler(this.context),this._model=new ht.Model,typeof ct=="string"){const rt=ct.endsWith(".ort");if(typeof process<"u"&&process.versions&&process.versions.node){const st=await(0,at.promisify)(it.readFile)(ct);this.initialize(st,rt)}else{const st=await fetch(ct),pt=await st.arrayBuffer();this.initialize(new Uint8Array(pt),rt)}}else if(ArrayBuffer.isView(ct))this.initialize(ct);else{const rt=new Uint8Array(ct,lt||0,ot||ct.byteLength);this.initialize(rt)}})}initialize(ct,lt){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const ot=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(ct,ot,lt),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new dt.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(ct){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const lt=this.normalizeAndValidateInputs(ct),ot=await this._executionPlan.execute(this.sessionHandler,lt);return this.createOutput(ot)})}normalizeAndValidateInputs(ct){const lt=this._model.graph.getInputNames();if(Array.isArray(ct)){if(ct.length!==lt.length)throw new Error(`incorrect input array length: expected ${lt.length} but got ${ct.length}`)}else{if(ct.size!==lt.length)throw new Error(`incorrect input map size: expected ${lt.length} but got ${ct.size}`);const ot=new Array(ct.size);let tt=0;for(let rt=0;rt<lt.length;++rt){const st=ct.get(lt[rt]);if(!st)throw new Error(`missing input tensor for: '${name}'`);ot[tt++]=st}ct=ot}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,ct,!1);else{const ot=this._model.graph.getInputIndices(),tt=this._model.graph.getValues(),rt=new Array(ot.length);for(let st=0;st<ot.length;++st){const pt=tt[ot[st]];rt[st]=pt.type.shape.dims,this.context.graphInputTypes.push(pt.type.tensorType),this.context.graphInputDims.push(ct[st].dims)}this.validateInputTensorDims(rt,ct,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,ct),ct}validateInputTensorTypes(ct,lt){for(let ot=0;ot<lt.length;ot++){const tt=ct[ot],rt=lt[ot].type;if(tt!==rt)throw new Error(`input tensor[${ot}] check failed: expected type '${tt}' but got ${rt}`)}}validateInputTensorDims(ct,lt,ot){for(let tt=0;tt<lt.length;tt++){const rt=ct[tt],st=lt[tt].dims;if(!this.compareTensorDims(rt,st,ot))throw new Error(`input tensor[${tt}] check failed: expected shape '[${rt.join(",")}]' but got [${st.join(",")}]`)}}compareTensorDims(ct,lt,ot){if(ct.length!==lt.length)return!1;for(let tt=0;tt<ct.length;++tt)if(ct[tt]!==lt[tt]&&(!ot||ct[tt]!==0))return!1;return!0}createOutput(ct){const lt=this._model.graph.getOutputNames();if(ct.length!==lt.length)throw new Error("expected number of outputs do not match number of generated outputs");const ot=new Map;for(let tt=0;tt<lt.length;++tt)ot.set(lt[tt],ct[tt]);return ot}initializeOps(ct){const lt=ct.getNodes();this._ops=new Array(lt.length);for(let ot=0;ot<lt.length;ot++)this._ops[ot]=this.sessionHandler.resolve(lt[ot],this._model.opsets,ct)}}},9240:function(et,_e,nt){var it=this&&this.__importDefault||function(pt){return pt&&pt.__esModule?pt:{default:pt}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.Tensor=void 0;const at=nt(3442),ut=it(nt(1583)),dt=nt(5127),ft=nt(2446),ht=nt(7273);var ct=dt.onnxruntime.experimental.fbs;class lt{get data(){if(this.cache===void 0){const gt=this.dataProvider(this.dataId);if(gt.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=gt}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(gt){return this.data[ht.ShapeUtil.indicesToOffset(gt,this.strides)]}set(gt,mt){this.data[ht.ShapeUtil.indicesToOffset(gt,this.strides)]=mt}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=ht.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(gt,mt,yt,bt,vt,wt=at.Guid.create()){this.dims=gt,this.type=mt,this.dataProvider=yt,this.asyncDataProvider=bt,this.cache=vt,this.dataId=wt,this.size=ht.ShapeUtil.validateDimsAndCalcSize(gt);const xt=this.size,Tt=yt===void 0&&bt===void 0&&vt===void 0;if(vt!==void 0&&vt.length!==xt)throw new RangeError("Input dims doesn't match data length.");if(mt==="string"){if(!(vt===void 0||Array.isArray(vt)&&vt.every(Ot=>typeof Ot=="string")))throw new TypeError("cache should be a string array");Tt&&(this.cache=new Array(xt))}else{if(vt!==void 0){const Ot=tt(mt);if(!(vt instanceof Ot))throw new TypeError(`cache should be type ${Ot.name}`)}if(Tt){const Ot=new ArrayBuffer(xt*function($t){switch($t){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${$t}`)}}(mt));this.cache=function($t,It){return new(tt(It))($t)}(Ot,mt)}}}static fromProto(gt){if(!gt)throw new Error("cannot construct Value from an empty tensor");const mt=ht.ProtoUtil.tensorDataTypeFromProto(gt.dataType),yt=ht.ProtoUtil.tensorDimsFromProto(gt.dims),bt=new lt(yt,mt);if(mt==="string")gt.stringData.forEach((vt,wt)=>{bt.data[wt]=(0,ht.decodeUtf8String)(vt)});else if(gt.rawData&&typeof gt.rawData.byteLength=="number"&&gt.rawData.byteLength>0){const vt=bt.data,wt=new DataView(gt.rawData.buffer,gt.rawData.byteOffset,gt.rawData.byteLength),xt=ot(gt.dataType),Tt=gt.rawData.byteLength/xt;if(gt.rawData.byteLength%xt!=0)throw new Error("invalid buffer length");if(vt.length!==Tt)throw new Error("buffer length mismatch");for(let Ot=0;Ot<Tt;Ot++){const $t=st(wt,gt.dataType,Ot*xt);vt[Ot]=$t}}else{let vt;switch(gt.dataType){case ft.onnx.TensorProto.DataType.FLOAT:vt=gt.floatData;break;case ft.onnx.TensorProto.DataType.INT32:case ft.onnx.TensorProto.DataType.INT16:case ft.onnx.TensorProto.DataType.UINT16:case ft.onnx.TensorProto.DataType.INT8:case ft.onnx.TensorProto.DataType.UINT8:case ft.onnx.TensorProto.DataType.BOOL:vt=gt.int32Data;break;case ft.onnx.TensorProto.DataType.INT64:vt=gt.int64Data;break;case ft.onnx.TensorProto.DataType.DOUBLE:vt=gt.doubleData;break;case ft.onnx.TensorProto.DataType.UINT32:case ft.onnx.TensorProto.DataType.UINT64:vt=gt.uint64Data;break;default:throw new Error("unspecific error")}if(vt==null)throw new Error("failed to populate data from a tensorproto value");const wt=bt.data;if(wt.length!==vt.length)throw new Error("array length mismatch");for(let xt=0;xt<vt.length;xt++){const Tt=vt[xt];ut.default.isLong(Tt)?wt[xt]=rt(Tt,gt.dataType):wt[xt]=Tt}}return bt}static fromData(gt,mt,yt){return new lt(mt,yt,void 0,void 0,gt)}static fromOrtTensor(gt){if(!gt)throw new Error("cannot construct Value from an empty tensor");const mt=ht.ProtoUtil.tensorDimsFromORTFormat(gt),yt=ht.ProtoUtil.tensorDataTypeFromProto(gt.dataType()),bt=new lt(mt,yt);if(yt==="string")for(let vt=0;vt<gt.stringDataLength();vt++)bt.data[vt]=gt.stringData(vt);else if(gt.rawDataArray()&&typeof gt.rawDataLength()=="number"&&gt.rawDataLength()>0){const vt=bt.data,wt=new DataView(gt.rawDataArray().buffer,gt.rawDataArray().byteOffset,gt.rawDataLength()),xt=ot(gt.dataType()),Tt=gt.rawDataLength()/xt;if(gt.rawDataLength()%xt!=0)throw new Error("invalid buffer length");if(vt.length!==Tt)throw new Error("buffer length mismatch");for(let Ot=0;Ot<Tt;Ot++){const $t=st(wt,gt.dataType(),Ot*xt);vt[Ot]=$t}}return bt}}function ot(pt){switch(pt){case ft.onnx.TensorProto.DataType.UINT8:case ft.onnx.TensorProto.DataType.INT8:case ft.onnx.TensorProto.DataType.BOOL:return 1;case ft.onnx.TensorProto.DataType.UINT16:case ft.onnx.TensorProto.DataType.INT16:return 2;case ft.onnx.TensorProto.DataType.FLOAT:case ft.onnx.TensorProto.DataType.INT32:case ft.onnx.TensorProto.DataType.UINT32:return 4;case ft.onnx.TensorProto.DataType.INT64:case ft.onnx.TensorProto.DataType.DOUBLE:case ft.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${ft.onnx.TensorProto.DataType[pt]}`)}}function tt(pt){switch(pt){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function rt(pt,gt){if(gt===ft.onnx.TensorProto.DataType.INT64||gt===ct.TensorDataType.INT64){if(pt.greaterThanOrEqual(2147483648)||pt.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(gt!==ft.onnx.TensorProto.DataType.UINT32&&gt!==ct.TensorDataType.UINT32&&gt!==ft.onnx.TensorProto.DataType.UINT64&&gt!==ct.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${ft.onnx.TensorProto.DataType[gt]}`);if(pt.greaterThanOrEqual(4294967296)||pt.lessThan(0))throw new TypeError("uint64 is not supported")}return pt.toNumber()}function st(pt,gt,mt){switch(gt){case ft.onnx.TensorProto.DataType.BOOL:case ft.onnx.TensorProto.DataType.UINT8:return pt.getUint8(mt);case ft.onnx.TensorProto.DataType.INT8:return pt.getInt8(mt);case ft.onnx.TensorProto.DataType.UINT16:return pt.getUint16(mt,!0);case ft.onnx.TensorProto.DataType.INT16:return pt.getInt16(mt,!0);case ft.onnx.TensorProto.DataType.FLOAT:return pt.getFloat32(mt,!0);case ft.onnx.TensorProto.DataType.INT32:return pt.getInt32(mt,!0);case ft.onnx.TensorProto.DataType.UINT32:return pt.getUint32(mt,!0);case ft.onnx.TensorProto.DataType.INT64:return rt(ut.default.fromBits(pt.getUint32(mt,!0),pt.getUint32(mt+4,!0),!1),gt);case ft.onnx.TensorProto.DataType.DOUBLE:return pt.getFloat64(mt,!0);case ft.onnx.TensorProto.DataType.UINT64:return rt(ut.default.fromBits(pt.getUint32(mt,!0),pt.getUint32(mt+4,!0),!0),gt);default:throw new Error(`cannot read from DataView for type ${ft.onnx.TensorProto.DataType[gt]}`)}}_e.Tensor=lt},7273:function(et,_e,nt){var it=this&&this.__importDefault||function(gt){return gt&&gt.__esModule?gt:{default:gt}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.decodeUtf8String=_e.MAX_CLIP=_e.MIN_CLIP=_e.PoolConvUtil=_e.ReduceUtil=_e.SplitUtil=_e.MathUtil=_e.ShapeUtil=_e.LongUtil=_e.ProtoUtil=_e.GemmUtil=_e.arrayCopyHelper=_e.BroadcastUtil=_e.MatMulUtil=_e.ArrayUtil=_e.assert=_e.checkInputsShape=void 0;const at=nt(5686),ut=it(nt(1583)),dt=nt(2446),ft=nt(9240);_e.checkInputsShape=function(gt,...mt){if(!gt||gt.length!==mt.length)return!1;for(let yt=0;yt<gt.length;yt++)if(!gt[yt].dims||gt[yt].dims.length!==mt[yt])return!1;return!0},_e.assert=function(gt,mt){if(!gt)throw new Error(typeof mt=="string"?mt:mt())},_e.ArrayUtil=class{static arraysEqual(gt,mt){if(gt.length!==mt.length)return!1;for(let yt=0;yt<gt.length;yt++)if(gt[yt]!==mt[yt])return!1;return!0}};class ht{static preprocessInputShapes(mt,yt){return[mt.length===1?[1,mt[0]]:mt,yt.length===1?[yt[0],1]:yt]}static postprocessOutputShape(mt,yt,bt){yt===1&&mt.splice(mt.length-2,1),bt===1&&mt.pop()}static calcMatMulShape(mt,yt){return mt[1]!==yt[0]?void 0:[mt[0],yt[1]]}}_e.MatMulUtil=ht;class ct{static calcShape(mt,yt,bt=!1){const vt=mt.length,wt=yt.length;if(vt===0)return yt;if(wt===0)return mt;const xt=Math.max(mt.length,yt.length),Tt=new Array(xt);if(bt){if(vt<2||wt<2)return;const Ot=ht.calcMatMulShape([mt[vt-2],mt[vt-1]],[yt[wt-2],yt[wt-1]]);if(Ot===void 0)return;[Tt[xt-2],Tt[xt-1]]=Ot}for(let Ot=bt?3:1;Ot<=xt;Ot++){const $t=vt-Ot<0?1:mt[vt-Ot],It=wt-Ot<0?1:yt[wt-Ot];if($t!==It&&$t>1&&It>1)return;Tt[xt-Ot]=Math.max($t,It)}return Tt}static index(mt,yt){const bt=new Array(yt.length);return ct.fillIndex(mt,yt,bt),bt}static fillIndex(mt,yt,bt){const vt=mt.length-yt.length;for(let wt=0;wt<yt.length;wt++)bt[wt]=mt[vt+wt]%yt[wt]}static calc(mt,yt,bt,vt,wt){const xt=ct.calcShape(mt.dims,yt.dims);if(xt){if(vt&&!tt.areEqual(xt,mt.dims))return;const Tt=tt.size(xt),Ot=vt?mt:new ft.Tensor(xt,wt||mt.type);if(xt.length===0)Ot.set([],bt(mt.get([]),yt.get([])));else{const $t=new Array(xt.length),It=new Array(mt.dims.length),Rt=new Array(yt.dims.length);let Ft,Pt=0,Bt=0,Et=!1,At=!1;mt.dims.length===0&&(Pt=mt.get([]),Et=!0),yt.dims.length===0&&(Bt=yt.get([]),At=!0);for(let jt=0;jt<Tt;jt++){Ft=jt;for(let Mt=xt.length-1;Mt>=0;Mt--)$t[Mt]=Ft%xt[Mt],Ft=Math.floor(Ft/xt[Mt]);Et||(ct.fillIndex($t,mt.dims,It),Pt=mt.get(It)),At||(ct.fillIndex($t,yt.dims,Rt),Bt=yt.get(Rt)),Ot.set($t,bt(Pt,Bt))}}return Ot}}static isValidBroadcast(mt,yt){const bt=mt.length,vt=yt.length;if(bt>vt)return!1;for(let wt=1;wt<=bt;wt++)if(mt[bt-wt]!==1&&mt[bt-wt]!==yt[vt-wt])return!1;return!0}static getBroadcastDims(mt,yt){const bt=mt.length,vt=[];for(let wt=0;wt<bt;wt++){const xt=bt-1-wt,Tt=mt[xt]||1;(yt[yt.length-1-wt]||1)>1&&Tt===1&&vt.unshift(xt)}return vt}}_e.BroadcastUtil=ct,_e.arrayCopyHelper=function(gt,mt,yt,bt,vt){if(bt<0||bt>=mt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=gt.length)throw new Error("targetIndex out of bounds");if(bt+vt>mt.length)throw new Error("source indices to be copied are outside bounds");if(yt+vt>gt.length)throw new Error("target array is too small to hold result");for(let wt=0;wt<vt;wt++)gt[yt+wt]=mt[bt+wt]},_e.GemmUtil=class{static getShapeOfGemmResult(gt,mt,yt,bt,vt){if(gt.length!==2||yt.length!==2)throw new Error("shape need to be of size 2");let wt,xt,Tt;mt?(wt=gt[1],xt=gt[0]):(wt=gt[0],xt=gt[1]);let Ot=-1;if(bt?(Tt=yt[0],Ot=1):(Tt=yt[1],Ot=0),yt[Ot]!==xt)throw new Error("dimension mismatch");if(wt<=0||Tt<=0||xt<=0)throw new Error("invalid shape specified");if(vt&&!ct.isValidBroadcast(vt,[wt,Tt]))throw new Error("gemm: invalid bias shape for broadcast");return[wt,Tt,xt]}};class lt{static tensorDataTypeFromProto(mt){switch(mt){case dt.onnx.TensorProto.DataType.INT8:return"int8";case dt.onnx.TensorProto.DataType.UINT8:return"uint8";case dt.onnx.TensorProto.DataType.BOOL:return"bool";case dt.onnx.TensorProto.DataType.INT16:return"int16";case dt.onnx.TensorProto.DataType.UINT16:return"uint16";case dt.onnx.TensorProto.DataType.INT32:return"int32";case dt.onnx.TensorProto.DataType.UINT32:return"uint32";case dt.onnx.TensorProto.DataType.FLOAT:return"float32";case dt.onnx.TensorProto.DataType.DOUBLE:return"float64";case dt.onnx.TensorProto.DataType.STRING:return"string";case dt.onnx.TensorProto.DataType.INT64:return"int32";case dt.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${dt.onnx.TensorProto.DataType[mt]}`)}}static tensorDataTypeStringToEnum(mt){switch(mt){case"int8":return dt.onnx.TensorProto.DataType.INT8;case"uint8":return dt.onnx.TensorProto.DataType.UINT8;case"bool":return dt.onnx.TensorProto.DataType.BOOL;case"int16":return dt.onnx.TensorProto.DataType.INT16;case"uint16":return dt.onnx.TensorProto.DataType.UINT16;case"int32":return dt.onnx.TensorProto.DataType.INT32;case"uint32":return dt.onnx.TensorProto.DataType.UINT32;case"float32":return dt.onnx.TensorProto.DataType.FLOAT;case"float64":return dt.onnx.TensorProto.DataType.DOUBLE;case"string":return dt.onnx.TensorProto.DataType.STRING;case"int64":return dt.onnx.TensorProto.DataType.INT64;case"uint64":return dt.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${mt}`)}}static tensorDimsFromProto(mt){return mt.map(yt=>ut.default.isLong(yt)?yt.toNumber():yt)}static tensorValueTypeFromProto(mt){return{tensorType:lt.tensorDataTypeFromProto(mt.elemType),shape:{dims:lt.tensorDimsFromProto(mt.shape.dim.map(yt=>yt.dimValue))}}}static tensorDimsFromORTFormat(mt){const yt=[];for(let bt=0;bt<mt.dimsLength();bt++)yt.push(ot.longToNumber(mt.dims(bt)));return yt}static tensorAttributesFromORTFormat(mt){const yt=[];for(let bt=0;bt<mt.attributesLength();bt++)yt.push(mt.attributes(bt));return yt}}_e.ProtoUtil=lt;class ot{static longToNumber(mt,yt){return ut.default.isLong(mt)?mt.toNumber():mt instanceof at.flatbuffers.Long?ut.default.fromValue({low:mt.low,high:mt.high,unsigned:yt!=null&&yt}).toNumber():mt}static isLong(mt){return ut.default.isLong(mt)||mt instanceof at.flatbuffers.Long}}_e.LongUtil=ot;class tt{static size(mt){return tt.getSizeFromDimensionRange(mt,0,mt.length)}static sizeFromDimension(mt,yt){if(yt<0||yt>mt.length)throw new Error(`invalid dimension of ${yt} for sizeFromDimension as Tensor has ${mt.length} dimensions.`);return tt.getSizeFromDimensionRange(mt,yt,mt.length)}static sizeToDimension(mt,yt){if(yt<0||yt>mt.length)throw new Error(`invalid dimension of ${yt} for sizeToDimension as Tensor has ${mt.length} dimensions.`);return tt.getSizeFromDimensionRange(mt,0,yt)}static getSizeFromDimensionRange(mt,yt,bt){let vt=1;for(let wt=yt;wt<bt;wt++){if(mt[wt]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");vt*=mt[wt]}return vt}static computeStrides(mt){const yt=mt.length;if(yt===0)return[];if(yt===1)return[1];const bt=new Array(yt);bt[yt-1]=1,bt[yt-2]=mt[yt-1];for(let vt=yt-3;vt>=0;--vt)bt[vt]=bt[vt+1]*mt[vt+1];return bt}static transpose(mt){return mt.slice().reverse()}static indicesToOffset(mt,yt,bt){bt===void 0&&(bt=mt.length);let vt=0;for(let wt=0;wt<bt;++wt)vt+=yt[wt]*mt[wt];return vt}static offsetToIndices(mt,yt){const bt=yt.length;if(bt===0)return[];if(bt===1)return[mt*yt[0]];const vt=new Array(yt.length);for(let wt=0;wt<vt.length-1;++wt)vt[wt]=Math.floor(mt/yt[wt]),mt-=vt[wt]*yt[wt];return vt[vt.length-1]=mt,vt}static normalizeAxis(mt,yt){if(mt<-yt&&mt>=yt)throw new Error("unsupported axis for this operation.");return mt<0?mt+yt:mt}static normalizeAxes(mt,yt){return mt.map(bt=>this.normalizeAxis(bt,yt))}static incrementIndex(mt,yt,bt){if(yt.length===0||mt.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(bt===void 0)bt=yt.length;else if(bt<=0||bt>yt.length)throw new Error("Incorrect axis to increment on");for(let vt=bt-1;vt>=0&&(mt[vt]++,!(mt[vt]<yt[vt]));--vt)mt[vt]=0}static calculateReshapedDims(mt,yt){if(yt.length===0){if(mt.length===0||tt.size(mt)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const bt=yt.length,vt=new Array(bt);let wt=-1,xt=1;for(let Ot=0;Ot<bt;Ot++){if(yt[Ot]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(yt[Ot]===-1){if(wt!==-1)throw new Error("at most one dimension in shape hints can be -1");wt=Ot}else{if(yt[Ot]===0){if(Ot>=mt.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");vt[Ot]=mt[Ot]}else vt[Ot]=yt[Ot];xt*=vt[Ot]}}const Tt=tt.size(mt);if(wt!==-1){if(Tt%xt!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${mt}] Output shape: [${yt}]`);vt[wt]=Tt/xt}else if(xt!==Tt)throw new Error("reshapedDims and originalDims don't have matching sizes");return vt}static sortBasedOnPerm(mt,yt){return yt?yt.map(bt=>mt[bt]):mt.slice().reverse()}static padShape(mt,yt){const bt=mt.length;return mt.map((vt,wt)=>vt+yt[wt]+yt[wt+bt])}static areEqual(mt,yt){return mt.length===yt.length&&mt.every((bt,vt)=>bt===yt[vt])}static validateDimsAndCalcSize(mt){if(mt.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let yt=1;for(const bt of mt){if(!Number.isInteger(bt))throw new TypeError(`Invalid shape: ${bt} is not an integer`);if(bt<0||bt>2147483647)throw new TypeError(`Invalid shape: length ${bt} is not allowed`);yt*=bt}return yt}static flattenShape(mt,yt){yt<0&&(yt+=mt.length);const bt=mt.reduce((wt,xt)=>wt*xt,1),vt=mt.slice(yt).reduce((wt,xt)=>wt*xt,1);return[bt/vt,vt]}static squeezeShape(mt,yt){const bt=new Array;yt=tt.normalizeAxes(yt,mt.length);for(let vt=0;vt<mt.length;vt++){const wt=yt.indexOf(vt)>=0;if(wt&&mt[vt]!==1)throw new Error("squeeze an axis of size different than 1");(yt.length===0&&mt[vt]>1||yt.length>0&&!wt)&&bt.push(mt[vt])}return bt}static unsqueezeShape(mt,yt){const bt=new Array(mt.length+yt.length);bt.fill(0);for(let wt=0;wt<yt.length;wt++){const xt=tt.normalizeAxis(yt[wt],bt.length);if(xt>=bt.length)throw new Error("'axes' has an out of range axis");if(bt[xt]!==0)throw new Error("'axes' has a duplicate axis");bt[xt]=1}let vt=0;for(let wt=0;wt<bt.length;wt++)bt[wt]===0&&(bt[wt]=mt[vt++]);if(vt!==mt.length)throw new Error("the unsqueezed dimension could not be established");return bt}}_e.ShapeUtil=tt,_e.MathUtil=class{static sqr(gt,mt,yt,bt,vt){if(bt<0||bt>=mt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=gt.length)throw new Error("targetIndex out of bounds");if(bt+vt>mt.length)throw new Error("source indices to be copied are outside bounds");if(yt+vt>gt.length)throw new Error("target array is too small to hold result");for(let wt=0;wt<vt;wt++)gt[yt+wt]+=Math.pow(mt[bt+wt],2)}static axpy(gt,mt,yt,bt,vt,wt){if(bt<0||bt>=mt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=gt.length)throw new Error("targetIndex out of bounds");if(bt+vt>mt.length)throw new Error("source indices to be copied are outside bounds");if(yt+vt>gt.length)throw new Error("target array is too small to hold result");for(let xt=0;xt<vt;xt++)gt[yt+xt]+=wt*mt[bt+xt]}static powx(gt,mt,yt,bt,vt,wt){if(bt<0||bt>=mt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=gt.length)throw new Error("targetIndex out of bounds");if(bt+vt>mt.length)throw new Error("source indices to be copied are outside bounds");if(yt+vt>gt.length)throw new Error("target array is too small to hold result");for(let xt=0;xt<vt;xt++)gt[yt+xt]=Math.pow(mt[bt+xt],wt)}static mul(gt,mt,yt,bt,vt){if(bt<0||bt>=mt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=gt.length)throw new Error("targetIndex out of bounds");if(bt+vt>mt.length)throw new Error("source indices to be copied are outside bounds");if(yt+vt>gt.length)throw new Error("target array is too small to hold result");for(let wt=0;wt<vt;wt++)gt[yt+wt]=mt[bt+wt]*gt[yt+wt]}};class rt{static splitShape(mt,yt,bt,vt){if(bt.length===0){if(!vt)throw new Error("need to know number of outputs when the 'split' attribute is not specified");rt.determineSplit(mt[yt],vt,bt)}const wt=[],xt=[0];for(let Tt=0;Tt<bt.length;++Tt){Tt!==0&&xt.push(xt[Tt-1]+bt[Tt-1]);const Ot=mt.slice();Ot[yt]=bt[Tt],wt.push(Ot)}return[wt,xt]}static determineSplit(mt,yt,bt){if(mt%yt!=0)throw new Error("cannot split tensor to equal sized parts");for(let vt=0;vt<yt;++vt)bt.push(mt/yt)}}_e.SplitUtil=rt;class st{static calcReduce(mt,yt,bt,vt,wt){const xt=mt.dims.slice(0);yt.length===0&&xt.forEach((Pt,Bt)=>yt.push(Bt));const Tt=st.calcReduceShape(xt,yt,!0),Ot=tt.size(Tt),$t=new ft.Tensor(Tt,mt.type),It=tt.computeStrides(Tt),Rt=tt.computeStrides(xt),Ft=new Array(xt.length);for(let Pt=0;Pt<Ot;Pt++){const Bt=tt.offsetToIndices(Pt,It);ct.fillIndex(Bt,xt,Ft),$t.set(Bt,st.calcReduceByAxis(mt.numberData,yt,xt,0,tt.indicesToOffset(Ft,Rt),vt,wt))}return bt?$t:new ft.Tensor(st.calcReduceShape(xt,yt,bt),$t.type,void 0,void 0,$t.data,$t.dataId)}static calcReduceByAxis(mt,yt,bt,vt,wt,xt,Tt){let Ot=0;if(vt>=yt.length)return xt(mt[wt]);const $t=yt[vt],It=$t>=bt.length?1:tt.size(bt.slice($t+1));for(let Rt=0;Rt<bt[$t];Rt++)Ot=Rt===0?st.calcReduceByAxis(mt,yt,bt,vt+1,wt,xt,Tt):Tt(Ot,st.calcReduceByAxis(mt,yt,bt,vt+1,wt,xt,Tt)),wt+=It;return Ot}static calcReduceShape(mt,yt,bt){const vt=mt.slice();for(let wt=0;wt<yt.length;wt++)vt[yt[wt]]=bt?1:0;return vt.filter(wt=>wt!==0)}}_e.ReduceUtil=st;class pt{static adjustPoolAttributes(mt,yt,bt,vt,wt,xt){if(!mt&&bt.length!==yt.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(mt)for(let Tt=0;Tt<yt.length-2;Tt++)Tt>=bt.length?bt.push(yt[Tt+2]):bt[Tt]=yt[Tt+2];for(let Tt=0;Tt<bt.length;Tt++)if(Tt<vt.length){if(vt[Tt]<0)throw new Error("strides should be greater than or equal to 1")}else vt.push(1);for(let Tt=0;Tt<bt.length;Tt++)if(Tt<wt.length){if(wt[Tt]<0)throw new Error("dilations should be greater than or equal to 1")}else wt.push(1);for(let Tt=0;Tt<2*bt.length;Tt++)if(Tt<xt.length){if(xt[Tt]<0)throw new Error("pad should be greater than or equal to 1")}else xt.push(0);for(let Tt=0;Tt<bt.length;Tt++){if(bt[Tt]<=0)throw new Error("kernel shapes need to be greater than 0");if(xt[Tt]>=bt[Tt]||xt[Tt+bt.length]>=bt[Tt])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(mt,yt,bt,vt,wt,xt){if(xt){if(wt.length!==2*(mt.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(yt.length!==mt.length-2)throw new Error("length of strides should be the length of data dimensions");if(vt.length!==mt.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let Tt=0;Tt<mt.length-2;Tt++)pt.adjustPadAndReturnShape(mt[Tt+2],yt[Tt],bt[Tt],vt[Tt],wt,Tt,Tt+mt.length-2,xt)}}static computePoolOutputShape(mt,yt,bt,vt,wt,xt,Tt){if(yt.length<=0)throw new Error("input shape must be of size greater than 0");const Ot=[yt[0],yt[1]];return pt.computeShapeHelper(mt,yt,Ot,bt,vt,wt,xt,Tt),Ot}static computeConvOutputShape(mt,yt,bt,vt,wt,xt,Tt){if(mt.length<=0||yt.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const Ot=[mt[0],yt[0]];return pt.computeShapeHelper(!1,mt,Ot,bt,vt,wt,xt,Tt),Ot}static computeShapeHelper(mt,yt,bt,vt,wt,xt,Tt,Ot){if(mt)for(let $t=0;$t<yt.length-2;$t++)bt.push(1);else for(let $t=0;$t<yt.length-2;$t++)bt.push(pt.adjustPadAndReturnShape(yt[$t+2],vt[$t],wt[$t],xt[$t],Tt,$t,$t+yt.length-2,Ot))}static adjustPadAndReturnShape(mt,yt,bt,vt,wt,xt,Tt,Ot){const $t=bt*(vt-1)+1;if(!Ot||Ot==="NOTSET")return Math.floor((mt+wt[xt]+wt[Tt]-$t)/yt+1);switch(Ot){case"VALID":return wt[xt]=0,wt[Tt]=0,Math.floor((mt-$t)/yt+1);case"SAME_LOWER":case"SAME_UPPER":if(bt!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const It=((mt+yt-1)/yt-1)*yt+vt-mt;return wt[xt]=Math.floor(Ot==="SAME_LOWER"?(It+1)/2:It/2),wt[Tt]=It-wt[xt],Math.floor((mt+It-vt)/yt+1)}default:throw new Error("Unsupported AutoPad type")}}}_e.PoolConvUtil=pt,_e.MIN_CLIP=-34028234663852886e22,_e.MAX_CLIP=34028234663852886e22,_e.decodeUtf8String=function(gt){return new TextDecoder().decode(gt)}},8408:(et,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.version=void 0,_e.version="1.16.3"},9544:function(et,_e,nt){var it,at=this&&this.__createBinding||(Object.create?function(It,Rt,Ft,Pt){Pt===void 0&&(Pt=Ft);var Bt=Object.getOwnPropertyDescriptor(Rt,Ft);Bt&&!("get"in Bt?!Rt.__esModule:Bt.writable||Bt.configurable)||(Bt={enumerable:!0,get:function(){return Rt[Ft]}}),Object.defineProperty(It,Pt,Bt)}:function(It,Rt,Ft,Pt){Pt===void 0&&(Pt=Ft),It[Pt]=Rt[Ft]}),ut=this&&this.__setModuleDefault||(Object.create?function(It,Rt){Object.defineProperty(It,"default",{enumerable:!0,value:Rt})}:function(It,Rt){It.default=Rt}),dt=this&&this.__importStar||function(It){if(It&&It.__esModule)return It;var Rt={};if(It!=null)for(var Ft in It)Ft!=="default"&&Object.prototype.hasOwnProperty.call(It,Ft)&&at(Rt,It,Ft);return ut(Rt,It),Rt};Object.defineProperty(_e,"__esModule",{value:!0}),_e.endProfiling=_e.run=_e.releaseSession=_e.createSession=_e.createSessionFinalize=_e.createSessionAllocate=_e.initializeRuntime=_e.initializeWebAssemblyInstance=void 0;const ft=nt(2235),ht=dt(nt(1259)),ct=nt(263),lt=()=>!!ft.env.wasm.proxy&&typeof document<"u";let ot,tt,rt,st=!1,pt=!1,gt=!1;const mt=[],yt=[],bt=[],vt=[],wt=[],xt=[],Tt=()=>{if(st||!pt||gt||!ot)throw new Error("worker not ready")},Ot=It=>{switch(It.data.type){case"init-wasm":st=!1,It.data.err?(gt=!0,tt[1](It.data.err)):(pt=!0,tt[0]());break;case"init-ort":It.data.err?rt[1](It.data.err):rt[0]();break;case"create_allocate":It.data.err?mt.shift()[1](It.data.err):mt.shift()[0](It.data.out);break;case"create_finalize":It.data.err?yt.shift()[1](It.data.err):yt.shift()[0](It.data.out);break;case"create":It.data.err?bt.shift()[1](It.data.err):bt.shift()[0](It.data.out);break;case"release":It.data.err?vt.shift()[1](It.data.err):vt.shift()[0]();break;case"run":It.data.err?wt.shift()[1](It.data.err):wt.shift()[0](It.data.out);break;case"end-profiling":It.data.err?xt.shift()[1](It.data.err):xt.shift()[0]()}},$t=typeof document<"u"?(it=document==null?void 0:document.currentScript)===null||it===void 0?void 0:it.src:void 0;_e.initializeWebAssemblyInstance=async()=>{if(lt()){if(pt)return;if(st)throw new Error("multiple calls to 'initWasm()' detected.");if(gt)throw new Error("previous call to 'initWasm()' failed.");return st=!0,ft.env.wasm.wasmPaths===void 0&&$t&&$t.indexOf("blob:")!==0&&(ft.env.wasm.wasmPaths=$t.substr(0,+$t.lastIndexOf("/")+1)),new Promise((It,Rt)=>{ot==null||ot.terminate(),ot=nt(8050).Z(),ot.onmessage=Ot,tt=[It,Rt];const Ft={type:"init-wasm",in:ft.env.wasm};ot.postMessage(Ft)})}return(0,ct.initializeWebAssembly)(ft.env.wasm)},_e.initializeRuntime=async It=>{if(lt())return Tt(),new Promise((Rt,Ft)=>{rt=[Rt,Ft];const Pt={type:"init-ort",in:It};ot.postMessage(Pt)});await ht.initRuntime(It)},_e.createSessionAllocate=async It=>lt()?(Tt(),new Promise((Rt,Ft)=>{mt.push([Rt,Ft]);const Pt={type:"create_allocate",in:{model:It}};ot.postMessage(Pt,[It.buffer])})):ht.createSessionAllocate(It),_e.createSessionFinalize=async(It,Rt)=>lt()?(Tt(),new Promise((Ft,Pt)=>{yt.push([Ft,Pt]);const Bt={type:"create_finalize",in:{modeldata:It,options:Rt}};ot.postMessage(Bt)})):ht.createSessionFinalize(It,Rt),_e.createSession=async(It,Rt)=>lt()?(Tt(),new Promise((Ft,Pt)=>{bt.push([Ft,Pt]);const Bt={type:"create",in:{model:It,options:Rt}};ot.postMessage(Bt,[It.buffer])})):ht.createSession(It,Rt),_e.releaseSession=async It=>{if(lt())return Tt(),new Promise((Rt,Ft)=>{vt.push([Rt,Ft]);const Pt={type:"release",in:It};ot.postMessage(Pt)});ht.releaseSession(It)},_e.run=async(It,Rt,Ft,Pt,Bt)=>lt()?(Tt(),new Promise((Et,At)=>{wt.push([Et,At]);const jt={type:"run",in:{sessionId:It,inputIndices:Rt,inputs:Ft,outputIndices:Pt,options:Bt}};ot.postMessage(jt,ht.extractTransferableBuffers(Ft))})):ht.run(It,Rt,Ft,Pt,Bt),_e.endProfiling=async It=>{if(lt())return Tt(),new Promise((Rt,Ft)=>{xt.push([Rt,Ft]);const Pt={type:"end-profiling",in:It};ot.postMessage(Pt)});ht.endProfiling(It)}},7918:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.setRunOptions=void 0;const it=nt(263),at=nt(1497);_e.setRunOptions=ut=>{const dt=(0,it.getInstance)();let ft=0;const ht=[],ct=ut||{};try{if((ut==null?void 0:ut.logSeverityLevel)===void 0)ct.logSeverityLevel=2;else if(typeof ut.logSeverityLevel!="number"||!Number.isInteger(ut.logSeverityLevel)||ut.logSeverityLevel<0||ut.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${ut.logSeverityLevel}`);if((ut==null?void 0:ut.logVerbosityLevel)===void 0)ct.logVerbosityLevel=0;else if(typeof ut.logVerbosityLevel!="number"||!Number.isInteger(ut.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${ut.logVerbosityLevel}`);(ut==null?void 0:ut.terminate)===void 0&&(ct.terminate=!1);let lt=0;return(ut==null?void 0:ut.tag)!==void 0&&(lt=(0,at.allocWasmString)(ut.tag,ht)),ft=dt._OrtCreateRunOptions(ct.logSeverityLevel,ct.logVerbosityLevel,!!ct.terminate,lt),ft===0&&(0,at.checkLastError)("Can't create run options."),(ut==null?void 0:ut.extra)!==void 0&&(0,at.iterateExtraOptions)(ut.extra,"",new WeakSet,(ot,tt)=>{const rt=(0,at.allocWasmString)(ot,ht),st=(0,at.allocWasmString)(tt,ht);dt._OrtAddRunConfigEntry(ft,rt,st)!==0&&(0,at.checkLastError)(`Can't set a run config entry: ${ot} - ${tt}.`)}),[ft,ht]}catch(lt){throw ft!==0&&dt._OrtReleaseRunOptions(ft),ht.forEach(ot=>dt._free(ot)),lt}}},6640:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.OnnxruntimeWebAssemblySessionHandler=void 0;const it=nt(2806),at=nt(2235),ut=nt(2850),dt=nt(9544);let ft;_e.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(ht){const ct=await fetch(ht);if(ct.status!==200)throw new Error(`failed to load model: ${ht}`);const lt=await ct.arrayBuffer();return(0,dt.createSessionAllocate)(new Uint8Array(lt))}async loadModel(ht,ct){if(ft||(await(0,dt.initializeRuntime)(at.env),ft=!0),typeof ht=="string")if(typeof process<"u"&&process.versions&&process.versions.node){const lt=await(0,ut.promisify)(it.readFile)(ht);[this.sessionId,this.inputNames,this.outputNames]=await(0,dt.createSession)(lt,ct)}else{const lt=await this.createSessionAllocate(ht);[this.sessionId,this.inputNames,this.outputNames]=await(0,dt.createSessionFinalize)(lt,ct)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,dt.createSession)(ht,ct)}async dispose(){return(0,dt.releaseSession)(this.sessionId)}async run(ht,ct,lt){const ot=[],tt=[];Object.entries(ht).forEach(gt=>{const mt=gt[0],yt=gt[1],bt=this.inputNames.indexOf(mt);if(bt===-1)throw new Error(`invalid input '${mt}'`);ot.push(yt),tt.push(bt)});const rt=[];Object.entries(ct).forEach(gt=>{const mt=gt[0],yt=this.outputNames.indexOf(mt);if(yt===-1)throw new Error(`invalid output '${mt}'`);rt.push(yt)});const st=await(0,dt.run)(this.sessionId,tt,ot.map(gt=>[gt.type,gt.dims,gt.data]),rt,lt),pt={};for(let gt=0;gt<st.length;gt++)pt[this.outputNames[rt[gt]]]=new at.Tensor(st[gt][0],st[gt][2],st[gt][1]);return pt}startProfiling(){}endProfiling(){(0,dt.endProfiling)(this.sessionId)}}},7622:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.setSessionOptions=void 0;const it=nt(263),at=nt(1497);_e.setSessionOptions=ut=>{var dt,ft,ht,ct;const lt=(0,it.getInstance)();let ot=0;const tt=[],rt=ut||{};(st=>{st.extra||(st.extra={}),st.extra.session||(st.extra.session={});const pt=st.extra.session;pt.use_ort_model_bytes_directly||(pt.use_ort_model_bytes_directly="1"),st.executionProviders&&st.executionProviders.some(gt=>(typeof gt=="string"?gt:gt.name)==="webgpu")&&(st.enableMemPattern=!1)})(rt);try{const st=(vt=>{switch(vt){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${vt}`)}})((dt=rt.graphOptimizationLevel)!==null&&dt!==void 0?dt:"all"),pt=(vt=>{switch(vt){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${vt}`)}})((ft=rt.executionMode)!==null&&ft!==void 0?ft:"sequential"),gt=typeof rt.logId=="string"?(0,at.allocWasmString)(rt.logId,tt):0,mt=(ht=rt.logSeverityLevel)!==null&&ht!==void 0?ht:2;if(!Number.isInteger(mt)||mt<0||mt>4)throw new Error(`log serverity level is not valid: ${mt}`);const yt=(ct=rt.logVerbosityLevel)!==null&&ct!==void 0?ct:0;if(!Number.isInteger(yt)||yt<0||yt>4)throw new Error(`log verbosity level is not valid: ${yt}`);const bt=typeof rt.optimizedModelFilePath=="string"?(0,at.allocWasmString)(rt.optimizedModelFilePath,tt):0;return ot=lt._OrtCreateSessionOptions(st,!!rt.enableCpuMemArena,!!rt.enableMemPattern,pt,!!rt.enableProfiling,0,gt,mt,yt,bt),ot===0&&(0,at.checkLastError)("Can't create session options."),rt.executionProviders&&((vt,wt,xt)=>{for(const Tt of wt){let Ot=typeof Tt=="string"?Tt:Tt.name;switch(Ot){case"xnnpack":Ot="XNNPACK";break;case"webnn":if(Ot="WEBNN",typeof Tt!="string"){const It=Tt;if(It!=null&&It.deviceType){const Rt=(0,at.allocWasmString)("deviceType",xt),Ft=(0,at.allocWasmString)(It.deviceType,xt);(0,it.getInstance)()._OrtAddSessionConfigEntry(vt,Rt,Ft)!==0&&(0,at.checkLastError)(`Can't set a session config entry: 'deviceType' - ${It.deviceType}.`)}if(It!=null&&It.powerPreference){const Rt=(0,at.allocWasmString)("powerPreference",xt),Ft=(0,at.allocWasmString)(It.powerPreference,xt);(0,it.getInstance)()._OrtAddSessionConfigEntry(vt,Rt,Ft)!==0&&(0,at.checkLastError)(`Can't set a session config entry: 'powerPreference' - ${It.powerPreference}.`)}}break;case"webgpu":Ot="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${Ot}`)}const $t=(0,at.allocWasmString)(Ot,xt);(0,it.getInstance)()._OrtAppendExecutionProvider(vt,$t)!==0&&(0,at.checkLastError)(`Can't append execution provider: ${Ot}.`)}})(ot,rt.executionProviders,tt),rt.extra!==void 0&&(0,at.iterateExtraOptions)(rt.extra,"",new WeakSet,(vt,wt)=>{const xt=(0,at.allocWasmString)(vt,tt),Tt=(0,at.allocWasmString)(wt,tt);lt._OrtAddSessionConfigEntry(ot,xt,Tt)!==0&&(0,at.checkLastError)(`Can't set a session config entry: ${vt} - ${wt}.`)}),[ot,tt]}catch(st){throw ot!==0&&lt._OrtReleaseSessionOptions(ot),tt.forEach(pt=>lt._free(pt)),st}}},7917:(et,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.logLevelStringToEnum=_e.tensorTypeToTypedArrayConstructor=_e.getTensorElementSize=_e.tensorDataTypeEnumToString=_e.tensorDataTypeStringToEnum=void 0,_e.tensorDataTypeStringToEnum=nt=>{switch(nt){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${nt}`)}},_e.tensorDataTypeEnumToString=nt=>{switch(nt){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${nt}`)}},_e.getTensorElementSize=nt=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][nt],_e.tensorTypeToTypedArrayConstructor=nt=>{switch(nt){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${nt}`)}},_e.logLevelStringToEnum=nt=>{switch(nt){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${nt}`)}}},1259:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.extractTransferableBuffers=_e.endProfiling=_e.run=_e.releaseSession=_e.createSession=_e.createSessionFinalize=_e.createSessionAllocate=_e.initRuntime=void 0;const it=nt(7918),at=nt(7622),ut=nt(7917),dt=nt(263),ft=nt(1497);_e.initRuntime=async ct=>{var lt,ot;lt=ct.wasm.numThreads,ot=(0,ut.logLevelStringToEnum)(ct.logLevel),(0,dt.getInstance)()._OrtInit(lt,ot)!==0&&(0,ft.checkLastError)("Can't initialize onnxruntime.")};const ht=new Map;_e.createSessionAllocate=ct=>{const lt=(0,dt.getInstance)(),ot=lt._malloc(ct.byteLength);if(ot===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${ct.byteLength}.`);return lt.HEAPU8.set(ct,ot),[ot,ct.byteLength]},_e.createSessionFinalize=(ct,lt)=>{const ot=(0,dt.getInstance)();let tt=0,rt=0,st=[];const pt=[],gt=[];try{[rt,st]=(0,at.setSessionOptions)(lt),tt=ot._OrtCreateSession(ct[0],ct[1],rt),tt===0&&(0,ft.checkLastError)("Can't create a session.");const[mt,yt]=(wt=>{const xt=(0,dt.getInstance)(),Tt=xt.stackSave();try{const Ot=xt.stackAlloc(8);return xt._OrtGetInputOutputCount(wt,Ot,Ot+4)!==0&&(0,ft.checkLastError)("Can't get session input/output count."),[xt.HEAP32[Ot/4],xt.HEAP32[Ot/4+1]]}finally{xt.stackRestore(Tt)}})(tt),bt=[],vt=[];for(let wt=0;wt<mt;wt++){const xt=ot._OrtGetInputName(tt,wt);xt===0&&(0,ft.checkLastError)("Can't get an input name."),pt.push(xt),bt.push(ot.UTF8ToString(xt))}for(let wt=0;wt<yt;wt++){const xt=ot._OrtGetOutputName(tt,wt);xt===0&&(0,ft.checkLastError)("Can't get an output name."),gt.push(xt),vt.push(ot.UTF8ToString(xt))}return ht.set(tt,[tt,pt,gt]),[tt,bt,vt]}catch(mt){throw pt.forEach(yt=>ot._OrtFree(yt)),gt.forEach(yt=>ot._OrtFree(yt)),tt!==0&&ot._OrtReleaseSession(tt),mt}finally{ot._free(ct[0]),rt!==0&&ot._OrtReleaseSessionOptions(rt),st.forEach(mt=>ot._free(mt))}},_e.createSession=(ct,lt)=>{const ot=(0,_e.createSessionAllocate)(ct);return(0,_e.createSessionFinalize)(ot,lt)},_e.releaseSession=ct=>{const lt=(0,dt.getInstance)(),ot=ht.get(ct);if(!ot)throw new Error(`cannot release session. invalid session id: ${ct}`);const[tt,rt,st]=ot;rt.forEach(pt=>lt._OrtFree(pt)),st.forEach(pt=>lt._OrtFree(pt)),lt._OrtReleaseSession(tt),ht.delete(ct)},_e.run=async(ct,lt,ot,tt,rt)=>{const st=(0,dt.getInstance)(),pt=ht.get(ct);if(!pt)throw new Error(`cannot run inference. invalid session id: ${ct}`);const[gt,mt,yt]=pt,bt=lt.length,vt=tt.length;let wt=0,xt=[];const Tt=[],Ot=[];try{[wt,xt]=(0,it.setRunOptions)(rt);for(let Bt=0;Bt<bt;Bt++){const Et=ot[Bt][0],At=ot[Bt][1],jt=ot[Bt][2];let Mt,Lt;if(Array.isArray(jt)){Lt=4*jt.length,Mt=st._malloc(Lt),Ot.push(Mt);let Qt=Mt/4;for(let Zt=0;Zt<jt.length;Zt++){if(typeof jt[Zt]!="string")throw new TypeError(`tensor data at index ${Zt} is not a string`);st.HEAPU32[Qt++]=(0,ft.allocWasmString)(jt[Zt],Ot)}}else Lt=jt.byteLength,Mt=st._malloc(Lt),Ot.push(Mt),st.HEAPU8.set(new Uint8Array(jt.buffer,jt.byteOffset,Lt),Mt);const Kt=st.stackSave(),qt=st.stackAlloc(4*At.length);try{let Qt=qt/4;At.forEach(tn=>st.HEAP32[Qt++]=tn);const Zt=st._OrtCreateTensor((0,ut.tensorDataTypeStringToEnum)(Et),Mt,Lt,qt,At.length);Zt===0&&(0,ft.checkLastError)(`Can't create tensor for input[${Bt}].`),Tt.push(Zt)}finally{st.stackRestore(Kt)}}const $t=st.stackSave(),It=st.stackAlloc(4*bt),Rt=st.stackAlloc(4*bt),Ft=st.stackAlloc(4*vt),Pt=st.stackAlloc(4*vt);try{let Bt=It/4,Et=Rt/4,At=Ft/4,jt=Pt/4;for(let qt=0;qt<bt;qt++)st.HEAPU32[Bt++]=Tt[qt],st.HEAPU32[Et++]=mt[lt[qt]];for(let qt=0;qt<vt;qt++)st.HEAPU32[At++]=0,st.HEAPU32[jt++]=yt[tt[qt]];let Mt=st._OrtRun(gt,Rt,It,bt,Pt,vt,Ft,wt);const Lt=st.jsepRunPromise;Lt&&Lt.then!==void 0&&(Mt=await Lt);const Kt=[];Mt!==0&&(0,ft.checkLastError)("failed to call OrtRun().");for(let qt=0;qt<vt;qt++){const Qt=st.HEAPU32[Ft/4+qt],Zt=st.stackSave(),tn=st.stackAlloc(16);let nn,sn=0;try{Mt=st._OrtGetTensorData(Qt,tn,tn+4,tn+8,tn+12),Mt!==0&&(0,ft.checkLastError)(`Can't access output tensor data on index ${qt}.`);let an=tn/4;const mn=st.HEAPU32[an++];sn=st.HEAPU32[an++];const Tn=st.HEAPU32[an++],Cn=st.HEAPU32[an++],yn=[];for(let cn=0;cn<Cn;cn++)yn.push(st.HEAPU32[Tn/4+cn]);st._OrtFree(Tn);const $n=yn.length===0?1:yn.reduce((cn,bn)=>cn*bn);if(nn=(0,ut.tensorDataTypeEnumToString)(mn),nn==="string"){const cn=[];let bn=sn/4;for(let On=0;On<$n;On++){const Sn=st.HEAPU32[bn++],Pn=On===$n-1?void 0:st.HEAPU32[bn]-Sn;cn.push(st.UTF8ToString(Sn,Pn))}Kt.push([nn,yn,cn])}else{const cn=new((0,ut.tensorTypeToTypedArrayConstructor)(nn))($n);new Uint8Array(cn.buffer,cn.byteOffset,cn.byteLength).set(st.HEAPU8.subarray(sn,sn+cn.byteLength)),Kt.push([nn,yn,cn])}}finally{st.stackRestore(Zt),nn==="string"&&sn&&st._free(sn),st._OrtReleaseTensor(Qt)}}return Kt}finally{st.stackRestore($t)}}finally{Tt.forEach($t=>st._OrtReleaseTensor($t)),Ot.forEach($t=>st._free($t)),wt!==0&&st._OrtReleaseRunOptions(wt),xt.forEach($t=>st._free($t))}},_e.endProfiling=ct=>{const lt=(0,dt.getInstance)(),ot=ht.get(ct);if(!ot)throw new Error("invalid session id");const tt=ot[0],rt=lt._OrtEndProfiling(tt);rt===0&&(0,ft.checkLastError)("Can't get an profile file name."),lt._OrtFree(rt)},_e.extractTransferableBuffers=ct=>{const lt=[];for(const ot of ct){const tt=ot[2];!Array.isArray(tt)&&tt.buffer&&lt.push(tt.buffer)}return lt}},263:function(et,_e,nt){var it=this&&this.__createBinding||(Object.create?function(rt,st,pt,gt){gt===void 0&&(gt=pt);var mt=Object.getOwnPropertyDescriptor(st,pt);mt&&!("get"in mt?!st.__esModule:mt.writable||mt.configurable)||(mt={enumerable:!0,get:function(){return st[pt]}}),Object.defineProperty(rt,gt,mt)}:function(rt,st,pt,gt){gt===void 0&&(gt=pt),rt[gt]=st[pt]}),at=this&&this.__setModuleDefault||(Object.create?function(rt,st){Object.defineProperty(rt,"default",{enumerable:!0,value:st})}:function(rt,st){rt.default=st}),ut=this&&this.__importStar||function(rt){if(rt&&rt.__esModule)return rt;var st={};if(rt!=null)for(var pt in rt)pt!=="default"&&Object.prototype.hasOwnProperty.call(rt,pt)&&it(st,rt,pt);return at(st,rt),st};Object.defineProperty(_e,"__esModule",{value:!0}),_e.dispose=_e.getInstance=_e.initializeWebAssembly=void 0;const dt=ut(nt(6449)),ft=nt(932),ht=nt(3474);let ct,lt=!1,ot=!1,tt=!1;_e.initializeWebAssembly=async rt=>{if(lt)return Promise.resolve();if(ot)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(tt)throw new Error("previous call to 'initializeWebAssembly()' failed.");ot=!0;const st=rt.initTimeout,pt=rt.numThreads,gt=rt.simd,mt=pt>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),yt=gt&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),bt=rt.wasmPaths,vt=typeof bt=="string"?bt:void 0,wt=(($t,It)=>It?$t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":$t?"ort-wasm-simd.wasm":"ort-wasm.wasm")(yt,mt),xt=typeof bt=="object"?bt[wt]:void 0;let Tt=!1;const Ot=[];if(st>0&&Ot.push(new Promise($t=>{setTimeout(()=>{Tt=!0,$t()},st)})),Ot.push(new Promise(($t,It)=>{const Rt=mt?ht:ft,Ft={locateFile:(Pt,Bt)=>mt&&Pt.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([nt(4154)],{type:"text/javascript"})):Pt.endsWith(".wasm")?xt||(vt??Bt)+wt:Bt+Pt};if(mt)if(typeof Blob>"u")Ft.mainScriptUrlOrBlob=dt.join(__dirname,"ort-wasm-threaded.js");else{const Pt=`var ortWasmThreaded=(function(){var _scriptDir;return ${Rt.toString()}})();`;Ft.mainScriptUrlOrBlob=new Blob([Pt],{type:"text/javascript"})}Rt(Ft).then(Pt=>{ot=!1,lt=!0,ct=Pt,$t()},Pt=>{ot=!1,tt=!0,It(Pt)})})),await Promise.race(Ot),Tt)throw new Error(`WebAssembly backend initializing failed due to timeout: ${st}ms`)},_e.getInstance=()=>{if(lt&&ct)return ct;throw new Error("WebAssembly is not initialized yet.")},_e.dispose=()=>{var rt;!lt||ot||tt||(ot=!0,(rt=ct.PThread)===null||rt===void 0||rt.terminateAllThreads(),ct=void 0,ot=!1,lt=!1,tt=!0)}},1497:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.checkLastError=_e.iterateExtraOptions=_e.allocWasmString=void 0;const it=nt(263);_e.allocWasmString=(at,ut)=>{const dt=(0,it.getInstance)(),ft=dt.lengthBytesUTF8(at)+1,ht=dt._malloc(ft);return dt.stringToUTF8(at,ht,ft),ut.push(ht),ht},_e.iterateExtraOptions=(at,ut,dt,ft)=>{if(typeof at=="object"&&at!==null){if(dt.has(at))throw new Error("Circular reference in options");dt.add(at)}Object.entries(at).forEach(([ht,ct])=>{const lt=ut?ut+ht:ht;if(typeof ct=="object")(0,_e.iterateExtraOptions)(ct,lt+".",dt,ft);else if(typeof ct=="string"||typeof ct=="number")ft(lt,ct.toString());else{if(typeof ct!="boolean")throw new Error("Can't handle extra config type: "+typeof ct);ft(lt,ct?"1":"0")}})},_e.checkLastError=at=>{const ut=(0,it.getInstance)(),dt=ut.stackSave();try{const ft=ut.stackAlloc(8);ut._OrtGetLastError(ft,ft+4);const ht=ut.HEAP32[ft/4],ct=ut.HEAPU32[ft/4+1],lt=ct?ut.UTF8ToString(ct):"";throw new Error(`${at} ERROR_CODE: ${ht}, ERROR_MESSAGE: ${lt}`)}finally{ut.stackRestore(dt)}}},8050:(et,_e,nt)=>{nt.d(_e,{Z:()=>ut});var it=nt(6614),at=nt.n(it);function ut(){return at()('/*!\n* ONNX Runtime Web v1.16.3\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const n=r(263),a=r(497);t.setRunOptions=e=>{const t=(0,n.getInstance)();let r=0;const o=[],i=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))i.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))i.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(i.terminate=!1);let n=0;return void 0!==(null==e?void 0:e.tag)&&(n=(0,a.allocWasmString)(e.tag,o)),r=t._OrtCreateRunOptions(i.logSeverityLevel,i.logVerbosityLevel,!!i.terminate,n),0===r&&(0,a.checkLastError)("Can\'t create run options."),void 0!==(null==e?void 0:e.extra)&&(0,a.iterateExtraOptions)(e.extra,"",new WeakSet,((e,n)=>{const i=(0,a.allocWasmString)(e,o),s=(0,a.allocWasmString)(n,o);0!==t._OrtAddRunConfigEntry(r,i,s)&&(0,a.checkLastError)(`Can\'t set a run config entry: ${e} - ${n}.`)})),[r,o]}catch(e){throw 0!==r&&t._OrtReleaseRunOptions(r),o.forEach((e=>t._free(e))),e}}},622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const n=r(263),a=r(497);t.setSessionOptions=e=>{var t,r,o,i;const s=(0,n.getInstance)();let u=0;const c=[],l=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(l);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=l.graphOptimizationLevel)&&void 0!==t?t:"all"),f=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(r=l.executionMode)&&void 0!==r?r:"sequential"),d="string"==typeof l.logId?(0,a.allocWasmString)(l.logId,c):0,p=null!==(o=l.logSeverityLevel)&&void 0!==o?o:2;if(!Number.isInteger(p)||p<0||p>4)throw new Error(`log serverity level is not valid: ${p}`);const g=null!==(i=l.logVerbosityLevel)&&void 0!==i?i:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof l.optimizedModelFilePath?(0,a.allocWasmString)(l.optimizedModelFilePath,c):0;return u=s._OrtCreateSessionOptions(e,!!l.enableCpuMemArena,!!l.enableMemPattern,f,!!l.enableProfiling,0,d,p,g,h),0===u&&(0,a.checkLastError)("Can\'t create session options."),l.executionProviders&&((e,t,r)=>{for(const o of t){let t="string"==typeof o?o:o.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof o){const t=o;if(null==t?void 0:t.deviceType){const o=(0,a.allocWasmString)("deviceType",r),i=(0,a.allocWasmString)(t.deviceType,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'deviceType\' - ${t.deviceType}.`)}if(null==t?void 0:t.powerPreference){const o=(0,a.allocWasmString)("powerPreference",r),i=(0,a.allocWasmString)(t.powerPreference,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,o,i)&&(0,a.checkLastError)(`Can\'t set a session config entry: \'powerPreference\' - ${t.powerPreference}.`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${t}`)}const i=(0,a.allocWasmString)(t,r);0!==(0,n.getInstance)()._OrtAppendExecutionProvider(e,i)&&(0,a.checkLastError)(`Can\'t append execution provider: ${t}.`)}})(u,l.executionProviders,c),void 0!==l.extra&&(0,a.iterateExtraOptions)(l.extra,"",new WeakSet,((e,t)=>{const r=(0,a.allocWasmString)(e,c),n=(0,a.allocWasmString)(t,c);0!==s._OrtAddSessionConfigEntry(u,r,n)&&(0,a.checkLastError)(`Can\'t set a session config entry: ${e} - ${t}.`)})),[u,c]}catch(e){throw 0!==u&&s._OrtReleaseSessionOptions(u),c.forEach((e=>s._free(e))),e}}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initRuntime=void 0;const n=r(918),a=r(622),o=r(917),i=r(263),s=r(497);t.initRuntime=async e=>{var t,r;t=e.wasm.numThreads,r=(0,o.logLevelStringToEnum)(e.logLevel),0!==(0,i.getInstance)()._OrtInit(t,r)&&(0,s.checkLastError)("Can\'t initialize onnxruntime.")};const u=new Map;t.createSessionAllocate=e=>{const t=(0,i.getInstance)(),r=t._malloc(e.byteLength);if(0===r)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},t.createSessionFinalize=(e,t)=>{const r=(0,i.getInstance)();let n=0,o=0,c=[];const l=[],f=[];try{[o,c]=(0,a.setSessionOptions)(t),n=r._OrtCreateSession(e[0],e[1],o),0===n&&(0,s.checkLastError)("Can\'t create a session.");const[d,p]=(e=>{const t=(0,i.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);return 0!==t._OrtGetInputOutputCount(e,r,r+4)&&(0,s.checkLastError)("Can\'t get session input/output count."),[t.HEAP32[r/4],t.HEAP32[r/4+1]]}finally{t.stackRestore(r)}})(n),g=[],h=[];for(let e=0;e<d;e++){const t=r._OrtGetInputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an input name."),l.push(t),g.push(r.UTF8ToString(t))}for(let e=0;e<p;e++){const t=r._OrtGetOutputName(n,e);0===t&&(0,s.checkLastError)("Can\'t get an output name."),f.push(t),h.push(r.UTF8ToString(t))}return u.set(n,[n,l,f]),[n,g,h]}catch(e){throw l.forEach((e=>r._OrtFree(e))),f.forEach((e=>r._OrtFree(e))),0!==n&&r._OrtReleaseSession(n),e}finally{r._free(e[0]),0!==o&&r._OrtReleaseSessionOptions(o),c.forEach((e=>r._free(e)))}},t.createSession=(e,r)=>{const n=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(n,r)},t.releaseSession=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);const[n,a,o]=r;a.forEach((e=>t._OrtFree(e))),o.forEach((e=>t._OrtFree(e))),t._OrtReleaseSession(n),u.delete(e)},t.run=async(e,t,r,a,c)=>{const l=(0,i.getInstance)(),f=u.get(e);if(!f)throw new Error(`cannot run inference. invalid session id: ${e}`);const[d,p,g]=f,h=t.length,m=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,n.setRunOptions)(c);for(let e=0;e<h;e++){const t=r[e][0],n=r[e][1],a=r[e][2];let i,u;if(Array.isArray(a)){u=4*a.length,i=l._malloc(u),w.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,s.allocWasmString)(a[t],w)}}else u=a.byteLength,i=l._malloc(u),w.push(i),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),i);const c=l.stackSave(),f=l.stackAlloc(4*n.length);try{let r=f/4;n.forEach((e=>l.HEAP32[r++]=e));const a=l._OrtCreateTensor((0,o.tensorDataTypeStringToEnum)(t),i,u,f,n.length);0===a&&(0,s.checkLastError)(`Can\'t create tensor for input[${e}].`),b.push(a)}finally{l.stackRestore(c)}}const e=l.stackSave(),i=l.stackAlloc(4*h),u=l.stackAlloc(4*h),f=l.stackAlloc(4*m),_=l.stackAlloc(4*m);try{let e=i/4,r=u/4,n=f/4,c=_/4;for(let n=0;n<h;n++)l.HEAPU32[e++]=b[n],l.HEAPU32[r++]=p[t[n]];for(let e=0;e<m;e++)l.HEAPU32[n++]=0,l.HEAPU32[c++]=g[a[e]];let v=l._OrtRun(d,u,i,h,_,m,f,y);const w=l.jsepRunPromise;w&&void 0!==w.then&&(v=await w);const O=[];0!==v&&(0,s.checkLastError)("failed to call OrtRun().");for(let e=0;e<m;e++){const t=l.HEAPU32[f/4+e],r=l.stackSave(),n=l.stackAlloc(16);let a,i=0;try{v=l._OrtGetTensorData(t,n,n+4,n+8,n+12),0!==v&&(0,s.checkLastError)(`Can\'t access output tensor data on index ${e}.`);let r=n/4;const u=l.HEAPU32[r++];i=l.HEAPU32[r++];const c=l.HEAPU32[r++],f=l.HEAPU32[r++],d=[];for(let e=0;e<f;e++)d.push(l.HEAPU32[c/4+e]);l._OrtFree(c);const p=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=(0,o.tensorDataTypeEnumToString)(u),"string"===a){const e=[];let t=i/4;for(let r=0;r<p;r++){const n=l.HEAPU32[t++],a=r===p-1?void 0:l.HEAPU32[t]-n;e.push(l.UTF8ToString(n,a))}O.push([a,d,e])}else{const e=new((0,o.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(i,i+e.byteLength)),O.push([a,d,e])}}finally{l.stackRestore(r),"string"===a&&i&&l._free(i),l._OrtReleaseTensor(t)}}return O}finally{l.stackRestore(e)}}finally{b.forEach((e=>l._OrtReleaseTensor(e))),w.forEach((e=>l._free(e))),0!==y&&l._OrtReleaseRunOptions(y),v.forEach((e=>l._free(e)))}},t.endProfiling=e=>{const t=(0,i.getInstance)(),r=u.get(e);if(!r)throw new Error("invalid session id");const n=r[0],a=t._OrtEndProfiling(n);0===a&&(0,s.checkLastError)("Can\'t get an profile file name."),t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const r of e){const e=r[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(r(449)),s=r(932),u=r(474);let c,l=!1,f=!1,d=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,n=e.numThreads,a=e.simd,o=n>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),p=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g=e.wasmPaths,h="string"==typeof g?g:void 0,m=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(p,o),y="object"==typeof g?g[m]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const n=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([r(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=h?h:t)+m:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join(__dirname,"ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${n.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}n(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,d=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||d||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,d=!0)}},497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkLastError=t.iterateExtraOptions=t.allocWasmString=void 0;const n=r(263);t.allocWasmString=(e,t)=>{const r=(0,n.getInstance)(),a=r.lengthBytesUTF8(e)+1,o=r._malloc(a);return r.stringToUTF8(e,o,a),t.push(o),o},t.iterateExtraOptions=(e,r,n,a)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((([e,o])=>{const i=r?r+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",n,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))},t.checkLastError=e=>{const t=(0,n.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);t._OrtGetLastError(r,r+4);const n=t.HEAP32[r/4],a=t.HEAPU32[r/4+1],o=a?t.UTF8ToString(a):"";throw new Error(`${e} ERROR_CODE: ${n}, ERROR_MESSAGE: ${o}`)}finally{t.stackRestore(r)}}},474:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){function t(){return k.buffer!=x.buffer&&Y(),x}function n(){return k.buffer!=x.buffer&&Y(),I}function a(){return k.buffer!=x.buffer&&Y(),U}function o(){return k.buffer!=x.buffer&&Y(),L}function i(){return k.buffer!=x.buffer&&Y(),W}var s,u,c=e;c.ready=new Promise(((e,t)=>{s=e,u=t}));var l,f,d,p=Object.assign({},c),g="./this.program",h=(e,t)=>{throw t},m="object"==typeof window,y="function"==typeof importScripts,v="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b=c.ENVIRONMENT_IS_PTHREAD||!1,w="";function _(e){return c.locateFile?c.locateFile(e,w):w+e}if(v){var O=r(384),S=r(908);let t;w=y?S.dirname(w)+"/":__dirname+"/",l=(e,t)=>(e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFileSync(e,t?void 0:"utf8")),d=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):S.normalize(e),O.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!c.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),h=(e,t)=>{throw process.exitCode=e,t},c.inspect=()=>"[Emscripten Module object]";try{t=r(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}global.Worker=t.Worker}else(m||y)&&(y?w=self.location.href:"undefined"!=typeof document&&document.currentScript&&(w=document.currentScript.src),_scriptDir&&(w=_scriptDir),w=0!==w.indexOf("blob:")?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",v||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},y&&(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)}));v&&"undefined"==typeof performance&&(global.performance=r(953).performance);var E=console.log.bind(console),A=console.error.bind(console);v&&(E=(...e)=>O.writeSync(1,e.join(" ")+"\\n"),A=(...e)=>O.writeSync(2,e.join(" ")+"\\n"));var T,M=c.print||E,R=c.printErr||A;Object.assign(c,p),p=null,c.thisProgram&&(g=c.thisProgram),c.quit&&(h=c.quit),c.wasmBinary&&(T=c.wasmBinary);var F=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&te("no native wasm support detected");var k,C,P,D,x,I,U,L,W,H=!1;function Y(){var e=k.buffer;c.HEAP8=x=new Int8Array(e),c.HEAP16=new Int16Array(e),c.HEAP32=U=new Int32Array(e),c.HEAPU8=I=new Uint8Array(e),c.HEAPU16=new Uint16Array(e),c.HEAPU32=L=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=W=new Float64Array(e)}var j=c.INITIAL_MEMORY||16777216;if(5242880<=j||te("INITIAL_MEMORY should be larger than STACK_SIZE, was "+j+"! (STACK_SIZE=5242880)"),b)k=c.wasmMemory;else if(c.wasmMemory)k=c.wasmMemory;else if(!((k=new WebAssembly.Memory({initial:j/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw R("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),v&&R("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Y(),j=k.buffer.byteLength;var z,G=[],N=[],B=[],$=0;function q(){return F||0<$}var V,J,X=0,K=null,Z=null;function Q(){X++,c.monitorRunDependencies&&c.monitorRunDependencies(X)}function ee(){if(X--,c.monitorRunDependencies&&c.monitorRunDependencies(X),0==X&&(null!==K&&(clearInterval(K),K=null),Z)){var e=Z;Z=null,e()}}function te(e){throw c.onAbort&&c.onAbort(e),R(e="Aborted("+e+")"),H=!0,D=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}function re(e){return e.startsWith("data:application/octet-stream;base64,")}function ne(e){if(e==V&&T)return new Uint8Array(T);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}function ae(e,t,r){return function(e){if(!T&&(m||y)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>ne(e)));if(f)return new Promise(((t,r)=>{f(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>ne(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{R("failed to asynchronously prepare wasm: "+e),te(e)}))}function oe(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}function ie(e){e.terminate(),e.onmessage=()=>{}}function se(e){(e=ge.Fa[e])||te(),ge.fb(e)}function ue(e){var t=ge.Za();if(!t)return 6;ge.Ia.push(t),ge.Fa[e.Ha]=t,t.Ha=e.Ha;var r={cmd:"run",start_routine:e.gb,arg:e.Ya,pthread_ptr:e.Ha};return v&&t.unref(),t.postMessage(r,e.mb),0}re(V="ort-wasm-threaded.wasm")||(V=_(V));var ce="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,le=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&ce)return ce.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},fe=(e,t)=>(e>>>=0)?le(n(),e,t):"";function de(e){if(b)return qe(1,1,e);D=e,q()||(ge.hb(),c.onExit&&c.onExit(e),H=!0),h(e,new oe(e))}var pe=e=>{if(D=e,b)throw me(e),"unwind";de(e)},ge={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){b?ge.ab():ge.$a()},$a:function(){G.unshift((()=>{Q(),ge.bb((()=>ee()))}))},ab:function(){ge.receiveObjectTransfer=ge.eb,ge.threadInitTLS=ge.Sa,ge.setExitStatus=ge.Ra,F=!1},Ra:function(e){D=e},rb:["$terminateWorker"],hb:function(){for(var e of ge.Ia)ie(e);for(e of ge.La)ie(e);ge.La=[],ge.Ia=[],ge.Fa=[]},fb:function(e){var t=e.Ha;delete ge.Fa[t],ge.La.push(e),ge.Ia.splice(ge.Ia.indexOf(e),1),e.Ha=0,yt(t)},eb:function(){},Sa:function(){ge.Ta.forEach((e=>e()))},cb:e=>new Promise((t=>{e.onmessage=r=>{var n=(r=r.data).cmd;if(r.targetThread&&r.targetThread!=dt()){var a=ge.Fa[r.qb];a?a.postMessage(r,r.transferList):R(\'Internal error! Worker sent a message "\'+n+\'" to target pthread \'+r.targetThread+", but that thread no longer exists!")}else"checkMailbox"===n?He():"spawnThread"===n?ue(r):"cleanupThread"===n?se(r.thread):"killThread"===n?(r=r.thread,n=ge.Fa[r],delete ge.Fa[r],ie(n),yt(r),ge.Ia.splice(ge.Ia.indexOf(n),1),n.Ha=0):"cancelThread"===n?ge.Fa[r.thread].postMessage({cmd:"cancel"}):"loaded"===n?(e.loaded=!0,t(e)):"alert"===n?alert("Thread "+r.threadId+": "+r.text):"setimmediate"===r.target?e.postMessage(r):"callHandler"===n?c[r.handler](...r.args):n&&R("worker sent an unknown command "+n)},e.onerror=e=>{throw R("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},v&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})));var r,n=[];for(r of["onExit","onAbort","print","printErr"])c.hasOwnProperty(r)&&n.push(r);e.postMessage({cmd:"load",handlers:n,urlOrBlob:c.mainScriptUrlOrBlob||_scriptDir,wasmMemory:k,wasmModule:P})})),bb:function(e){e()},Xa:function(){var e=_("ort-wasm-threaded.worker.js");e=new Worker(e),ge.La.push(e)},Za:function(){return 0==ge.La.length&&(ge.Xa(),ge.cb(ge.La[0])),ge.La.pop()}};c.PThread=ge;var he=e=>{for(;0<e.length;)e.shift()(c)};function me(e){if(b)return qe(2,0,e);pe(e)}c.establishStackSpace=function(){var e=dt(),t=a()[e+52>>2>>>0];e=a()[e+56>>2>>>0],_t(t,t-e),St(t)};var ye=[];function ve(e){this.Oa=e-24,this.Wa=function(e){o()[this.Oa+4>>2>>>0]=e},this.Va=function(e){o()[this.Oa+8>>2>>>0]=e},this.Pa=function(e,t){this.Ua(),this.Wa(e),this.Va(t)},this.Ua=function(){o()[this.Oa+16>>2>>>0]=0}}function be(e,t,r,n){return b?qe(3,1,e,t,r,n):we(e,t,r,n)}function we(e,t,r,n){if(e>>>=0,t>>>=0,r>>>=0,n>>>=0,"undefined"==typeof SharedArrayBuffer)return R("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return b&&0===a.length?be(e,t,r,n):(e={gb:r,Ha:e,Ya:n,mb:a},b?(e.ob="spawnThread",postMessage(e,a),0):ue(e))}function _e(e,t,r){return b?qe(4,1,e,t,r):0}function Oe(e,t){if(b)return qe(5,1,e,t)}c.invokeEntryPoint=function(e,t){var r=ye[e];r||(e>=ye.length&&(ye.length=e+1),ye[e]=r=z.get(e)),e=r(t),q()?ge.Ra(e):vt(e)};var Se=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},Ee=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Ae=(e,t,r)=>Ee(e,n(),t,r);function Te(e,t){if(b)return qe(6,1,e,t)}function Me(e,t,r){if(b)return qe(7,1,e,t,r)}function Re(e,t,r){return b?qe(8,1,e,t,r):0}function Fe(e,t){if(b)return qe(9,1,e,t)}function ke(e,t,r){if(b)return qe(10,1,e,t,r)}function Ce(e,t,r,n){if(b)return qe(11,1,e,t,r,n)}function Pe(e,t,r,n){if(b)return qe(12,1,e,t,r,n)}function De(e,t,r,n){if(b)return qe(13,1,e,t,r,n)}function xe(e){if(b)return qe(14,1,e)}function Ie(e,t){if(b)return qe(15,1,e,t)}function Ue(e,t,r){if(b)return qe(16,1,e,t,r)}var Le=e=>{if(!H)try{if(e(),!q())try{b?vt(D):pe(D)}catch(e){e instanceof oe||"unwind"==e||h(1,e)}}catch(e){e instanceof oe||"unwind"==e||h(1,e)}};function We(e){e>>>=0,"function"==typeof Atomics.nb&&(Atomics.nb(a(),e>>2,e).value.then(He),e+=128,Atomics.store(a(),e>>2,1))}function He(){var e=dt();e&&(We(e),Le((()=>bt())))}c.__emscripten_thread_mailbox_await=We,c.checkMailbox=He;var Ye=e=>0==e%4&&(0!=e%100||0==e%400),je=[0,31,60,91,121,152,182,213,244,274,305,335],ze=[0,31,59,90,120,151,181,212,243,273,304,334];function Ge(e,t,r,n,a,o,i,s){return b?qe(17,1,e,t,r,n,a,o,i,s):-52}function Ne(e,t,r,n,a,o,i){if(b)return qe(18,1,e,t,r,n,a,o,i)}var Be=e=>{var t=Se(e)+1,r=pt(t);return r&&Ae(e,r,t),r},$e=e=>{var t=Ot();return e=e(),St(t),e};function qe(e,t){var r=arguments.length-2,n=arguments;return $e((()=>{for(var a=Et(8*r),o=a>>3,s=0;s<r;s++){var u=n[2+s];i()[o+s>>>0]=u}return mt(e,r,a,t)}))}var Ve,Je=[],Xe={},Ke=()=>{if(!Ve){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(e in Xe)void 0===Xe[e]?delete t[e]:t[e]=Xe[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Ve=r}return Ve};function Ze(e,r){if(b)return qe(19,1,e,r);e>>>=0,r>>>=0;var n=0;return Ke().forEach((function(a,i){var s=r+n;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,n+=a.length+1})),0}function Qe(e,t){if(b)return qe(20,1,e,t);e>>>=0,t>>>=0;var r=Ke();o()[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),o()[t>>2>>>0]=n,0}function et(e){return b?qe(21,1,e):52}function tt(e,t,r,n){return b?qe(22,1,e,t,r,n):52}function rt(e,t,r,n,a){return b?qe(23,1,e,t,r,n,a):70}var nt=[null,[],[]];function at(e,t,r,a){if(b)return qe(24,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var i=0,s=0;s<r;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=n()[u+l>>>0],d=nt[e];0===f||10===f?((1===e?M:R)(le(d,0)),d.length=0):d.push(f)}i+=c}return o()[a>>2>>>0]=i,0}var ot=e=>(ot=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(v)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}te("initRandomDevice")})())(e),it=[31,29,31,30,31,30,31,31,30,31,30,31],st=[31,28,31,30,31,30,31,31,30,31,30,31],ut=(e,r)=>{t().set(e,r>>>0)};function ct(e,t,r,n){function o(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function i(e,t){return o(e,t,"0")}function s(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Ja;for(e=new Date(new Date(e.Ka+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Ye(e.getFullYear())?it:st)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),r=u(r),0>=s(t,e)?0>=s(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0,n>>>=0;var l=a()[n+40>>2>>>0];for(var f in n={kb:a()[n>>2>>>0],jb:a()[n+4>>2>>>0],Ma:a()[n+8>>2>>>0],Qa:a()[n+12>>2>>>0],Na:a()[n+16>>2>>>0],Ka:a()[n+20>>2>>>0],Ga:a()[n+24>>2>>>0],Ja:a()[n+28>>2>>>0],sb:a()[n+32>>2>>>0],ib:a()[n+36>>2>>>0],lb:l?fe(l):""},r=fe(r),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),l[f]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(f in l={"%a":e=>d[e.Ga].substring(0,3),"%A":e=>d[e.Ga],"%b":e=>p[e.Na].substring(0,3),"%B":e=>p[e.Na],"%C":e=>i((e.Ka+1900)/100|0,2),"%d":e=>i(e.Qa,2),"%e":e=>o(e.Qa,2," "),"%g":e=>c(e).toString().substring(2),"%G":e=>c(e),"%H":e=>i(e.Ma,2),"%I":e=>(0==(e=e.Ma)?e=12:12<e&&(e-=12),i(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.Na-1;t+=(Ye(e.Ka+1900)?it:st)[r++]);return i(e.Qa+t,3)},"%m":e=>i(e.Na+1,2),"%M":e=>i(e.jb,2),"%n":()=>"\\n","%p":e=>0<=e.Ma&&12>e.Ma?"AM":"PM","%S":e=>i(e.kb,2),"%t":()=>"\\t","%u":e=>e.Ga||7,"%U":e=>i(Math.floor((e.Ja+7-e.Ga)/7),2),"%V":e=>{var t=Math.floor((e.Ja+7-(e.Ga+6)%7)/7);if(2>=(e.Ga+371-e.Ja-2)%7&&t++,t)53==t&&(4==(r=(e.Ga+371-e.Ja)%7)||3==r&&Ye(e.Ka)||(t=1));else{t=52;var r=(e.Ga+7-e.Ja-1)%7;(4==r||5==r&&Ye(e.Ka%400-1))&&t++}return i(t,2)},"%w":e=>e.Ga,"%W":e=>i(Math.floor((e.Ja+7-(e.Ga+6)%7)/7),2),"%y":e=>(e.Ka+1900).toString().substring(2),"%Y":e=>e.Ka+1900,"%z":e=>{var t=0<=(e=e.ib);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.lb,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),l)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),l[f](n)));return f=function(e){var t=Array(Se(e)+1);return Ee(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),f.length>t?0:(ut(f,e),f.length-1)}ge.Pa();var lt=[null,de,me,be,_e,Oe,Te,Me,Re,Fe,ke,Ce,Pe,De,xe,Ie,Ue,Ge,Ne,Ze,Qe,et,tt,rt,at],ft={b:function(e,t,r){throw new ve(e>>>=0).Pa(t>>>0,r>>>0),e},N:function(e){gt(e>>>0,!y,1,!m,131072,!1),ge.Sa()},k:function(e){e>>>=0,b?postMessage({cmd:"cleanupThread",thread:e}):se(e)},I:we,h:_e,T:Oe,E:Te,G:Me,U:Re,R:Fe,J:ke,Q:Ce,o:Pe,F:De,C:xe,S:Ie,D:Ue,q:()=>!0,A:function(e,t){(e>>>=0)==t>>>0?setTimeout((()=>He())):b?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=ge.Fa[e])&&e.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:We,p:function(e){v&&ge.Fa[e>>>0].ref()},t:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getUTCSeconds(),a()[r+4>>2>>>0]=e.getUTCMinutes(),a()[r+8>>2>>>0]=e.getUTCHours(),a()[r+12>>2>>>0]=e.getUTCDate(),a()[r+16>>2>>>0]=e.getUTCMonth(),a()[r+20>>2>>>0]=e.getUTCFullYear()-1900,a()[r+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[r+28>>2>>>0]=e},u:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>2>>>0]=e.getSeconds(),a()[r+4>>2>>>0]=e.getMinutes(),a()[r+8>>2>>>0]=e.getHours(),a()[r+12>>2>>>0]=e.getDate(),a()[r+16>>2>>>0]=e.getMonth(),a()[r+20>>2>>>0]=e.getFullYear()-1900,a()[r+24>>2>>>0]=e.getDay(),t=(Ye(e.getFullYear())?je:ze)[e.getMonth()]+e.getDate()-1|0,a()[r+28>>2>>>0]=t,a()[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t)),a()[r+32>>2>>>0]=e},v:function(e){e>>>=0;var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),r=a()[e+32>>2>>>0],n=t.getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(i,o);return 0>r?a()[e+32>>2>>>0]=Number(o!=i&&s==n):0<r!=(s==n)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<r?s:o)-n))),a()[e+24>>2>>>0]=t.getDay(),r=(Ye(t.getFullYear())?je:ze)[t.getMonth()]+t.getDate()-1|0,a()[e+28>>2>>>0]=r,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,wt((J=e,1<=+Math.abs(J)?0<J?+Math.floor(J/4294967296)>>>0:~~+Math.ceil((J-+(~~J>>>0))/4294967296)>>>0:0)),e>>>0},r:Ge,s:Ne,z:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}e>>>=0,t>>>=0,r>>>=0;var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);o()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=n(s),t=n(u),e=Be(e),t=Be(t),c<i?(o()[r>>2>>>0]=e,o()[r+4>>2>>>0]=t):(o()[r>>2>>>0]=t,o()[r+4>>2>>>0]=e)},c:()=>{te("")},l:function(){},i:function(){return Date.now()},V:()=>{throw $+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return v?r(993).cpus().length:navigator.hardwareConcurrency},K:function(e,t,r,n){for(ge.pb=t>>>0,Je.length=r,t=n>>>0>>3,n=0;n<r;n++)Je[n]=i()[t+n>>>0];return lt[e].apply(null,Je)},y:function(e){e>>>=0;var t=n().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a);e:{o=o.min.call(o,4294901760,a+(65536-a%65536)%65536)-k.buffer.byteLength+65535>>>16;try{k.grow(o),Y();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},O:Ze,P:Qe,j:pe,g:et,n:tt,w:rt,m:at,x:function(e,t){return e>>>=0,t>>>=0,ot(n().subarray(e>>>0,e+t>>>0)),0},a:k||c.wasmMemory,H:ct,d:function(e,t,r,n){return ct(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e,t){return e=e.exports,C=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.pthread_self=t(e.pthread_self),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),ge.Ta.push(C.sa),z=C.ta,N.unshift(C.W),P=t,ee(),e}var t={a:ft};if(Q(),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(e){R("Module.instantiateWasm callback failed with error: "+e),u(e)}(function(e,t){var r=V;return T||"function"!=typeof WebAssembly.instantiateStreaming||re(r)||r.startsWith("file://")||v||"function"!=typeof fetch?ae(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return R("wasm streaming compile failed: "+n),R("falling back to ArrayBuffer instantiation"),ae(r,e,t)}))))})(t,(function(t){e(t.instance,t.module)})).catch(u)}(),c._OrtInit=(e,t)=>(c._OrtInit=C.X)(e,t),c._OrtGetLastError=(e,t)=>(c._OrtGetLastError=C.Y)(e,t),c._OrtCreateSessionOptions=(e,t,r,n,a,o,i,s,u,l)=>(c._OrtCreateSessionOptions=C.Z)(e,t,r,n,a,o,i,s,u,l),c._OrtAppendExecutionProvider=(e,t)=>(c._OrtAppendExecutionProvider=C._)(e,t),c._OrtAddSessionConfigEntry=(e,t,r)=>(c._OrtAddSessionConfigEntry=C.$)(e,t,r),c._OrtReleaseSessionOptions=e=>(c._OrtReleaseSessionOptions=C.aa)(e),c._OrtCreateSession=(e,t,r)=>(c._OrtCreateSession=C.ba)(e,t,r),c._OrtReleaseSession=e=>(c._OrtReleaseSession=C.ca)(e),c._OrtGetInputOutputCount=(e,t,r)=>(c._OrtGetInputOutputCount=C.da)(e,t,r),c._OrtGetInputName=(e,t)=>(c._OrtGetInputName=C.ea)(e,t),c._OrtGetOutputName=(e,t)=>(c._OrtGetOutputName=C.fa)(e,t),c._OrtFree=e=>(c._OrtFree=C.ga)(e),c._OrtCreateTensor=(e,t,r,n,a)=>(c._OrtCreateTensor=C.ha)(e,t,r,n,a),c._OrtGetTensorData=(e,t,r,n,a)=>(c._OrtGetTensorData=C.ia)(e,t,r,n,a),c._OrtReleaseTensor=e=>(c._OrtReleaseTensor=C.ja)(e),c._OrtCreateRunOptions=(e,t,r,n)=>(c._OrtCreateRunOptions=C.ka)(e,t,r,n),c._OrtAddRunConfigEntry=(e,t,r)=>(c._OrtAddRunConfigEntry=C.la)(e,t,r),c._OrtReleaseRunOptions=e=>(c._OrtReleaseRunOptions=C.ma)(e),c._OrtRun=(e,t,r,n,a,o,i,s)=>(c._OrtRun=C.na)(e,t,r,n,a,o,i,s),c._OrtEndProfiling=e=>(c._OrtEndProfiling=C.oa)(e);var dt=c._pthread_self=()=>(dt=c._pthread_self=C.pa)(),pt=c._malloc=e=>(pt=c._malloc=C.qa)(e);c._free=e=>(c._free=C.ra)(e),c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=C.sa)();var gt=c.__emscripten_thread_init=(e,t,r,n,a,o)=>(gt=c.__emscripten_thread_init=C.ua)(e,t,r,n,a,o);c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=C.va)();var ht,mt=(e,t,r,n)=>(mt=C.wa)(e,t,r,n),yt=e=>(yt=C.xa)(e),vt=c.__emscripten_thread_exit=e=>(vt=c.__emscripten_thread_exit=C.ya)(e),bt=c.__emscripten_check_mailbox=()=>(bt=c.__emscripten_check_mailbox=C.za)(),wt=e=>(wt=C.Aa)(e),_t=(e,t)=>(_t=C.Ba)(e,t),Ot=()=>(Ot=C.Ca)(),St=e=>(St=C.Da)(e),Et=e=>(Et=C.Ea)(e);function At(){function e(){if(!ht&&(ht=!0,c.calledRun=!0,!H)&&(b||he(N),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),!b)){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();B.unshift(e)}he(B)}}if(!(0<X))if(b)s(c),b||he(N),startWorker(c);else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)G.unshift(c.preRun.shift());he(G),0<X||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}}if(c.keepRuntimeAlive=q,c.wasmMemory=k,c.stackAlloc=Et,c.stackSave=Ot,c.stackRestore=St,c.UTF8ToString=fe,c.stringToUTF8=Ae,c.lengthBytesUTF8=Se,c.ExitStatus=oe,c.PThread=ge,Z=function e(){ht||At(),ht||(Z=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return At(),e.ready});e.exports=n},932:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){var t,n,a=e;a.ready=new Promise(((e,r)=>{t=e,n=r}));var o,i,s,u=Object.assign({},a),c="./this.program",l=(e,t)=>{throw t},f="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,g="";if(p){var h=r(384),m=r(908);g=d?m.dirname(g)+"/":__dirname+"/",o=(e,t)=>(e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFileSync(e,t?void 0:"utf8")),s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):m.normalize(e),h.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!a.thisProgram&&1<process.argv.length&&(c=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),l=(e,t)=>{throw process.exitCode=e,t},a.inspect=()=>"[Emscripten Module object]"}else(f||d)&&(d?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),_scriptDir&&(g=_scriptDir),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var y,v=a.print||console.log.bind(console),b=a.printErr||console.error.bind(console);Object.assign(a,u),u=null,a.thisProgram&&(c=a.thisProgram),a.quit&&(l=a.quit),a.wasmBinary&&(y=a.wasmBinary);var w=a.noExitRuntime||!0;"object"!=typeof WebAssembly&&W("no native wasm support detected");var _,O,S,E,A,T,M=!1;function R(){var e=_.buffer;a.HEAP8=S=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=A=new Int32Array(e),a.HEAPU8=E=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=T=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}var F=[],k=[],C=[];function P(){var e=a.preRun.shift();F.unshift(e)}var D,x,I=0,U=null,L=null;function W(e){throw a.onAbort&&a.onAbort(e),b(e="Aborted("+e+")"),M=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}function H(e){return e.startsWith("data:application/octet-stream;base64,")}if(!H(D="ort-wasm.wasm")){var Y=D;D=a.locateFile?a.locateFile(Y,g):g+Y}function j(e){if(e==D&&y)return new Uint8Array(y);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}function z(e,t,r){return function(e){if(!y&&(f||d)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()})).catch((()=>j(e)));if(i)return new Promise(((t,r)=>{i(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>j(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{b("failed to asynchronously prepare wasm: "+e),W(e)}))}function G(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var N=e=>{for(;0<e.length;)e.shift()(a)};function B(e){this.qa=e-24,this.va=function(e){T[this.qa+4>>2>>>0]=e},this.ua=function(e){T[this.qa+8>>2>>>0]=e},this.sa=function(e,t){this.ta(),this.va(e),this.ua(t)},this.ta=function(){T[this.qa+16>>2>>>0]=0}}var $,q="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,V=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&q)return q.decode(e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},J=(e,t)=>(e>>>=0)?V(E,e,t):"",X=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},K=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Z=e=>0==e%4&&(0!=e%100||0==e%400),Q=[0,31,60,91,121,152,182,213,244,274,305,335],ee=[0,31,59,90,120,151,181,212,243,273,304,334],te=e=>{var t=X(e)+1,r=le(t);return r&&K(e,E,r,t),r},re={},ne=()=>{if(!$){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:c||"./this.program"};for(e in re)void 0===re[e]?delete t[e]:t[e]=re[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);$=r}return $},ae=[null,[],[]],oe=e=>(oe=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);if(p)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}W("initRandomDevice")})())(e),ie=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function ue(e,t,r,n){function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.ma;for(e=new Date(new Date(e.na+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Z(e.getFullYear())?ie:se)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),r=s(r),0>=i(t,e)?0>=i(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0;var c=A[40+(n>>>=0)>>2>>>0];for(var l in n={ya:A[n>>2>>>0],xa:A[n+4>>2>>>0],oa:A[n+8>>2>>>0],ra:A[n+12>>2>>>0],pa:A[n+16>>2>>>0],na:A[n+20>>2>>>0],ha:A[n+24>>2>>>0],ma:A[n+28>>2>>>0],Aa:A[n+32>>2>>>0],wa:A[n+36>>2>>>0],za:c?J(c):""},r=J(r),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(l in c={"%a":e=>f[e.ha].substring(0,3),"%A":e=>f[e.ha],"%b":e=>d[e.pa].substring(0,3),"%B":e=>d[e.pa],"%C":e=>o((e.na+1900)/100|0,2),"%d":e=>o(e.ra,2),"%e":e=>a(e.ra,2," "),"%g":e=>u(e).toString().substring(2),"%G":e=>u(e),"%H":e=>o(e.oa,2),"%I":e=>(0==(e=e.oa)?e=12:12<e&&(e-=12),o(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.pa-1;t+=(Z(e.na+1900)?ie:se)[r++]);return o(e.ra+t,3)},"%m":e=>o(e.pa+1,2),"%M":e=>o(e.xa,2),"%n":()=>"\\n","%p":e=>0<=e.oa&&12>e.oa?"AM":"PM","%S":e=>o(e.ya,2),"%t":()=>"\\t","%u":e=>e.ha||7,"%U":e=>o(Math.floor((e.ma+7-e.ha)/7),2),"%V":e=>{var t=Math.floor((e.ma+7-(e.ha+6)%7)/7);if(2>=(e.ha+371-e.ma-2)%7&&t++,t)53==t&&(4==(r=(e.ha+371-e.ma)%7)||3==r&&Z(e.na)||(t=1));else{t=52;var r=(e.ha+7-e.ma-1)%7;(4==r||5==r&&Z(e.na%400-1))&&t++}return o(t,2)},"%w":e=>e.ha,"%W":e=>o(Math.floor((e.ma+7-(e.ha+6)%7)/7),2),"%y":e=>(e.na+1900).toString().substring(2),"%Y":e=>e.na+1900,"%z":e=>{var t=0<=(e=e.wa);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.za,"%%":()=>"%"},r=r.replace(/%%/g,"\\0\\0"),c)r.includes(l)&&(r=r.replace(new RegExp(l,"g"),c[l](n)));return l=function(e){var t=Array(X(e)+1);return K(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),l.length>t?0:(S.set(l,e>>>0),l.length-1)}var ce={a:function(e,t,r){throw new B(e>>>=0).sa(t>>>0,r>>>0),e},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getUTCSeconds(),A[r+4>>2>>>0]=e.getUTCMinutes(),A[r+8>>2>>>0]=e.getUTCHours(),A[r+12>>2>>>0]=e.getUTCDate(),A[r+16>>2>>>0]=e.getUTCMonth(),A[r+20>>2>>>0]=e.getUTCFullYear()-1900,A[r+24>>2>>>0]=e.getUTCDay(),A[r+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),A[r>>2>>>0]=e.getSeconds(),A[r+4>>2>>>0]=e.getMinutes(),A[r+8>>2>>>0]=e.getHours(),A[r+12>>2>>>0]=e.getDate(),A[r+16>>2>>>0]=e.getMonth(),A[r+20>>2>>>0]=e.getFullYear()-1900,A[r+24>>2>>>0]=e.getDay(),A[r+28>>2>>>0]=(Z(e.getFullYear())?Q:ee)[e.getMonth()]+e.getDate()-1|0,A[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();A[r+32>>2>>>0]=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t))},p:function(e){e>>>=0;var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),r=A[e+32>>2>>>0],n=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(o,a);return 0>r?A[e+32>>2>>>0]=Number(a!=o&&i==n):0<r!=(i==n)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<r?i:a)-n))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(Z(t.getFullYear())?Q:ee)[t.getMonth()]+t.getDate()-1|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),A[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,de((x=e,1<=+Math.abs(x)?0<x?+Math.floor(x/4294967296)>>>0:~~+Math.ceil((x-+(~~x>>>0))/4294967296)>>>0:0)),e>>>0},l:function(){return-52},m:function(){},u:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}r>>>=0;var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();T[e>>>0>>2>>>0]=60*Math.max(a,s),A[t>>>0>>2>>>0]=Number(a!=s),e=n(o),t=n(i),e=te(e),t=te(t),s<a?(T[r>>2>>>0]=e,T[r+4>>2>>>0]=t):(T[r>>2>>>0]=t,T[r+4>>2>>>0]=e)},d:()=>{W("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(e,t,r){return t>>>=0,E.copyWithin(e>>>0>>>0,t>>>0,t+(r>>>0)>>>0)},t:function(e){e>>>=0;var t=E.length;if(4294901760<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var a=Math;n=Math.max(e,n);e:{a=a.min.call(a,4294901760,n+(65536-n%65536)%65536)-_.buffer.byteLength+65535>>>16;try{_.grow(a),R();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){e>>>=0,t>>>=0;var r=0;return ne().forEach((function(n,a){var o=t+r;for(a=T[e+4*a>>2>>>0]=o,o=0;o<n.length;++o)S[a++>>0>>>0]=n.charCodeAt(o);S[a>>0>>>0]=0,r+=n.length+1})),0},E:function(e,t){e>>>=0,t>>>=0;var r=ne();T[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),T[t>>2>>>0]=n,0},s:e=>{w||(a.onExit&&a.onExit(e),M=!0),l(e,new G(e))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;for(var a=0,o=0;o<r;o++){var i=T[t>>2>>>0],s=T[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=E[i+u>>>0],l=ae[e];0===c||10===c?((1===e?v:b)(V(l,0)),l.length=0):l.push(c)}a+=s}return T[n>>2>>>0]=a,0},r:function(e,t){return e>>>=0,oe(E.subarray(e>>>0,e+(t>>>0)>>>0)),0},C:ue,c:function(e,t,r,n){return ue(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e){if(e=e.exports,O=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),_=O.L,R(),k.unshift(O.M),I--,a.monitorRunDependencies&&a.monitorRunDependencies(I),0==I&&(null!==U&&(clearInterval(U),U=null),L)){var t=L;L=null,t()}return e}var t={a:ce};if(I++,a.monitorRunDependencies&&a.monitorRunDependencies(I),a.instantiateWasm)try{return a.instantiateWasm(t,e)}catch(e){b("Module.instantiateWasm callback failed with error: "+e),n(e)}(function(e,t){var r=D;return y||"function"!=typeof WebAssembly.instantiateStreaming||H(r)||r.startsWith("file://")||p||"function"!=typeof fetch?z(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return b("wasm streaming compile failed: "+n),b("falling back to ArrayBuffer instantiation"),z(r,e,t)}))))})(t,(function(t){e(t.instance)})).catch(n)}(),a._OrtInit=(e,t)=>(a._OrtInit=O.N)(e,t),a._OrtGetLastError=(e,t)=>(a._OrtGetLastError=O.O)(e,t),a._OrtCreateSessionOptions=(e,t,r,n,o,i,s,u,c,l)=>(a._OrtCreateSessionOptions=O.P)(e,t,r,n,o,i,s,u,c,l),a._OrtAppendExecutionProvider=(e,t)=>(a._OrtAppendExecutionProvider=O.Q)(e,t),a._OrtAddSessionConfigEntry=(e,t,r)=>(a._OrtAddSessionConfigEntry=O.R)(e,t,r),a._OrtReleaseSessionOptions=e=>(a._OrtReleaseSessionOptions=O.S)(e),a._OrtCreateSession=(e,t,r)=>(a._OrtCreateSession=O.T)(e,t,r),a._OrtReleaseSession=e=>(a._OrtReleaseSession=O.U)(e),a._OrtGetInputOutputCount=(e,t,r)=>(a._OrtGetInputOutputCount=O.V)(e,t,r),a._OrtGetInputName=(e,t)=>(a._OrtGetInputName=O.W)(e,t),a._OrtGetOutputName=(e,t)=>(a._OrtGetOutputName=O.X)(e,t),a._OrtFree=e=>(a._OrtFree=O.Y)(e),a._OrtCreateTensor=(e,t,r,n,o)=>(a._OrtCreateTensor=O.Z)(e,t,r,n,o),a._OrtGetTensorData=(e,t,r,n,o)=>(a._OrtGetTensorData=O._)(e,t,r,n,o),a._OrtReleaseTensor=e=>(a._OrtReleaseTensor=O.$)(e),a._OrtCreateRunOptions=(e,t,r,n)=>(a._OrtCreateRunOptions=O.aa)(e,t,r,n),a._OrtAddRunConfigEntry=(e,t,r)=>(a._OrtAddRunConfigEntry=O.ba)(e,t,r),a._OrtReleaseRunOptions=e=>(a._OrtReleaseRunOptions=O.ca)(e),a._OrtRun=(e,t,r,n,o,i,s,u)=>(a._OrtRun=O.da)(e,t,r,n,o,i,s,u),a._OrtEndProfiling=e=>(a._OrtEndProfiling=O.ea)(e);var le=a._malloc=e=>(le=a._malloc=O.fa)(e);a._free=e=>(a._free=O.ga)(e);var fe,de=e=>(de=O.ia)(e),pe=()=>(pe=O.ja)(),ge=e=>(ge=O.ka)(e),he=e=>(he=O.la)(e);function me(){function e(){if(!fe&&(fe=!0,a.calledRun=!0,!M)){if(N(k),t(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var e=a.postRun.shift();C.unshift(e)}N(C)}}if(!(0<I)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)P();N(F),0<I||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),e()}),1)):e())}}if(a.stackAlloc=he,a.stackSave=pe,a.stackRestore=ge,a.UTF8ToString=J,a.stringToUTF8=(e,t,r)=>K(e,E,t,r),a.lengthBytesUTF8=X,L=function e(){fe||me(),fe||(L=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();return me(),e.ready});e.exports=n},154:e=>{"use strict";e.exports=\'"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(()=>{"use strict";const e=r(259),t=r(263);self.onmessage=r=>{switch(r.data.type){case"init-wasm":try{(0,t.initializeWebAssembly)(r.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})))}catch(e){postMessage({type:"init-wasm",err:e})}break;case"init-ort":try{(0,e.initRuntime)(r.data.in).then((()=>postMessage({type:"init-ort"})),(e=>postMessage({type:"init-ort",err:e}))),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=r.data.in,n=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:n})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:n}=r.data.in,a=(0,e.createSessionFinalize)(t,n);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:n}=r.data.in,a=(0,e.createSession)(t,n);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=r.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:n,inputs:a,outputIndices:o,options:i}=r.data.in;(0,e.run)(t,n,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=r.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:et=>{et.exports=function(_e,nt,it,at){var ut=self||window;try{try{var dt;try{dt=new ut.Blob([_e])}catch{(dt=new(ut.BlobBuilder||ut.WebKitBlobBuilder||ut.MozBlobBuilder||ut.MSBlobBuilder)).append(_e),dt=dt.getBlob()}var ft=ut.URL||ut.webkitURL,ht=ft.createObjectURL(dt),ct=new ut[nt](ht,it);return ft.revokeObjectURL(ht),ct}catch{return new ut[nt]("data:application/javascript,".concat(encodeURIComponent(_e)),it)}}catch{if(!at)throw Error("Inline worker is not supported");return new ut[nt](at,it)}}},2446:(et,_e,nt)=>{var it,at,ut,dt=nt(2100),ft=dt.Reader,ht=dt.Writer,ct=dt.util,lt=dt.roots.default||(dt.roots.default={});lt.onnx=((ut={}).Version=(it={},(at=Object.create(it))[it[0]="_START_VERSION"]=0,at[it[1]="IR_VERSION_2017_10_10"]=1,at[it[2]="IR_VERSION_2017_10_30"]=2,at[it[3]="IR_VERSION_2017_11_3"]=3,at[it[4]="IR_VERSION_2019_1_22"]=4,at[it[5]="IR_VERSION_2019_3_18"]=5,at[it[6]="IR_VERSION_2019_9_19"]=6,at[it[7]="IR_VERSION_2020_5_8"]=7,at[it[8]="IR_VERSION_2021_7_30"]=8,at[it[9]="IR_VERSION"]=9,at),ut.AttributeProto=function(){function ot(tt){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],this.sparseTensors=[],this.typeProtos=[],tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.name="",ot.prototype.refAttrName="",ot.prototype.docString="",ot.prototype.type=0,ot.prototype.f=0,ot.prototype.i=ct.Long?ct.Long.fromBits(0,0,!1):0,ot.prototype.s=ct.newBuffer([]),ot.prototype.t=null,ot.prototype.g=null,ot.prototype.sparseTensor=null,ot.prototype.tp=null,ot.prototype.floats=ct.emptyArray,ot.prototype.ints=ct.emptyArray,ot.prototype.strings=ct.emptyArray,ot.prototype.tensors=ct.emptyArray,ot.prototype.graphs=ct.emptyArray,ot.prototype.sparseTensors=ct.emptyArray,ot.prototype.typeProtos=ct.emptyArray,ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){if(rt||(rt=ht.create()),tt.name!=null&&Object.hasOwnProperty.call(tt,"name")&&rt.uint32(10).string(tt.name),tt.f!=null&&Object.hasOwnProperty.call(tt,"f")&&rt.uint32(21).float(tt.f),tt.i!=null&&Object.hasOwnProperty.call(tt,"i")&&rt.uint32(24).int64(tt.i),tt.s!=null&&Object.hasOwnProperty.call(tt,"s")&&rt.uint32(34).bytes(tt.s),tt.t!=null&&Object.hasOwnProperty.call(tt,"t")&&lt.onnx.TensorProto.encode(tt.t,rt.uint32(42).fork()).ldelim(),tt.g!=null&&Object.hasOwnProperty.call(tt,"g")&&lt.onnx.GraphProto.encode(tt.g,rt.uint32(50).fork()).ldelim(),tt.floats!=null&&tt.floats.length){rt.uint32(58).fork();for(var st=0;st<tt.floats.length;++st)rt.float(tt.floats[st]);rt.ldelim()}if(tt.ints!=null&&tt.ints.length){for(rt.uint32(66).fork(),st=0;st<tt.ints.length;++st)rt.int64(tt.ints[st]);rt.ldelim()}if(tt.strings!=null&&tt.strings.length)for(st=0;st<tt.strings.length;++st)rt.uint32(74).bytes(tt.strings[st]);if(tt.tensors!=null&&tt.tensors.length)for(st=0;st<tt.tensors.length;++st)lt.onnx.TensorProto.encode(tt.tensors[st],rt.uint32(82).fork()).ldelim();if(tt.graphs!=null&&tt.graphs.length)for(st=0;st<tt.graphs.length;++st)lt.onnx.GraphProto.encode(tt.graphs[st],rt.uint32(90).fork()).ldelim();if(tt.docString!=null&&Object.hasOwnProperty.call(tt,"docString")&&rt.uint32(106).string(tt.docString),tt.tp!=null&&Object.hasOwnProperty.call(tt,"tp")&&lt.onnx.TypeProto.encode(tt.tp,rt.uint32(114).fork()).ldelim(),tt.typeProtos!=null&&tt.typeProtos.length)for(st=0;st<tt.typeProtos.length;++st)lt.onnx.TypeProto.encode(tt.typeProtos[st],rt.uint32(122).fork()).ldelim();if(tt.type!=null&&Object.hasOwnProperty.call(tt,"type")&&rt.uint32(160).int32(tt.type),tt.refAttrName!=null&&Object.hasOwnProperty.call(tt,"refAttrName")&&rt.uint32(170).string(tt.refAttrName),tt.sparseTensor!=null&&Object.hasOwnProperty.call(tt,"sparseTensor")&&lt.onnx.SparseTensorProto.encode(tt.sparseTensor,rt.uint32(178).fork()).ldelim(),tt.sparseTensors!=null&&tt.sparseTensors.length)for(st=0;st<tt.sparseTensors.length;++st)lt.onnx.SparseTensorProto.encode(tt.sparseTensors[st],rt.uint32(186).fork()).ldelim();return rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.AttributeProto;tt.pos<st;){var gt=tt.uint32();switch(gt>>>3){case 1:pt.name=tt.string();break;case 21:pt.refAttrName=tt.string();break;case 13:pt.docString=tt.string();break;case 20:pt.type=tt.int32();break;case 2:pt.f=tt.float();break;case 3:pt.i=tt.int64();break;case 4:pt.s=tt.bytes();break;case 5:pt.t=lt.onnx.TensorProto.decode(tt,tt.uint32());break;case 6:pt.g=lt.onnx.GraphProto.decode(tt,tt.uint32());break;case 22:pt.sparseTensor=lt.onnx.SparseTensorProto.decode(tt,tt.uint32());break;case 14:pt.tp=lt.onnx.TypeProto.decode(tt,tt.uint32());break;case 7:if(pt.floats&&pt.floats.length||(pt.floats=[]),(7&gt)==2)for(var mt=tt.uint32()+tt.pos;tt.pos<mt;)pt.floats.push(tt.float());else pt.floats.push(tt.float());break;case 8:if(pt.ints&&pt.ints.length||(pt.ints=[]),(7&gt)==2)for(mt=tt.uint32()+tt.pos;tt.pos<mt;)pt.ints.push(tt.int64());else pt.ints.push(tt.int64());break;case 9:pt.strings&&pt.strings.length||(pt.strings=[]),pt.strings.push(tt.bytes());break;case 10:pt.tensors&&pt.tensors.length||(pt.tensors=[]),pt.tensors.push(lt.onnx.TensorProto.decode(tt,tt.uint32()));break;case 11:pt.graphs&&pt.graphs.length||(pt.graphs=[]),pt.graphs.push(lt.onnx.GraphProto.decode(tt,tt.uint32()));break;case 23:pt.sparseTensors&&pt.sparseTensors.length||(pt.sparseTensors=[]),pt.sparseTensors.push(lt.onnx.SparseTensorProto.decode(tt,tt.uint32()));break;case 15:pt.typeProtos&&pt.typeProtos.length||(pt.typeProtos=[]),pt.typeProtos.push(lt.onnx.TypeProto.decode(tt,tt.uint32()));break;default:tt.skipType(7&gt)}}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.name!=null&&tt.hasOwnProperty("name")&&!ct.isString(tt.name))return"name: string expected";if(tt.refAttrName!=null&&tt.hasOwnProperty("refAttrName")&&!ct.isString(tt.refAttrName))return"refAttrName: string expected";if(tt.docString!=null&&tt.hasOwnProperty("docString")&&!ct.isString(tt.docString))return"docString: string expected";if(tt.type!=null&&tt.hasOwnProperty("type"))switch(tt.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 11:case 13:case 6:case 7:case 8:case 9:case 10:case 12:case 14:}if(tt.f!=null&&tt.hasOwnProperty("f")&&typeof tt.f!="number")return"f: number expected";if(tt.i!=null&&tt.hasOwnProperty("i")&&!(ct.isInteger(tt.i)||tt.i&&ct.isInteger(tt.i.low)&&ct.isInteger(tt.i.high)))return"i: integer|Long expected";if(tt.s!=null&&tt.hasOwnProperty("s")&&!(tt.s&&typeof tt.s.length=="number"||ct.isString(tt.s)))return"s: buffer expected";if(tt.t!=null&&tt.hasOwnProperty("t")&&(st=lt.onnx.TensorProto.verify(tt.t)))return"t."+st;if(tt.g!=null&&tt.hasOwnProperty("g")&&(st=lt.onnx.GraphProto.verify(tt.g)))return"g."+st;if(tt.sparseTensor!=null&&tt.hasOwnProperty("sparseTensor")&&(st=lt.onnx.SparseTensorProto.verify(tt.sparseTensor)))return"sparseTensor."+st;if(tt.tp!=null&&tt.hasOwnProperty("tp")&&(st=lt.onnx.TypeProto.verify(tt.tp)))return"tp."+st;if(tt.floats!=null&&tt.hasOwnProperty("floats")){if(!Array.isArray(tt.floats))return"floats: array expected";for(var rt=0;rt<tt.floats.length;++rt)if(typeof tt.floats[rt]!="number")return"floats: number[] expected"}if(tt.ints!=null&&tt.hasOwnProperty("ints")){if(!Array.isArray(tt.ints))return"ints: array expected";for(rt=0;rt<tt.ints.length;++rt)if(!(ct.isInteger(tt.ints[rt])||tt.ints[rt]&&ct.isInteger(tt.ints[rt].low)&&ct.isInteger(tt.ints[rt].high)))return"ints: integer|Long[] expected"}if(tt.strings!=null&&tt.hasOwnProperty("strings")){if(!Array.isArray(tt.strings))return"strings: array expected";for(rt=0;rt<tt.strings.length;++rt)if(!(tt.strings[rt]&&typeof tt.strings[rt].length=="number"||ct.isString(tt.strings[rt])))return"strings: buffer[] expected"}if(tt.tensors!=null&&tt.hasOwnProperty("tensors")){if(!Array.isArray(tt.tensors))return"tensors: array expected";for(rt=0;rt<tt.tensors.length;++rt)if(st=lt.onnx.TensorProto.verify(tt.tensors[rt]))return"tensors."+st}if(tt.graphs!=null&&tt.hasOwnProperty("graphs")){if(!Array.isArray(tt.graphs))return"graphs: array expected";for(rt=0;rt<tt.graphs.length;++rt)if(st=lt.onnx.GraphProto.verify(tt.graphs[rt]))return"graphs."+st}if(tt.sparseTensors!=null&&tt.hasOwnProperty("sparseTensors")){if(!Array.isArray(tt.sparseTensors))return"sparseTensors: array expected";for(rt=0;rt<tt.sparseTensors.length;++rt)if(st=lt.onnx.SparseTensorProto.verify(tt.sparseTensors[rt]))return"sparseTensors."+st}if(tt.typeProtos!=null&&tt.hasOwnProperty("typeProtos")){if(!Array.isArray(tt.typeProtos))return"typeProtos: array expected";for(rt=0;rt<tt.typeProtos.length;++rt){var st;if(st=lt.onnx.TypeProto.verify(tt.typeProtos[rt]))return"typeProtos."+st}}return null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.AttributeProto)return tt;var rt=new lt.onnx.AttributeProto;switch(tt.name!=null&&(rt.name=String(tt.name)),tt.refAttrName!=null&&(rt.refAttrName=String(tt.refAttrName)),tt.docString!=null&&(rt.docString=String(tt.docString)),tt.type){default:if(typeof tt.type=="number"){rt.type=tt.type;break}break;case"UNDEFINED":case 0:rt.type=0;break;case"FLOAT":case 1:rt.type=1;break;case"INT":case 2:rt.type=2;break;case"STRING":case 3:rt.type=3;break;case"TENSOR":case 4:rt.type=4;break;case"GRAPH":case 5:rt.type=5;break;case"SPARSE_TENSOR":case 11:rt.type=11;break;case"TYPE_PROTO":case 13:rt.type=13;break;case"FLOATS":case 6:rt.type=6;break;case"INTS":case 7:rt.type=7;break;case"STRINGS":case 8:rt.type=8;break;case"TENSORS":case 9:rt.type=9;break;case"GRAPHS":case 10:rt.type=10;break;case"SPARSE_TENSORS":case 12:rt.type=12;break;case"TYPE_PROTOS":case 14:rt.type=14}if(tt.f!=null&&(rt.f=Number(tt.f)),tt.i!=null&&(ct.Long?(rt.i=ct.Long.fromValue(tt.i)).unsigned=!1:typeof tt.i=="string"?rt.i=parseInt(tt.i,10):typeof tt.i=="number"?rt.i=tt.i:typeof tt.i=="object"&&(rt.i=new ct.LongBits(tt.i.low>>>0,tt.i.high>>>0).toNumber())),tt.s!=null&&(typeof tt.s=="string"?ct.base64.decode(tt.s,rt.s=ct.newBuffer(ct.base64.length(tt.s)),0):tt.s.length>=0&&(rt.s=tt.s)),tt.t!=null){if(typeof tt.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");rt.t=lt.onnx.TensorProto.fromObject(tt.t)}if(tt.g!=null){if(typeof tt.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");rt.g=lt.onnx.GraphProto.fromObject(tt.g)}if(tt.sparseTensor!=null){if(typeof tt.sparseTensor!="object")throw TypeError(".onnx.AttributeProto.sparseTensor: object expected");rt.sparseTensor=lt.onnx.SparseTensorProto.fromObject(tt.sparseTensor)}if(tt.tp!=null){if(typeof tt.tp!="object")throw TypeError(".onnx.AttributeProto.tp: object expected");rt.tp=lt.onnx.TypeProto.fromObject(tt.tp)}if(tt.floats){if(!Array.isArray(tt.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");rt.floats=[];for(var st=0;st<tt.floats.length;++st)rt.floats[st]=Number(tt.floats[st])}if(tt.ints){if(!Array.isArray(tt.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(rt.ints=[],st=0;st<tt.ints.length;++st)ct.Long?(rt.ints[st]=ct.Long.fromValue(tt.ints[st])).unsigned=!1:typeof tt.ints[st]=="string"?rt.ints[st]=parseInt(tt.ints[st],10):typeof tt.ints[st]=="number"?rt.ints[st]=tt.ints[st]:typeof tt.ints[st]=="object"&&(rt.ints[st]=new ct.LongBits(tt.ints[st].low>>>0,tt.ints[st].high>>>0).toNumber())}if(tt.strings){if(!Array.isArray(tt.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(rt.strings=[],st=0;st<tt.strings.length;++st)typeof tt.strings[st]=="string"?ct.base64.decode(tt.strings[st],rt.strings[st]=ct.newBuffer(ct.base64.length(tt.strings[st])),0):tt.strings[st].length>=0&&(rt.strings[st]=tt.strings[st])}if(tt.tensors){if(!Array.isArray(tt.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(rt.tensors=[],st=0;st<tt.tensors.length;++st){if(typeof tt.tensors[st]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");rt.tensors[st]=lt.onnx.TensorProto.fromObject(tt.tensors[st])}}if(tt.graphs){if(!Array.isArray(tt.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(rt.graphs=[],st=0;st<tt.graphs.length;++st){if(typeof tt.graphs[st]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");rt.graphs[st]=lt.onnx.GraphProto.fromObject(tt.graphs[st])}}if(tt.sparseTensors){if(!Array.isArray(tt.sparseTensors))throw TypeError(".onnx.AttributeProto.sparseTensors: array expected");for(rt.sparseTensors=[],st=0;st<tt.sparseTensors.length;++st){if(typeof tt.sparseTensors[st]!="object")throw TypeError(".onnx.AttributeProto.sparseTensors: object expected");rt.sparseTensors[st]=lt.onnx.SparseTensorProto.fromObject(tt.sparseTensors[st])}}if(tt.typeProtos){if(!Array.isArray(tt.typeProtos))throw TypeError(".onnx.AttributeProto.typeProtos: array expected");for(rt.typeProtos=[],st=0;st<tt.typeProtos.length;++st){if(typeof tt.typeProtos[st]!="object")throw TypeError(".onnx.AttributeProto.typeProtos: object expected");rt.typeProtos[st]=lt.onnx.TypeProto.fromObject(tt.typeProtos[st])}}return rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.floats=[],st.ints=[],st.strings=[],st.tensors=[],st.graphs=[],st.typeProtos=[],st.sparseTensors=[]),rt.defaults){if(st.name="",st.f=0,ct.Long){var pt=new ct.Long(0,0,!1);st.i=rt.longs===String?pt.toString():rt.longs===Number?pt.toNumber():pt}else st.i=rt.longs===String?"0":0;rt.bytes===String?st.s="":(st.s=[],rt.bytes!==Array&&(st.s=ct.newBuffer(st.s))),st.t=null,st.g=null,st.docString="",st.tp=null,st.type=rt.enums===String?"UNDEFINED":0,st.refAttrName="",st.sparseTensor=null}if(tt.name!=null&&tt.hasOwnProperty("name")&&(st.name=tt.name),tt.f!=null&&tt.hasOwnProperty("f")&&(st.f=rt.json&&!isFinite(tt.f)?String(tt.f):tt.f),tt.i!=null&&tt.hasOwnProperty("i")&&(typeof tt.i=="number"?st.i=rt.longs===String?String(tt.i):tt.i:st.i=rt.longs===String?ct.Long.prototype.toString.call(tt.i):rt.longs===Number?new ct.LongBits(tt.i.low>>>0,tt.i.high>>>0).toNumber():tt.i),tt.s!=null&&tt.hasOwnProperty("s")&&(st.s=rt.bytes===String?ct.base64.encode(tt.s,0,tt.s.length):rt.bytes===Array?Array.prototype.slice.call(tt.s):tt.s),tt.t!=null&&tt.hasOwnProperty("t")&&(st.t=lt.onnx.TensorProto.toObject(tt.t,rt)),tt.g!=null&&tt.hasOwnProperty("g")&&(st.g=lt.onnx.GraphProto.toObject(tt.g,rt)),tt.floats&&tt.floats.length){st.floats=[];for(var gt=0;gt<tt.floats.length;++gt)st.floats[gt]=rt.json&&!isFinite(tt.floats[gt])?String(tt.floats[gt]):tt.floats[gt]}if(tt.ints&&tt.ints.length)for(st.ints=[],gt=0;gt<tt.ints.length;++gt)typeof tt.ints[gt]=="number"?st.ints[gt]=rt.longs===String?String(tt.ints[gt]):tt.ints[gt]:st.ints[gt]=rt.longs===String?ct.Long.prototype.toString.call(tt.ints[gt]):rt.longs===Number?new ct.LongBits(tt.ints[gt].low>>>0,tt.ints[gt].high>>>0).toNumber():tt.ints[gt];if(tt.strings&&tt.strings.length)for(st.strings=[],gt=0;gt<tt.strings.length;++gt)st.strings[gt]=rt.bytes===String?ct.base64.encode(tt.strings[gt],0,tt.strings[gt].length):rt.bytes===Array?Array.prototype.slice.call(tt.strings[gt]):tt.strings[gt];if(tt.tensors&&tt.tensors.length)for(st.tensors=[],gt=0;gt<tt.tensors.length;++gt)st.tensors[gt]=lt.onnx.TensorProto.toObject(tt.tensors[gt],rt);if(tt.graphs&&tt.graphs.length)for(st.graphs=[],gt=0;gt<tt.graphs.length;++gt)st.graphs[gt]=lt.onnx.GraphProto.toObject(tt.graphs[gt],rt);if(tt.docString!=null&&tt.hasOwnProperty("docString")&&(st.docString=tt.docString),tt.tp!=null&&tt.hasOwnProperty("tp")&&(st.tp=lt.onnx.TypeProto.toObject(tt.tp,rt)),tt.typeProtos&&tt.typeProtos.length)for(st.typeProtos=[],gt=0;gt<tt.typeProtos.length;++gt)st.typeProtos[gt]=lt.onnx.TypeProto.toObject(tt.typeProtos[gt],rt);if(tt.type!=null&&tt.hasOwnProperty("type")&&(st.type=rt.enums===String?lt.onnx.AttributeProto.AttributeType[tt.type]===void 0?tt.type:lt.onnx.AttributeProto.AttributeType[tt.type]:tt.type),tt.refAttrName!=null&&tt.hasOwnProperty("refAttrName")&&(st.refAttrName=tt.refAttrName),tt.sparseTensor!=null&&tt.hasOwnProperty("sparseTensor")&&(st.sparseTensor=lt.onnx.SparseTensorProto.toObject(tt.sparseTensor,rt)),tt.sparseTensors&&tt.sparseTensors.length)for(st.sparseTensors=[],gt=0;gt<tt.sparseTensors.length;++gt)st.sparseTensors[gt]=lt.onnx.SparseTensorProto.toObject(tt.sparseTensors[gt],rt);return st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.AttributeProto"},ot.AttributeType=function(){var tt={},rt=Object.create(tt);return rt[tt[0]="UNDEFINED"]=0,rt[tt[1]="FLOAT"]=1,rt[tt[2]="INT"]=2,rt[tt[3]="STRING"]=3,rt[tt[4]="TENSOR"]=4,rt[tt[5]="GRAPH"]=5,rt[tt[11]="SPARSE_TENSOR"]=11,rt[tt[13]="TYPE_PROTO"]=13,rt[tt[6]="FLOATS"]=6,rt[tt[7]="INTS"]=7,rt[tt[8]="STRINGS"]=8,rt[tt[9]="TENSORS"]=9,rt[tt[10]="GRAPHS"]=10,rt[tt[12]="SPARSE_TENSORS"]=12,rt[tt[14]="TYPE_PROTOS"]=14,rt}(),ot}(),ut.ValueInfoProto=function(){function ot(tt){if(tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.name="",ot.prototype.type=null,ot.prototype.docString="",ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){return rt||(rt=ht.create()),tt.name!=null&&Object.hasOwnProperty.call(tt,"name")&&rt.uint32(10).string(tt.name),tt.type!=null&&Object.hasOwnProperty.call(tt,"type")&&lt.onnx.TypeProto.encode(tt.type,rt.uint32(18).fork()).ldelim(),tt.docString!=null&&Object.hasOwnProperty.call(tt,"docString")&&rt.uint32(26).string(tt.docString),rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.ValueInfoProto;tt.pos<st;){var gt=tt.uint32();switch(gt>>>3){case 1:pt.name=tt.string();break;case 2:pt.type=lt.onnx.TypeProto.decode(tt,tt.uint32());break;case 3:pt.docString=tt.string();break;default:tt.skipType(7&gt)}}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.name!=null&&tt.hasOwnProperty("name")&&!ct.isString(tt.name))return"name: string expected";if(tt.type!=null&&tt.hasOwnProperty("type")){var rt=lt.onnx.TypeProto.verify(tt.type);if(rt)return"type."+rt}return tt.docString!=null&&tt.hasOwnProperty("docString")&&!ct.isString(tt.docString)?"docString: string expected":null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.ValueInfoProto)return tt;var rt=new lt.onnx.ValueInfoProto;if(tt.name!=null&&(rt.name=String(tt.name)),tt.type!=null){if(typeof tt.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");rt.type=lt.onnx.TypeProto.fromObject(tt.type)}return tt.docString!=null&&(rt.docString=String(tt.docString)),rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};return rt.defaults&&(st.name="",st.type=null,st.docString=""),tt.name!=null&&tt.hasOwnProperty("name")&&(st.name=tt.name),tt.type!=null&&tt.hasOwnProperty("type")&&(st.type=lt.onnx.TypeProto.toObject(tt.type,rt)),tt.docString!=null&&tt.hasOwnProperty("docString")&&(st.docString=tt.docString),st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.ValueInfoProto"},ot}(),ut.NodeProto=function(){function ot(tt){if(this.input=[],this.output=[],this.attribute=[],tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.input=ct.emptyArray,ot.prototype.output=ct.emptyArray,ot.prototype.name="",ot.prototype.opType="",ot.prototype.domain="",ot.prototype.attribute=ct.emptyArray,ot.prototype.docString="",ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){if(rt||(rt=ht.create()),tt.input!=null&&tt.input.length)for(var st=0;st<tt.input.length;++st)rt.uint32(10).string(tt.input[st]);if(tt.output!=null&&tt.output.length)for(st=0;st<tt.output.length;++st)rt.uint32(18).string(tt.output[st]);if(tt.name!=null&&Object.hasOwnProperty.call(tt,"name")&&rt.uint32(26).string(tt.name),tt.opType!=null&&Object.hasOwnProperty.call(tt,"opType")&&rt.uint32(34).string(tt.opType),tt.attribute!=null&&tt.attribute.length)for(st=0;st<tt.attribute.length;++st)lt.onnx.AttributeProto.encode(tt.attribute[st],rt.uint32(42).fork()).ldelim();return tt.docString!=null&&Object.hasOwnProperty.call(tt,"docString")&&rt.uint32(50).string(tt.docString),tt.domain!=null&&Object.hasOwnProperty.call(tt,"domain")&&rt.uint32(58).string(tt.domain),rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.NodeProto;tt.pos<st;){var gt=tt.uint32();switch(gt>>>3){case 1:pt.input&&pt.input.length||(pt.input=[]),pt.input.push(tt.string());break;case 2:pt.output&&pt.output.length||(pt.output=[]),pt.output.push(tt.string());break;case 3:pt.name=tt.string();break;case 4:pt.opType=tt.string();break;case 7:pt.domain=tt.string();break;case 5:pt.attribute&&pt.attribute.length||(pt.attribute=[]),pt.attribute.push(lt.onnx.AttributeProto.decode(tt,tt.uint32()));break;case 6:pt.docString=tt.string();break;default:tt.skipType(7&gt)}}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.input!=null&&tt.hasOwnProperty("input")){if(!Array.isArray(tt.input))return"input: array expected";for(var rt=0;rt<tt.input.length;++rt)if(!ct.isString(tt.input[rt]))return"input: string[] expected"}if(tt.output!=null&&tt.hasOwnProperty("output")){if(!Array.isArray(tt.output))return"output: array expected";for(rt=0;rt<tt.output.length;++rt)if(!ct.isString(tt.output[rt]))return"output: string[] expected"}if(tt.name!=null&&tt.hasOwnProperty("name")&&!ct.isString(tt.name))return"name: string expected";if(tt.opType!=null&&tt.hasOwnProperty("opType")&&!ct.isString(tt.opType))return"opType: string expected";if(tt.domain!=null&&tt.hasOwnProperty("domain")&&!ct.isString(tt.domain))return"domain: string expected";if(tt.attribute!=null&&tt.hasOwnProperty("attribute")){if(!Array.isArray(tt.attribute))return"attribute: array expected";for(rt=0;rt<tt.attribute.length;++rt){var st=lt.onnx.AttributeProto.verify(tt.attribute[rt]);if(st)return"attribute."+st}}return tt.docString!=null&&tt.hasOwnProperty("docString")&&!ct.isString(tt.docString)?"docString: string expected":null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.NodeProto)return tt;var rt=new lt.onnx.NodeProto;if(tt.input){if(!Array.isArray(tt.input))throw TypeError(".onnx.NodeProto.input: array expected");rt.input=[];for(var st=0;st<tt.input.length;++st)rt.input[st]=String(tt.input[st])}if(tt.output){if(!Array.isArray(tt.output))throw TypeError(".onnx.NodeProto.output: array expected");for(rt.output=[],st=0;st<tt.output.length;++st)rt.output[st]=String(tt.output[st])}if(tt.name!=null&&(rt.name=String(tt.name)),tt.opType!=null&&(rt.opType=String(tt.opType)),tt.domain!=null&&(rt.domain=String(tt.domain)),tt.attribute){if(!Array.isArray(tt.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(rt.attribute=[],st=0;st<tt.attribute.length;++st){if(typeof tt.attribute[st]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");rt.attribute[st]=lt.onnx.AttributeProto.fromObject(tt.attribute[st])}}return tt.docString!=null&&(rt.docString=String(tt.docString)),rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.input=[],st.output=[],st.attribute=[]),rt.defaults&&(st.name="",st.opType="",st.docString="",st.domain=""),tt.input&&tt.input.length){st.input=[];for(var pt=0;pt<tt.input.length;++pt)st.input[pt]=tt.input[pt]}if(tt.output&&tt.output.length)for(st.output=[],pt=0;pt<tt.output.length;++pt)st.output[pt]=tt.output[pt];if(tt.name!=null&&tt.hasOwnProperty("name")&&(st.name=tt.name),tt.opType!=null&&tt.hasOwnProperty("opType")&&(st.opType=tt.opType),tt.attribute&&tt.attribute.length)for(st.attribute=[],pt=0;pt<tt.attribute.length;++pt)st.attribute[pt]=lt.onnx.AttributeProto.toObject(tt.attribute[pt],rt);return tt.docString!=null&&tt.hasOwnProperty("docString")&&(st.docString=tt.docString),tt.domain!=null&&tt.hasOwnProperty("domain")&&(st.domain=tt.domain),st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.NodeProto"},ot}(),ut.TrainingInfoProto=function(){function ot(tt){if(this.initializationBinding=[],this.updateBinding=[],tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.initialization=null,ot.prototype.algorithm=null,ot.prototype.initializationBinding=ct.emptyArray,ot.prototype.updateBinding=ct.emptyArray,ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){if(rt||(rt=ht.create()),tt.initialization!=null&&Object.hasOwnProperty.call(tt,"initialization")&&lt.onnx.GraphProto.encode(tt.initialization,rt.uint32(10).fork()).ldelim(),tt.algorithm!=null&&Object.hasOwnProperty.call(tt,"algorithm")&&lt.onnx.GraphProto.encode(tt.algorithm,rt.uint32(18).fork()).ldelim(),tt.initializationBinding!=null&&tt.initializationBinding.length)for(var st=0;st<tt.initializationBinding.length;++st)lt.onnx.StringStringEntryProto.encode(tt.initializationBinding[st],rt.uint32(26).fork()).ldelim();if(tt.updateBinding!=null&&tt.updateBinding.length)for(st=0;st<tt.updateBinding.length;++st)lt.onnx.StringStringEntryProto.encode(tt.updateBinding[st],rt.uint32(34).fork()).ldelim();return rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.TrainingInfoProto;tt.pos<st;){var gt=tt.uint32();switch(gt>>>3){case 1:pt.initialization=lt.onnx.GraphProto.decode(tt,tt.uint32());break;case 2:pt.algorithm=lt.onnx.GraphProto.decode(tt,tt.uint32());break;case 3:pt.initializationBinding&&pt.initializationBinding.length||(pt.initializationBinding=[]),pt.initializationBinding.push(lt.onnx.StringStringEntryProto.decode(tt,tt.uint32()));break;case 4:pt.updateBinding&&pt.updateBinding.length||(pt.updateBinding=[]),pt.updateBinding.push(lt.onnx.StringStringEntryProto.decode(tt,tt.uint32()));break;default:tt.skipType(7&gt)}}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.initialization!=null&&tt.hasOwnProperty("initialization")&&(st=lt.onnx.GraphProto.verify(tt.initialization)))return"initialization."+st;if(tt.algorithm!=null&&tt.hasOwnProperty("algorithm")&&(st=lt.onnx.GraphProto.verify(tt.algorithm)))return"algorithm."+st;if(tt.initializationBinding!=null&&tt.hasOwnProperty("initializationBinding")){if(!Array.isArray(tt.initializationBinding))return"initializationBinding: array expected";for(var rt=0;rt<tt.initializationBinding.length;++rt)if(st=lt.onnx.StringStringEntryProto.verify(tt.initializationBinding[rt]))return"initializationBinding."+st}if(tt.updateBinding!=null&&tt.hasOwnProperty("updateBinding")){if(!Array.isArray(tt.updateBinding))return"updateBinding: array expected";for(rt=0;rt<tt.updateBinding.length;++rt){var st;if(st=lt.onnx.StringStringEntryProto.verify(tt.updateBinding[rt]))return"updateBinding."+st}}return null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.TrainingInfoProto)return tt;var rt=new lt.onnx.TrainingInfoProto;if(tt.initialization!=null){if(typeof tt.initialization!="object")throw TypeError(".onnx.TrainingInfoProto.initialization: object expected");rt.initialization=lt.onnx.GraphProto.fromObject(tt.initialization)}if(tt.algorithm!=null){if(typeof tt.algorithm!="object")throw TypeError(".onnx.TrainingInfoProto.algorithm: object expected");rt.algorithm=lt.onnx.GraphProto.fromObject(tt.algorithm)}if(tt.initializationBinding){if(!Array.isArray(tt.initializationBinding))throw TypeError(".onnx.TrainingInfoProto.initializationBinding: array expected");rt.initializationBinding=[];for(var st=0;st<tt.initializationBinding.length;++st){if(typeof tt.initializationBinding[st]!="object")throw TypeError(".onnx.TrainingInfoProto.initializationBinding: object expected");rt.initializationBinding[st]=lt.onnx.StringStringEntryProto.fromObject(tt.initializationBinding[st])}}if(tt.updateBinding){if(!Array.isArray(tt.updateBinding))throw TypeError(".onnx.TrainingInfoProto.updateBinding: array expected");for(rt.updateBinding=[],st=0;st<tt.updateBinding.length;++st){if(typeof tt.updateBinding[st]!="object")throw TypeError(".onnx.TrainingInfoProto.updateBinding: object expected");rt.updateBinding[st]=lt.onnx.StringStringEntryProto.fromObject(tt.updateBinding[st])}}return rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.initializationBinding=[],st.updateBinding=[]),rt.defaults&&(st.initialization=null,st.algorithm=null),tt.initialization!=null&&tt.hasOwnProperty("initialization")&&(st.initialization=lt.onnx.GraphProto.toObject(tt.initialization,rt)),tt.algorithm!=null&&tt.hasOwnProperty("algorithm")&&(st.algorithm=lt.onnx.GraphProto.toObject(tt.algorithm,rt)),tt.initializationBinding&&tt.initializationBinding.length){st.initializationBinding=[];for(var pt=0;pt<tt.initializationBinding.length;++pt)st.initializationBinding[pt]=lt.onnx.StringStringEntryProto.toObject(tt.initializationBinding[pt],rt)}if(tt.updateBinding&&tt.updateBinding.length)for(st.updateBinding=[],pt=0;pt<tt.updateBinding.length;++pt)st.updateBinding[pt]=lt.onnx.StringStringEntryProto.toObject(tt.updateBinding[pt],rt);return st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.TrainingInfoProto"},ot}(),ut.ModelProto=function(){function ot(tt){if(this.opsetImport=[],this.metadataProps=[],this.trainingInfo=[],this.functions=[],tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.irVersion=ct.Long?ct.Long.fromBits(0,0,!1):0,ot.prototype.opsetImport=ct.emptyArray,ot.prototype.producerName="",ot.prototype.producerVersion="",ot.prototype.domain="",ot.prototype.modelVersion=ct.Long?ct.Long.fromBits(0,0,!1):0,ot.prototype.docString="",ot.prototype.graph=null,ot.prototype.metadataProps=ct.emptyArray,ot.prototype.trainingInfo=ct.emptyArray,ot.prototype.functions=ct.emptyArray,ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){if(rt||(rt=ht.create()),tt.irVersion!=null&&Object.hasOwnProperty.call(tt,"irVersion")&&rt.uint32(8).int64(tt.irVersion),tt.producerName!=null&&Object.hasOwnProperty.call(tt,"producerName")&&rt.uint32(18).string(tt.producerName),tt.producerVersion!=null&&Object.hasOwnProperty.call(tt,"producerVersion")&&rt.uint32(26).string(tt.producerVersion),tt.domain!=null&&Object.hasOwnProperty.call(tt,"domain")&&rt.uint32(34).string(tt.domain),tt.modelVersion!=null&&Object.hasOwnProperty.call(tt,"modelVersion")&&rt.uint32(40).int64(tt.modelVersion),tt.docString!=null&&Object.hasOwnProperty.call(tt,"docString")&&rt.uint32(50).string(tt.docString),tt.graph!=null&&Object.hasOwnProperty.call(tt,"graph")&&lt.onnx.GraphProto.encode(tt.graph,rt.uint32(58).fork()).ldelim(),tt.opsetImport!=null&&tt.opsetImport.length)for(var st=0;st<tt.opsetImport.length;++st)lt.onnx.OperatorSetIdProto.encode(tt.opsetImport[st],rt.uint32(66).fork()).ldelim();if(tt.metadataProps!=null&&tt.metadataProps.length)for(st=0;st<tt.metadataProps.length;++st)lt.onnx.StringStringEntryProto.encode(tt.metadataProps[st],rt.uint32(114).fork()).ldelim();if(tt.trainingInfo!=null&&tt.trainingInfo.length)for(st=0;st<tt.trainingInfo.length;++st)lt.onnx.TrainingInfoProto.encode(tt.trainingInfo[st],rt.uint32(162).fork()).ldelim();if(tt.functions!=null&&tt.functions.length)for(st=0;st<tt.functions.length;++st)lt.onnx.FunctionProto.encode(tt.functions[st],rt.uint32(202).fork()).ldelim();return rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.ModelProto;tt.pos<st;){var gt=tt.uint32();switch(gt>>>3){case 1:pt.irVersion=tt.int64();break;case 8:pt.opsetImport&&pt.opsetImport.length||(pt.opsetImport=[]),pt.opsetImport.push(lt.onnx.OperatorSetIdProto.decode(tt,tt.uint32()));break;case 2:pt.producerName=tt.string();break;case 3:pt.producerVersion=tt.string();break;case 4:pt.domain=tt.string();break;case 5:pt.modelVersion=tt.int64();break;case 6:pt.docString=tt.string();break;case 7:pt.graph=lt.onnx.GraphProto.decode(tt,tt.uint32());break;case 14:pt.metadataProps&&pt.metadataProps.length||(pt.metadataProps=[]),pt.metadataProps.push(lt.onnx.StringStringEntryProto.decode(tt,tt.uint32()));break;case 20:pt.trainingInfo&&pt.trainingInfo.length||(pt.trainingInfo=[]),pt.trainingInfo.push(lt.onnx.TrainingInfoProto.decode(tt,tt.uint32()));break;case 25:pt.functions&&pt.functions.length||(pt.functions=[]),pt.functions.push(lt.onnx.FunctionProto.decode(tt,tt.uint32()));break;default:tt.skipType(7&gt)}}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.irVersion!=null&&tt.hasOwnProperty("irVersion")&&!(ct.isInteger(tt.irVersion)||tt.irVersion&&ct.isInteger(tt.irVersion.low)&&ct.isInteger(tt.irVersion.high)))return"irVersion: integer|Long expected";if(tt.opsetImport!=null&&tt.hasOwnProperty("opsetImport")){if(!Array.isArray(tt.opsetImport))return"opsetImport: array expected";for(var rt=0;rt<tt.opsetImport.length;++rt)if(st=lt.onnx.OperatorSetIdProto.verify(tt.opsetImport[rt]))return"opsetImport."+st}if(tt.producerName!=null&&tt.hasOwnProperty("producerName")&&!ct.isString(tt.producerName))return"producerName: string expected";if(tt.producerVersion!=null&&tt.hasOwnProperty("producerVersion")&&!ct.isString(tt.producerVersion))return"producerVersion: string expected";if(tt.domain!=null&&tt.hasOwnProperty("domain")&&!ct.isString(tt.domain))return"domain: string expected";if(tt.modelVersion!=null&&tt.hasOwnProperty("modelVersion")&&!(ct.isInteger(tt.modelVersion)||tt.modelVersion&&ct.isInteger(tt.modelVersion.low)&&ct.isInteger(tt.modelVersion.high)))return"modelVersion: integer|Long expected";if(tt.docString!=null&&tt.hasOwnProperty("docString")&&!ct.isString(tt.docString))return"docString: string expected";if(tt.graph!=null&&tt.hasOwnProperty("graph")&&(st=lt.onnx.GraphProto.verify(tt.graph)))return"graph."+st;if(tt.metadataProps!=null&&tt.hasOwnProperty("metadataProps")){if(!Array.isArray(tt.metadataProps))return"metadataProps: array expected";for(rt=0;rt<tt.metadataProps.length;++rt)if(st=lt.onnx.StringStringEntryProto.verify(tt.metadataProps[rt]))return"metadataProps."+st}if(tt.trainingInfo!=null&&tt.hasOwnProperty("trainingInfo")){if(!Array.isArray(tt.trainingInfo))return"trainingInfo: array expected";for(rt=0;rt<tt.trainingInfo.length;++rt)if(st=lt.onnx.TrainingInfoProto.verify(tt.trainingInfo[rt]))return"trainingInfo."+st}if(tt.functions!=null&&tt.hasOwnProperty("functions")){if(!Array.isArray(tt.functions))return"functions: array expected";for(rt=0;rt<tt.functions.length;++rt){var st;if(st=lt.onnx.FunctionProto.verify(tt.functions[rt]))return"functions."+st}}return null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.ModelProto)return tt;var rt=new lt.onnx.ModelProto;if(tt.irVersion!=null&&(ct.Long?(rt.irVersion=ct.Long.fromValue(tt.irVersion)).unsigned=!1:typeof tt.irVersion=="string"?rt.irVersion=parseInt(tt.irVersion,10):typeof tt.irVersion=="number"?rt.irVersion=tt.irVersion:typeof tt.irVersion=="object"&&(rt.irVersion=new ct.LongBits(tt.irVersion.low>>>0,tt.irVersion.high>>>0).toNumber())),tt.opsetImport){if(!Array.isArray(tt.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");rt.opsetImport=[];for(var st=0;st<tt.opsetImport.length;++st){if(typeof tt.opsetImport[st]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");rt.opsetImport[st]=lt.onnx.OperatorSetIdProto.fromObject(tt.opsetImport[st])}}if(tt.producerName!=null&&(rt.producerName=String(tt.producerName)),tt.producerVersion!=null&&(rt.producerVersion=String(tt.producerVersion)),tt.domain!=null&&(rt.domain=String(tt.domain)),tt.modelVersion!=null&&(ct.Long?(rt.modelVersion=ct.Long.fromValue(tt.modelVersion)).unsigned=!1:typeof tt.modelVersion=="string"?rt.modelVersion=parseInt(tt.modelVersion,10):typeof tt.modelVersion=="number"?rt.modelVersion=tt.modelVersion:typeof tt.modelVersion=="object"&&(rt.modelVersion=new ct.LongBits(tt.modelVersion.low>>>0,tt.modelVersion.high>>>0).toNumber())),tt.docString!=null&&(rt.docString=String(tt.docString)),tt.graph!=null){if(typeof tt.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");rt.graph=lt.onnx.GraphProto.fromObject(tt.graph)}if(tt.metadataProps){if(!Array.isArray(tt.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(rt.metadataProps=[],st=0;st<tt.metadataProps.length;++st){if(typeof tt.metadataProps[st]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");rt.metadataProps[st]=lt.onnx.StringStringEntryProto.fromObject(tt.metadataProps[st])}}if(tt.trainingInfo){if(!Array.isArray(tt.trainingInfo))throw TypeError(".onnx.ModelProto.trainingInfo: array expected");for(rt.trainingInfo=[],st=0;st<tt.trainingInfo.length;++st){if(typeof tt.trainingInfo[st]!="object")throw TypeError(".onnx.ModelProto.trainingInfo: object expected");rt.trainingInfo[st]=lt.onnx.TrainingInfoProto.fromObject(tt.trainingInfo[st])}}if(tt.functions){if(!Array.isArray(tt.functions))throw TypeError(".onnx.ModelProto.functions: array expected");for(rt.functions=[],st=0;st<tt.functions.length;++st){if(typeof tt.functions[st]!="object")throw TypeError(".onnx.ModelProto.functions: object expected");rt.functions[st]=lt.onnx.FunctionProto.fromObject(tt.functions[st])}}return rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.opsetImport=[],st.metadataProps=[],st.trainingInfo=[],st.functions=[]),rt.defaults){if(ct.Long){var pt=new ct.Long(0,0,!1);st.irVersion=rt.longs===String?pt.toString():rt.longs===Number?pt.toNumber():pt}else st.irVersion=rt.longs===String?"0":0;st.producerName="",st.producerVersion="",st.domain="",ct.Long?(pt=new ct.Long(0,0,!1),st.modelVersion=rt.longs===String?pt.toString():rt.longs===Number?pt.toNumber():pt):st.modelVersion=rt.longs===String?"0":0,st.docString="",st.graph=null}if(tt.irVersion!=null&&tt.hasOwnProperty("irVersion")&&(typeof tt.irVersion=="number"?st.irVersion=rt.longs===String?String(tt.irVersion):tt.irVersion:st.irVersion=rt.longs===String?ct.Long.prototype.toString.call(tt.irVersion):rt.longs===Number?new ct.LongBits(tt.irVersion.low>>>0,tt.irVersion.high>>>0).toNumber():tt.irVersion),tt.producerName!=null&&tt.hasOwnProperty("producerName")&&(st.producerName=tt.producerName),tt.producerVersion!=null&&tt.hasOwnProperty("producerVersion")&&(st.producerVersion=tt.producerVersion),tt.domain!=null&&tt.hasOwnProperty("domain")&&(st.domain=tt.domain),tt.modelVersion!=null&&tt.hasOwnProperty("modelVersion")&&(typeof tt.modelVersion=="number"?st.modelVersion=rt.longs===String?String(tt.modelVersion):tt.modelVersion:st.modelVersion=rt.longs===String?ct.Long.prototype.toString.call(tt.modelVersion):rt.longs===Number?new ct.LongBits(tt.modelVersion.low>>>0,tt.modelVersion.high>>>0).toNumber():tt.modelVersion),tt.docString!=null&&tt.hasOwnProperty("docString")&&(st.docString=tt.docString),tt.graph!=null&&tt.hasOwnProperty("graph")&&(st.graph=lt.onnx.GraphProto.toObject(tt.graph,rt)),tt.opsetImport&&tt.opsetImport.length){st.opsetImport=[];for(var gt=0;gt<tt.opsetImport.length;++gt)st.opsetImport[gt]=lt.onnx.OperatorSetIdProto.toObject(tt.opsetImport[gt],rt)}if(tt.metadataProps&&tt.metadataProps.length)for(st.metadataProps=[],gt=0;gt<tt.metadataProps.length;++gt)st.metadataProps[gt]=lt.onnx.StringStringEntryProto.toObject(tt.metadataProps[gt],rt);if(tt.trainingInfo&&tt.trainingInfo.length)for(st.trainingInfo=[],gt=0;gt<tt.trainingInfo.length;++gt)st.trainingInfo[gt]=lt.onnx.TrainingInfoProto.toObject(tt.trainingInfo[gt],rt);if(tt.functions&&tt.functions.length)for(st.functions=[],gt=0;gt<tt.functions.length;++gt)st.functions[gt]=lt.onnx.FunctionProto.toObject(tt.functions[gt],rt);return st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.ModelProto"},ot}(),ut.StringStringEntryProto=function(){function ot(tt){if(tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.key="",ot.prototype.value="",ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){return rt||(rt=ht.create()),tt.key!=null&&Object.hasOwnProperty.call(tt,"key")&&rt.uint32(10).string(tt.key),tt.value!=null&&Object.hasOwnProperty.call(tt,"value")&&rt.uint32(18).string(tt.value),rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.StringStringEntryProto;tt.pos<st;){var gt=tt.uint32();switch(gt>>>3){case 1:pt.key=tt.string();break;case 2:pt.value=tt.string();break;default:tt.skipType(7&gt)}}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){return typeof tt!="object"||tt===null?"object expected":tt.key!=null&&tt.hasOwnProperty("key")&&!ct.isString(tt.key)?"key: string expected":tt.value!=null&&tt.hasOwnProperty("value")&&!ct.isString(tt.value)?"value: string expected":null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.StringStringEntryProto)return tt;var rt=new lt.onnx.StringStringEntryProto;return tt.key!=null&&(rt.key=String(tt.key)),tt.value!=null&&(rt.value=String(tt.value)),rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};return rt.defaults&&(st.key="",st.value=""),tt.key!=null&&tt.hasOwnProperty("key")&&(st.key=tt.key),tt.value!=null&&tt.hasOwnProperty("value")&&(st.value=tt.value),st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.StringStringEntryProto"},ot}(),ut.TensorAnnotation=function(){function ot(tt){if(this.quantParameterTensorNames=[],tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.tensorName="",ot.prototype.quantParameterTensorNames=ct.emptyArray,ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){if(rt||(rt=ht.create()),tt.tensorName!=null&&Object.hasOwnProperty.call(tt,"tensorName")&&rt.uint32(10).string(tt.tensorName),tt.quantParameterTensorNames!=null&&tt.quantParameterTensorNames.length)for(var st=0;st<tt.quantParameterTensorNames.length;++st)lt.onnx.StringStringEntryProto.encode(tt.quantParameterTensorNames[st],rt.uint32(18).fork()).ldelim();return rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.TensorAnnotation;tt.pos<st;){var gt=tt.uint32();switch(gt>>>3){case 1:pt.tensorName=tt.string();break;case 2:pt.quantParameterTensorNames&&pt.quantParameterTensorNames.length||(pt.quantParameterTensorNames=[]),pt.quantParameterTensorNames.push(lt.onnx.StringStringEntryProto.decode(tt,tt.uint32()));break;default:tt.skipType(7&gt)}}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.tensorName!=null&&tt.hasOwnProperty("tensorName")&&!ct.isString(tt.tensorName))return"tensorName: string expected";if(tt.quantParameterTensorNames!=null&&tt.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(tt.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var rt=0;rt<tt.quantParameterTensorNames.length;++rt){var st=lt.onnx.StringStringEntryProto.verify(tt.quantParameterTensorNames[rt]);if(st)return"quantParameterTensorNames."+st}}return null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.TensorAnnotation)return tt;var rt=new lt.onnx.TensorAnnotation;if(tt.tensorName!=null&&(rt.tensorName=String(tt.tensorName)),tt.quantParameterTensorNames){if(!Array.isArray(tt.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");rt.quantParameterTensorNames=[];for(var st=0;st<tt.quantParameterTensorNames.length;++st){if(typeof tt.quantParameterTensorNames[st]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");rt.quantParameterTensorNames[st]=lt.onnx.StringStringEntryProto.fromObject(tt.quantParameterTensorNames[st])}}return rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.quantParameterTensorNames=[]),rt.defaults&&(st.tensorName=""),tt.tensorName!=null&&tt.hasOwnProperty("tensorName")&&(st.tensorName=tt.tensorName),tt.quantParameterTensorNames&&tt.quantParameterTensorNames.length){st.quantParameterTensorNames=[];for(var pt=0;pt<tt.quantParameterTensorNames.length;++pt)st.quantParameterTensorNames[pt]=lt.onnx.StringStringEntryProto.toObject(tt.quantParameterTensorNames[pt],rt)}return st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.TensorAnnotation"},ot}(),ut.GraphProto=function(){function ot(tt){if(this.node=[],this.initializer=[],this.sparseInitializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.node=ct.emptyArray,ot.prototype.name="",ot.prototype.initializer=ct.emptyArray,ot.prototype.sparseInitializer=ct.emptyArray,ot.prototype.docString="",ot.prototype.input=ct.emptyArray,ot.prototype.output=ct.emptyArray,ot.prototype.valueInfo=ct.emptyArray,ot.prototype.quantizationAnnotation=ct.emptyArray,ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){if(rt||(rt=ht.create()),tt.node!=null&&tt.node.length)for(var st=0;st<tt.node.length;++st)lt.onnx.NodeProto.encode(tt.node[st],rt.uint32(10).fork()).ldelim();if(tt.name!=null&&Object.hasOwnProperty.call(tt,"name")&&rt.uint32(18).string(tt.name),tt.initializer!=null&&tt.initializer.length)for(st=0;st<tt.initializer.length;++st)lt.onnx.TensorProto.encode(tt.initializer[st],rt.uint32(42).fork()).ldelim();if(tt.docString!=null&&Object.hasOwnProperty.call(tt,"docString")&&rt.uint32(82).string(tt.docString),tt.input!=null&&tt.input.length)for(st=0;st<tt.input.length;++st)lt.onnx.ValueInfoProto.encode(tt.input[st],rt.uint32(90).fork()).ldelim();if(tt.output!=null&&tt.output.length)for(st=0;st<tt.output.length;++st)lt.onnx.ValueInfoProto.encode(tt.output[st],rt.uint32(98).fork()).ldelim();if(tt.valueInfo!=null&&tt.valueInfo.length)for(st=0;st<tt.valueInfo.length;++st)lt.onnx.ValueInfoProto.encode(tt.valueInfo[st],rt.uint32(106).fork()).ldelim();if(tt.quantizationAnnotation!=null&&tt.quantizationAnnotation.length)for(st=0;st<tt.quantizationAnnotation.length;++st)lt.onnx.TensorAnnotation.encode(tt.quantizationAnnotation[st],rt.uint32(114).fork()).ldelim();if(tt.sparseInitializer!=null&&tt.sparseInitializer.length)for(st=0;st<tt.sparseInitializer.length;++st)lt.onnx.SparseTensorProto.encode(tt.sparseInitializer[st],rt.uint32(122).fork()).ldelim();return rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.GraphProto;tt.pos<st;){var gt=tt.uint32();switch(gt>>>3){case 1:pt.node&&pt.node.length||(pt.node=[]),pt.node.push(lt.onnx.NodeProto.decode(tt,tt.uint32()));break;case 2:pt.name=tt.string();break;case 5:pt.initializer&&pt.initializer.length||(pt.initializer=[]),pt.initializer.push(lt.onnx.TensorProto.decode(tt,tt.uint32()));break;case 15:pt.sparseInitializer&&pt.sparseInitializer.length||(pt.sparseInitializer=[]),pt.sparseInitializer.push(lt.onnx.SparseTensorProto.decode(tt,tt.uint32()));break;case 10:pt.docString=tt.string();break;case 11:pt.input&&pt.input.length||(pt.input=[]),pt.input.push(lt.onnx.ValueInfoProto.decode(tt,tt.uint32()));break;case 12:pt.output&&pt.output.length||(pt.output=[]),pt.output.push(lt.onnx.ValueInfoProto.decode(tt,tt.uint32()));break;case 13:pt.valueInfo&&pt.valueInfo.length||(pt.valueInfo=[]),pt.valueInfo.push(lt.onnx.ValueInfoProto.decode(tt,tt.uint32()));break;case 14:pt.quantizationAnnotation&&pt.quantizationAnnotation.length||(pt.quantizationAnnotation=[]),pt.quantizationAnnotation.push(lt.onnx.TensorAnnotation.decode(tt,tt.uint32()));break;default:tt.skipType(7&gt)}}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.node!=null&&tt.hasOwnProperty("node")){if(!Array.isArray(tt.node))return"node: array expected";for(var rt=0;rt<tt.node.length;++rt)if(st=lt.onnx.NodeProto.verify(tt.node[rt]))return"node."+st}if(tt.name!=null&&tt.hasOwnProperty("name")&&!ct.isString(tt.name))return"name: string expected";if(tt.initializer!=null&&tt.hasOwnProperty("initializer")){if(!Array.isArray(tt.initializer))return"initializer: array expected";for(rt=0;rt<tt.initializer.length;++rt)if(st=lt.onnx.TensorProto.verify(tt.initializer[rt]))return"initializer."+st}if(tt.sparseInitializer!=null&&tt.hasOwnProperty("sparseInitializer")){if(!Array.isArray(tt.sparseInitializer))return"sparseInitializer: array expected";for(rt=0;rt<tt.sparseInitializer.length;++rt)if(st=lt.onnx.SparseTensorProto.verify(tt.sparseInitializer[rt]))return"sparseInitializer."+st}if(tt.docString!=null&&tt.hasOwnProperty("docString")&&!ct.isString(tt.docString))return"docString: string expected";if(tt.input!=null&&tt.hasOwnProperty("input")){if(!Array.isArray(tt.input))return"input: array expected";for(rt=0;rt<tt.input.length;++rt)if(st=lt.onnx.ValueInfoProto.verify(tt.input[rt]))return"input."+st}if(tt.output!=null&&tt.hasOwnProperty("output")){if(!Array.isArray(tt.output))return"output: array expected";for(rt=0;rt<tt.output.length;++rt)if(st=lt.onnx.ValueInfoProto.verify(tt.output[rt]))return"output."+st}if(tt.valueInfo!=null&&tt.hasOwnProperty("valueInfo")){if(!Array.isArray(tt.valueInfo))return"valueInfo: array expected";for(rt=0;rt<tt.valueInfo.length;++rt)if(st=lt.onnx.ValueInfoProto.verify(tt.valueInfo[rt]))return"valueInfo."+st}if(tt.quantizationAnnotation!=null&&tt.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(tt.quantizationAnnotation))return"quantizationAnnotation: array expected";for(rt=0;rt<tt.quantizationAnnotation.length;++rt){var st;if(st=lt.onnx.TensorAnnotation.verify(tt.quantizationAnnotation[rt]))return"quantizationAnnotation."+st}}return null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.GraphProto)return tt;var rt=new lt.onnx.GraphProto;if(tt.node){if(!Array.isArray(tt.node))throw TypeError(".onnx.GraphProto.node: array expected");rt.node=[];for(var st=0;st<tt.node.length;++st){if(typeof tt.node[st]!="object")throw TypeError(".onnx.GraphProto.node: object expected");rt.node[st]=lt.onnx.NodeProto.fromObject(tt.node[st])}}if(tt.name!=null&&(rt.name=String(tt.name)),tt.initializer){if(!Array.isArray(tt.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(rt.initializer=[],st=0;st<tt.initializer.length;++st){if(typeof tt.initializer[st]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");rt.initializer[st]=lt.onnx.TensorProto.fromObject(tt.initializer[st])}}if(tt.sparseInitializer){if(!Array.isArray(tt.sparseInitializer))throw TypeError(".onnx.GraphProto.sparseInitializer: array expected");for(rt.sparseInitializer=[],st=0;st<tt.sparseInitializer.length;++st){if(typeof tt.sparseInitializer[st]!="object")throw TypeError(".onnx.GraphProto.sparseInitializer: object expected");rt.sparseInitializer[st]=lt.onnx.SparseTensorProto.fromObject(tt.sparseInitializer[st])}}if(tt.docString!=null&&(rt.docString=String(tt.docString)),tt.input){if(!Array.isArray(tt.input))throw TypeError(".onnx.GraphProto.input: array expected");for(rt.input=[],st=0;st<tt.input.length;++st){if(typeof tt.input[st]!="object")throw TypeError(".onnx.GraphProto.input: object expected");rt.input[st]=lt.onnx.ValueInfoProto.fromObject(tt.input[st])}}if(tt.output){if(!Array.isArray(tt.output))throw TypeError(".onnx.GraphProto.output: array expected");for(rt.output=[],st=0;st<tt.output.length;++st){if(typeof tt.output[st]!="object")throw TypeError(".onnx.GraphProto.output: object expected");rt.output[st]=lt.onnx.ValueInfoProto.fromObject(tt.output[st])}}if(tt.valueInfo){if(!Array.isArray(tt.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(rt.valueInfo=[],st=0;st<tt.valueInfo.length;++st){if(typeof tt.valueInfo[st]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");rt.valueInfo[st]=lt.onnx.ValueInfoProto.fromObject(tt.valueInfo[st])}}if(tt.quantizationAnnotation){if(!Array.isArray(tt.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(rt.quantizationAnnotation=[],st=0;st<tt.quantizationAnnotation.length;++st){if(typeof tt.quantizationAnnotation[st]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");rt.quantizationAnnotation[st]=lt.onnx.TensorAnnotation.fromObject(tt.quantizationAnnotation[st])}}return rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.node=[],st.initializer=[],st.input=[],st.output=[],st.valueInfo=[],st.quantizationAnnotation=[],st.sparseInitializer=[]),rt.defaults&&(st.name="",st.docString=""),tt.node&&tt.node.length){st.node=[];for(var pt=0;pt<tt.node.length;++pt)st.node[pt]=lt.onnx.NodeProto.toObject(tt.node[pt],rt)}if(tt.name!=null&&tt.hasOwnProperty("name")&&(st.name=tt.name),tt.initializer&&tt.initializer.length)for(st.initializer=[],pt=0;pt<tt.initializer.length;++pt)st.initializer[pt]=lt.onnx.TensorProto.toObject(tt.initializer[pt],rt);if(tt.docString!=null&&tt.hasOwnProperty("docString")&&(st.docString=tt.docString),tt.input&&tt.input.length)for(st.input=[],pt=0;pt<tt.input.length;++pt)st.input[pt]=lt.onnx.ValueInfoProto.toObject(tt.input[pt],rt);if(tt.output&&tt.output.length)for(st.output=[],pt=0;pt<tt.output.length;++pt)st.output[pt]=lt.onnx.ValueInfoProto.toObject(tt.output[pt],rt);if(tt.valueInfo&&tt.valueInfo.length)for(st.valueInfo=[],pt=0;pt<tt.valueInfo.length;++pt)st.valueInfo[pt]=lt.onnx.ValueInfoProto.toObject(tt.valueInfo[pt],rt);if(tt.quantizationAnnotation&&tt.quantizationAnnotation.length)for(st.quantizationAnnotation=[],pt=0;pt<tt.quantizationAnnotation.length;++pt)st.quantizationAnnotation[pt]=lt.onnx.TensorAnnotation.toObject(tt.quantizationAnnotation[pt],rt);if(tt.sparseInitializer&&tt.sparseInitializer.length)for(st.sparseInitializer=[],pt=0;pt<tt.sparseInitializer.length;++pt)st.sparseInitializer[pt]=lt.onnx.SparseTensorProto.toObject(tt.sparseInitializer[pt],rt);return st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.GraphProto"},ot}(),ut.TensorProto=function(){function ot(tt){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.dims=ct.emptyArray,ot.prototype.dataType=0,ot.prototype.segment=null,ot.prototype.floatData=ct.emptyArray,ot.prototype.int32Data=ct.emptyArray,ot.prototype.stringData=ct.emptyArray,ot.prototype.int64Data=ct.emptyArray,ot.prototype.name="",ot.prototype.docString="",ot.prototype.rawData=ct.newBuffer([]),ot.prototype.externalData=ct.emptyArray,ot.prototype.dataLocation=0,ot.prototype.doubleData=ct.emptyArray,ot.prototype.uint64Data=ct.emptyArray,ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){if(rt||(rt=ht.create()),tt.dims!=null&&tt.dims.length){rt.uint32(10).fork();for(var st=0;st<tt.dims.length;++st)rt.int64(tt.dims[st]);rt.ldelim()}if(tt.dataType!=null&&Object.hasOwnProperty.call(tt,"dataType")&&rt.uint32(16).int32(tt.dataType),tt.segment!=null&&Object.hasOwnProperty.call(tt,"segment")&&lt.onnx.TensorProto.Segment.encode(tt.segment,rt.uint32(26).fork()).ldelim(),tt.floatData!=null&&tt.floatData.length){for(rt.uint32(34).fork(),st=0;st<tt.floatData.length;++st)rt.float(tt.floatData[st]);rt.ldelim()}if(tt.int32Data!=null&&tt.int32Data.length){for(rt.uint32(42).fork(),st=0;st<tt.int32Data.length;++st)rt.int32(tt.int32Data[st]);rt.ldelim()}if(tt.stringData!=null&&tt.stringData.length)for(st=0;st<tt.stringData.length;++st)rt.uint32(50).bytes(tt.stringData[st]);if(tt.int64Data!=null&&tt.int64Data.length){for(rt.uint32(58).fork(),st=0;st<tt.int64Data.length;++st)rt.int64(tt.int64Data[st]);rt.ldelim()}if(tt.name!=null&&Object.hasOwnProperty.call(tt,"name")&&rt.uint32(66).string(tt.name),tt.rawData!=null&&Object.hasOwnProperty.call(tt,"rawData")&&rt.uint32(74).bytes(tt.rawData),tt.doubleData!=null&&tt.doubleData.length){for(rt.uint32(82).fork(),st=0;st<tt.doubleData.length;++st)rt.double(tt.doubleData[st]);rt.ldelim()}if(tt.uint64Data!=null&&tt.uint64Data.length){for(rt.uint32(90).fork(),st=0;st<tt.uint64Data.length;++st)rt.uint64(tt.uint64Data[st]);rt.ldelim()}if(tt.docString!=null&&Object.hasOwnProperty.call(tt,"docString")&&rt.uint32(98).string(tt.docString),tt.externalData!=null&&tt.externalData.length)for(st=0;st<tt.externalData.length;++st)lt.onnx.StringStringEntryProto.encode(tt.externalData[st],rt.uint32(106).fork()).ldelim();return tt.dataLocation!=null&&Object.hasOwnProperty.call(tt,"dataLocation")&&rt.uint32(112).int32(tt.dataLocation),rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.TensorProto;tt.pos<st;){var gt=tt.uint32();switch(gt>>>3){case 1:if(pt.dims&&pt.dims.length||(pt.dims=[]),(7&gt)==2)for(var mt=tt.uint32()+tt.pos;tt.pos<mt;)pt.dims.push(tt.int64());else pt.dims.push(tt.int64());break;case 2:pt.dataType=tt.int32();break;case 3:pt.segment=lt.onnx.TensorProto.Segment.decode(tt,tt.uint32());break;case 4:if(pt.floatData&&pt.floatData.length||(pt.floatData=[]),(7&gt)==2)for(mt=tt.uint32()+tt.pos;tt.pos<mt;)pt.floatData.push(tt.float());else pt.floatData.push(tt.float());break;case 5:if(pt.int32Data&&pt.int32Data.length||(pt.int32Data=[]),(7&gt)==2)for(mt=tt.uint32()+tt.pos;tt.pos<mt;)pt.int32Data.push(tt.int32());else pt.int32Data.push(tt.int32());break;case 6:pt.stringData&&pt.stringData.length||(pt.stringData=[]),pt.stringData.push(tt.bytes());break;case 7:if(pt.int64Data&&pt.int64Data.length||(pt.int64Data=[]),(7&gt)==2)for(mt=tt.uint32()+tt.pos;tt.pos<mt;)pt.int64Data.push(tt.int64());else pt.int64Data.push(tt.int64());break;case 8:pt.name=tt.string();break;case 12:pt.docString=tt.string();break;case 9:pt.rawData=tt.bytes();break;case 13:pt.externalData&&pt.externalData.length||(pt.externalData=[]),pt.externalData.push(lt.onnx.StringStringEntryProto.decode(tt,tt.uint32()));break;case 14:pt.dataLocation=tt.int32();break;case 10:if(pt.doubleData&&pt.doubleData.length||(pt.doubleData=[]),(7&gt)==2)for(mt=tt.uint32()+tt.pos;tt.pos<mt;)pt.doubleData.push(tt.double());else pt.doubleData.push(tt.double());break;case 11:if(pt.uint64Data&&pt.uint64Data.length||(pt.uint64Data=[]),(7&gt)==2)for(mt=tt.uint32()+tt.pos;tt.pos<mt;)pt.uint64Data.push(tt.uint64());else pt.uint64Data.push(tt.uint64());break;default:tt.skipType(7&gt)}}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.dims!=null&&tt.hasOwnProperty("dims")){if(!Array.isArray(tt.dims))return"dims: array expected";for(var rt=0;rt<tt.dims.length;++rt)if(!(ct.isInteger(tt.dims[rt])||tt.dims[rt]&&ct.isInteger(tt.dims[rt].low)&&ct.isInteger(tt.dims[rt].high)))return"dims: integer|Long[] expected"}if(tt.dataType!=null&&tt.hasOwnProperty("dataType")&&!ct.isInteger(tt.dataType))return"dataType: integer expected";if(tt.segment!=null&&tt.hasOwnProperty("segment")&&(st=lt.onnx.TensorProto.Segment.verify(tt.segment)))return"segment."+st;if(tt.floatData!=null&&tt.hasOwnProperty("floatData")){if(!Array.isArray(tt.floatData))return"floatData: array expected";for(rt=0;rt<tt.floatData.length;++rt)if(typeof tt.floatData[rt]!="number")return"floatData: number[] expected"}if(tt.int32Data!=null&&tt.hasOwnProperty("int32Data")){if(!Array.isArray(tt.int32Data))return"int32Data: array expected";for(rt=0;rt<tt.int32Data.length;++rt)if(!ct.isInteger(tt.int32Data[rt]))return"int32Data: integer[] expected"}if(tt.stringData!=null&&tt.hasOwnProperty("stringData")){if(!Array.isArray(tt.stringData))return"stringData: array expected";for(rt=0;rt<tt.stringData.length;++rt)if(!(tt.stringData[rt]&&typeof tt.stringData[rt].length=="number"||ct.isString(tt.stringData[rt])))return"stringData: buffer[] expected"}if(tt.int64Data!=null&&tt.hasOwnProperty("int64Data")){if(!Array.isArray(tt.int64Data))return"int64Data: array expected";for(rt=0;rt<tt.int64Data.length;++rt)if(!(ct.isInteger(tt.int64Data[rt])||tt.int64Data[rt]&&ct.isInteger(tt.int64Data[rt].low)&&ct.isInteger(tt.int64Data[rt].high)))return"int64Data: integer|Long[] expected"}if(tt.name!=null&&tt.hasOwnProperty("name")&&!ct.isString(tt.name))return"name: string expected";if(tt.docString!=null&&tt.hasOwnProperty("docString")&&!ct.isString(tt.docString))return"docString: string expected";if(tt.rawData!=null&&tt.hasOwnProperty("rawData")&&!(tt.rawData&&typeof tt.rawData.length=="number"||ct.isString(tt.rawData)))return"rawData: buffer expected";if(tt.externalData!=null&&tt.hasOwnProperty("externalData")){if(!Array.isArray(tt.externalData))return"externalData: array expected";for(rt=0;rt<tt.externalData.length;++rt){var st;if(st=lt.onnx.StringStringEntryProto.verify(tt.externalData[rt]))return"externalData."+st}}if(tt.dataLocation!=null&&tt.hasOwnProperty("dataLocation"))switch(tt.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(tt.doubleData!=null&&tt.hasOwnProperty("doubleData")){if(!Array.isArray(tt.doubleData))return"doubleData: array expected";for(rt=0;rt<tt.doubleData.length;++rt)if(typeof tt.doubleData[rt]!="number")return"doubleData: number[] expected"}if(tt.uint64Data!=null&&tt.hasOwnProperty("uint64Data")){if(!Array.isArray(tt.uint64Data))return"uint64Data: array expected";for(rt=0;rt<tt.uint64Data.length;++rt)if(!(ct.isInteger(tt.uint64Data[rt])||tt.uint64Data[rt]&&ct.isInteger(tt.uint64Data[rt].low)&&ct.isInteger(tt.uint64Data[rt].high)))return"uint64Data: integer|Long[] expected"}return null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.TensorProto)return tt;var rt=new lt.onnx.TensorProto;if(tt.dims){if(!Array.isArray(tt.dims))throw TypeError(".onnx.TensorProto.dims: array expected");rt.dims=[];for(var st=0;st<tt.dims.length;++st)ct.Long?(rt.dims[st]=ct.Long.fromValue(tt.dims[st])).unsigned=!1:typeof tt.dims[st]=="string"?rt.dims[st]=parseInt(tt.dims[st],10):typeof tt.dims[st]=="number"?rt.dims[st]=tt.dims[st]:typeof tt.dims[st]=="object"&&(rt.dims[st]=new ct.LongBits(tt.dims[st].low>>>0,tt.dims[st].high>>>0).toNumber())}if(tt.dataType!=null&&(rt.dataType=0|tt.dataType),tt.segment!=null){if(typeof tt.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");rt.segment=lt.onnx.TensorProto.Segment.fromObject(tt.segment)}if(tt.floatData){if(!Array.isArray(tt.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(rt.floatData=[],st=0;st<tt.floatData.length;++st)rt.floatData[st]=Number(tt.floatData[st])}if(tt.int32Data){if(!Array.isArray(tt.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(rt.int32Data=[],st=0;st<tt.int32Data.length;++st)rt.int32Data[st]=0|tt.int32Data[st]}if(tt.stringData){if(!Array.isArray(tt.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(rt.stringData=[],st=0;st<tt.stringData.length;++st)typeof tt.stringData[st]=="string"?ct.base64.decode(tt.stringData[st],rt.stringData[st]=ct.newBuffer(ct.base64.length(tt.stringData[st])),0):tt.stringData[st].length>=0&&(rt.stringData[st]=tt.stringData[st])}if(tt.int64Data){if(!Array.isArray(tt.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(rt.int64Data=[],st=0;st<tt.int64Data.length;++st)ct.Long?(rt.int64Data[st]=ct.Long.fromValue(tt.int64Data[st])).unsigned=!1:typeof tt.int64Data[st]=="string"?rt.int64Data[st]=parseInt(tt.int64Data[st],10):typeof tt.int64Data[st]=="number"?rt.int64Data[st]=tt.int64Data[st]:typeof tt.int64Data[st]=="object"&&(rt.int64Data[st]=new ct.LongBits(tt.int64Data[st].low>>>0,tt.int64Data[st].high>>>0).toNumber())}if(tt.name!=null&&(rt.name=String(tt.name)),tt.docString!=null&&(rt.docString=String(tt.docString)),tt.rawData!=null&&(typeof tt.rawData=="string"?ct.base64.decode(tt.rawData,rt.rawData=ct.newBuffer(ct.base64.length(tt.rawData)),0):tt.rawData.length>=0&&(rt.rawData=tt.rawData)),tt.externalData){if(!Array.isArray(tt.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(rt.externalData=[],st=0;st<tt.externalData.length;++st){if(typeof tt.externalData[st]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");rt.externalData[st]=lt.onnx.StringStringEntryProto.fromObject(tt.externalData[st])}}switch(tt.dataLocation){default:if(typeof tt.dataLocation=="number"){rt.dataLocation=tt.dataLocation;break}break;case"DEFAULT":case 0:rt.dataLocation=0;break;case"EXTERNAL":case 1:rt.dataLocation=1}if(tt.doubleData){if(!Array.isArray(tt.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(rt.doubleData=[],st=0;st<tt.doubleData.length;++st)rt.doubleData[st]=Number(tt.doubleData[st])}if(tt.uint64Data){if(!Array.isArray(tt.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(rt.uint64Data=[],st=0;st<tt.uint64Data.length;++st)ct.Long?(rt.uint64Data[st]=ct.Long.fromValue(tt.uint64Data[st])).unsigned=!0:typeof tt.uint64Data[st]=="string"?rt.uint64Data[st]=parseInt(tt.uint64Data[st],10):typeof tt.uint64Data[st]=="number"?rt.uint64Data[st]=tt.uint64Data[st]:typeof tt.uint64Data[st]=="object"&&(rt.uint64Data[st]=new ct.LongBits(tt.uint64Data[st].low>>>0,tt.uint64Data[st].high>>>0).toNumber(!0))}return rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.dims=[],st.floatData=[],st.int32Data=[],st.stringData=[],st.int64Data=[],st.doubleData=[],st.uint64Data=[],st.externalData=[]),rt.defaults&&(st.dataType=0,st.segment=null,st.name="",rt.bytes===String?st.rawData="":(st.rawData=[],rt.bytes!==Array&&(st.rawData=ct.newBuffer(st.rawData))),st.docString="",st.dataLocation=rt.enums===String?"DEFAULT":0),tt.dims&&tt.dims.length){st.dims=[];for(var pt=0;pt<tt.dims.length;++pt)typeof tt.dims[pt]=="number"?st.dims[pt]=rt.longs===String?String(tt.dims[pt]):tt.dims[pt]:st.dims[pt]=rt.longs===String?ct.Long.prototype.toString.call(tt.dims[pt]):rt.longs===Number?new ct.LongBits(tt.dims[pt].low>>>0,tt.dims[pt].high>>>0).toNumber():tt.dims[pt]}if(tt.dataType!=null&&tt.hasOwnProperty("dataType")&&(st.dataType=tt.dataType),tt.segment!=null&&tt.hasOwnProperty("segment")&&(st.segment=lt.onnx.TensorProto.Segment.toObject(tt.segment,rt)),tt.floatData&&tt.floatData.length)for(st.floatData=[],pt=0;pt<tt.floatData.length;++pt)st.floatData[pt]=rt.json&&!isFinite(tt.floatData[pt])?String(tt.floatData[pt]):tt.floatData[pt];if(tt.int32Data&&tt.int32Data.length)for(st.int32Data=[],pt=0;pt<tt.int32Data.length;++pt)st.int32Data[pt]=tt.int32Data[pt];if(tt.stringData&&tt.stringData.length)for(st.stringData=[],pt=0;pt<tt.stringData.length;++pt)st.stringData[pt]=rt.bytes===String?ct.base64.encode(tt.stringData[pt],0,tt.stringData[pt].length):rt.bytes===Array?Array.prototype.slice.call(tt.stringData[pt]):tt.stringData[pt];if(tt.int64Data&&tt.int64Data.length)for(st.int64Data=[],pt=0;pt<tt.int64Data.length;++pt)typeof tt.int64Data[pt]=="number"?st.int64Data[pt]=rt.longs===String?String(tt.int64Data[pt]):tt.int64Data[pt]:st.int64Data[pt]=rt.longs===String?ct.Long.prototype.toString.call(tt.int64Data[pt]):rt.longs===Number?new ct.LongBits(tt.int64Data[pt].low>>>0,tt.int64Data[pt].high>>>0).toNumber():tt.int64Data[pt];if(tt.name!=null&&tt.hasOwnProperty("name")&&(st.name=tt.name),tt.rawData!=null&&tt.hasOwnProperty("rawData")&&(st.rawData=rt.bytes===String?ct.base64.encode(tt.rawData,0,tt.rawData.length):rt.bytes===Array?Array.prototype.slice.call(tt.rawData):tt.rawData),tt.doubleData&&tt.doubleData.length)for(st.doubleData=[],pt=0;pt<tt.doubleData.length;++pt)st.doubleData[pt]=rt.json&&!isFinite(tt.doubleData[pt])?String(tt.doubleData[pt]):tt.doubleData[pt];if(tt.uint64Data&&tt.uint64Data.length)for(st.uint64Data=[],pt=0;pt<tt.uint64Data.length;++pt)typeof tt.uint64Data[pt]=="number"?st.uint64Data[pt]=rt.longs===String?String(tt.uint64Data[pt]):tt.uint64Data[pt]:st.uint64Data[pt]=rt.longs===String?ct.Long.prototype.toString.call(tt.uint64Data[pt]):rt.longs===Number?new ct.LongBits(tt.uint64Data[pt].low>>>0,tt.uint64Data[pt].high>>>0).toNumber(!0):tt.uint64Data[pt];if(tt.docString!=null&&tt.hasOwnProperty("docString")&&(st.docString=tt.docString),tt.externalData&&tt.externalData.length)for(st.externalData=[],pt=0;pt<tt.externalData.length;++pt)st.externalData[pt]=lt.onnx.StringStringEntryProto.toObject(tt.externalData[pt],rt);return tt.dataLocation!=null&&tt.hasOwnProperty("dataLocation")&&(st.dataLocation=rt.enums===String?lt.onnx.TensorProto.DataLocation[tt.dataLocation]===void 0?tt.dataLocation:lt.onnx.TensorProto.DataLocation[tt.dataLocation]:tt.dataLocation),st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.TensorProto"},ot.DataType=function(){var tt={},rt=Object.create(tt);return rt[tt[0]="UNDEFINED"]=0,rt[tt[1]="FLOAT"]=1,rt[tt[2]="UINT8"]=2,rt[tt[3]="INT8"]=3,rt[tt[4]="UINT16"]=4,rt[tt[5]="INT16"]=5,rt[tt[6]="INT32"]=6,rt[tt[7]="INT64"]=7,rt[tt[8]="STRING"]=8,rt[tt[9]="BOOL"]=9,rt[tt[10]="FLOAT16"]=10,rt[tt[11]="DOUBLE"]=11,rt[tt[12]="UINT32"]=12,rt[tt[13]="UINT64"]=13,rt[tt[14]="COMPLEX64"]=14,rt[tt[15]="COMPLEX128"]=15,rt[tt[16]="BFLOAT16"]=16,rt[tt[17]="FLOAT8E4M3FN"]=17,rt[tt[18]="FLOAT8E4M3FNUZ"]=18,rt[tt[19]="FLOAT8E5M2"]=19,rt[tt[20]="FLOAT8E5M2FNUZ"]=20,rt}(),ot.Segment=function(){function tt(rt){if(rt)for(var st=Object.keys(rt),pt=0;pt<st.length;++pt)rt[st[pt]]!=null&&(this[st[pt]]=rt[st[pt]])}return tt.prototype.begin=ct.Long?ct.Long.fromBits(0,0,!1):0,tt.prototype.end=ct.Long?ct.Long.fromBits(0,0,!1):0,tt.create=function(rt){return new tt(rt)},tt.encode=function(rt,st){return st||(st=ht.create()),rt.begin!=null&&Object.hasOwnProperty.call(rt,"begin")&&st.uint32(8).int64(rt.begin),rt.end!=null&&Object.hasOwnProperty.call(rt,"end")&&st.uint32(16).int64(rt.end),st},tt.encodeDelimited=function(rt,st){return this.encode(rt,st).ldelim()},tt.decode=function(rt,st){rt instanceof ft||(rt=ft.create(rt));for(var pt=st===void 0?rt.len:rt.pos+st,gt=new lt.onnx.TensorProto.Segment;rt.pos<pt;){var mt=rt.uint32();switch(mt>>>3){case 1:gt.begin=rt.int64();break;case 2:gt.end=rt.int64();break;default:rt.skipType(7&mt)}}return gt},tt.decodeDelimited=function(rt){return rt instanceof ft||(rt=new ft(rt)),this.decode(rt,rt.uint32())},tt.verify=function(rt){return typeof rt!="object"||rt===null?"object expected":rt.begin!=null&&rt.hasOwnProperty("begin")&&!(ct.isInteger(rt.begin)||rt.begin&&ct.isInteger(rt.begin.low)&&ct.isInteger(rt.begin.high))?"begin: integer|Long expected":rt.end!=null&&rt.hasOwnProperty("end")&&!(ct.isInteger(rt.end)||rt.end&&ct.isInteger(rt.end.low)&&ct.isInteger(rt.end.high))?"end: integer|Long expected":null},tt.fromObject=function(rt){if(rt instanceof lt.onnx.TensorProto.Segment)return rt;var st=new lt.onnx.TensorProto.Segment;return rt.begin!=null&&(ct.Long?(st.begin=ct.Long.fromValue(rt.begin)).unsigned=!1:typeof rt.begin=="string"?st.begin=parseInt(rt.begin,10):typeof rt.begin=="number"?st.begin=rt.begin:typeof rt.begin=="object"&&(st.begin=new ct.LongBits(rt.begin.low>>>0,rt.begin.high>>>0).toNumber())),rt.end!=null&&(ct.Long?(st.end=ct.Long.fromValue(rt.end)).unsigned=!1:typeof rt.end=="string"?st.end=parseInt(rt.end,10):typeof rt.end=="number"?st.end=rt.end:typeof rt.end=="object"&&(st.end=new ct.LongBits(rt.end.low>>>0,rt.end.high>>>0).toNumber())),st},tt.toObject=function(rt,st){st||(st={});var pt={};if(st.defaults){if(ct.Long){var gt=new ct.Long(0,0,!1);pt.begin=st.longs===String?gt.toString():st.longs===Number?gt.toNumber():gt}else pt.begin=st.longs===String?"0":0;ct.Long?(gt=new ct.Long(0,0,!1),pt.end=st.longs===String?gt.toString():st.longs===Number?gt.toNumber():gt):pt.end=st.longs===String?"0":0}return rt.begin!=null&&rt.hasOwnProperty("begin")&&(typeof rt.begin=="number"?pt.begin=st.longs===String?String(rt.begin):rt.begin:pt.begin=st.longs===String?ct.Long.prototype.toString.call(rt.begin):st.longs===Number?new ct.LongBits(rt.begin.low>>>0,rt.begin.high>>>0).toNumber():rt.begin),rt.end!=null&&rt.hasOwnProperty("end")&&(typeof rt.end=="number"?pt.end=st.longs===String?String(rt.end):rt.end:pt.end=st.longs===String?ct.Long.prototype.toString.call(rt.end):st.longs===Number?new ct.LongBits(rt.end.low>>>0,rt.end.high>>>0).toNumber():rt.end),pt},tt.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},tt.getTypeUrl=function(rt){return rt===void 0&&(rt="type.googleapis.com"),rt+"/onnx.TensorProto.Segment"},tt}(),ot.DataLocation=function(){var tt={},rt=Object.create(tt);return rt[tt[0]="DEFAULT"]=0,rt[tt[1]="EXTERNAL"]=1,rt}(),ot}(),ut.SparseTensorProto=function(){function ot(tt){if(this.dims=[],tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.values=null,ot.prototype.indices=null,ot.prototype.dims=ct.emptyArray,ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){if(rt||(rt=ht.create()),tt.values!=null&&Object.hasOwnProperty.call(tt,"values")&&lt.onnx.TensorProto.encode(tt.values,rt.uint32(10).fork()).ldelim(),tt.indices!=null&&Object.hasOwnProperty.call(tt,"indices")&&lt.onnx.TensorProto.encode(tt.indices,rt.uint32(18).fork()).ldelim(),tt.dims!=null&&tt.dims.length){rt.uint32(26).fork();for(var st=0;st<tt.dims.length;++st)rt.int64(tt.dims[st]);rt.ldelim()}return rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.SparseTensorProto;tt.pos<st;){var gt=tt.uint32();switch(gt>>>3){case 1:pt.values=lt.onnx.TensorProto.decode(tt,tt.uint32());break;case 2:pt.indices=lt.onnx.TensorProto.decode(tt,tt.uint32());break;case 3:if(pt.dims&&pt.dims.length||(pt.dims=[]),(7&gt)==2)for(var mt=tt.uint32()+tt.pos;tt.pos<mt;)pt.dims.push(tt.int64());else pt.dims.push(tt.int64());break;default:tt.skipType(7&gt)}}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";var rt;if(tt.values!=null&&tt.hasOwnProperty("values")&&(rt=lt.onnx.TensorProto.verify(tt.values)))return"values."+rt;if(tt.indices!=null&&tt.hasOwnProperty("indices")&&(rt=lt.onnx.TensorProto.verify(tt.indices)))return"indices."+rt;if(tt.dims!=null&&tt.hasOwnProperty("dims")){if(!Array.isArray(tt.dims))return"dims: array expected";for(var st=0;st<tt.dims.length;++st)if(!(ct.isInteger(tt.dims[st])||tt.dims[st]&&ct.isInteger(tt.dims[st].low)&&ct.isInteger(tt.dims[st].high)))return"dims: integer|Long[] expected"}return null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.SparseTensorProto)return tt;var rt=new lt.onnx.SparseTensorProto;if(tt.values!=null){if(typeof tt.values!="object")throw TypeError(".onnx.SparseTensorProto.values: object expected");rt.values=lt.onnx.TensorProto.fromObject(tt.values)}if(tt.indices!=null){if(typeof tt.indices!="object")throw TypeError(".onnx.SparseTensorProto.indices: object expected");rt.indices=lt.onnx.TensorProto.fromObject(tt.indices)}if(tt.dims){if(!Array.isArray(tt.dims))throw TypeError(".onnx.SparseTensorProto.dims: array expected");rt.dims=[];for(var st=0;st<tt.dims.length;++st)ct.Long?(rt.dims[st]=ct.Long.fromValue(tt.dims[st])).unsigned=!1:typeof tt.dims[st]=="string"?rt.dims[st]=parseInt(tt.dims[st],10):typeof tt.dims[st]=="number"?rt.dims[st]=tt.dims[st]:typeof tt.dims[st]=="object"&&(rt.dims[st]=new ct.LongBits(tt.dims[st].low>>>0,tt.dims[st].high>>>0).toNumber())}return rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.dims=[]),rt.defaults&&(st.values=null,st.indices=null),tt.values!=null&&tt.hasOwnProperty("values")&&(st.values=lt.onnx.TensorProto.toObject(tt.values,rt)),tt.indices!=null&&tt.hasOwnProperty("indices")&&(st.indices=lt.onnx.TensorProto.toObject(tt.indices,rt)),tt.dims&&tt.dims.length){st.dims=[];for(var pt=0;pt<tt.dims.length;++pt)typeof tt.dims[pt]=="number"?st.dims[pt]=rt.longs===String?String(tt.dims[pt]):tt.dims[pt]:st.dims[pt]=rt.longs===String?ct.Long.prototype.toString.call(tt.dims[pt]):rt.longs===Number?new ct.LongBits(tt.dims[pt].low>>>0,tt.dims[pt].high>>>0).toNumber():tt.dims[pt]}return st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.SparseTensorProto"},ot}(),ut.TensorShapeProto=function(){function ot(tt){if(this.dim=[],tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.dim=ct.emptyArray,ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){if(rt||(rt=ht.create()),tt.dim!=null&&tt.dim.length)for(var st=0;st<tt.dim.length;++st)lt.onnx.TensorShapeProto.Dimension.encode(tt.dim[st],rt.uint32(10).fork()).ldelim();return rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.TensorShapeProto;tt.pos<st;){var gt=tt.uint32();gt>>>3==1?(pt.dim&&pt.dim.length||(pt.dim=[]),pt.dim.push(lt.onnx.TensorShapeProto.Dimension.decode(tt,tt.uint32()))):tt.skipType(7&gt)}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.dim!=null&&tt.hasOwnProperty("dim")){if(!Array.isArray(tt.dim))return"dim: array expected";for(var rt=0;rt<tt.dim.length;++rt){var st=lt.onnx.TensorShapeProto.Dimension.verify(tt.dim[rt]);if(st)return"dim."+st}}return null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.TensorShapeProto)return tt;var rt=new lt.onnx.TensorShapeProto;if(tt.dim){if(!Array.isArray(tt.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");rt.dim=[];for(var st=0;st<tt.dim.length;++st){if(typeof tt.dim[st]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");rt.dim[st]=lt.onnx.TensorShapeProto.Dimension.fromObject(tt.dim[st])}}return rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.dim=[]),tt.dim&&tt.dim.length){st.dim=[];for(var pt=0;pt<tt.dim.length;++pt)st.dim[pt]=lt.onnx.TensorShapeProto.Dimension.toObject(tt.dim[pt],rt)}return st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.TensorShapeProto"},ot.Dimension=function(){function tt(st){if(st)for(var pt=Object.keys(st),gt=0;gt<pt.length;++gt)st[pt[gt]]!=null&&(this[pt[gt]]=st[pt[gt]])}var rt;return tt.prototype.dimValue=null,tt.prototype.dimParam=null,tt.prototype.denotation="",Object.defineProperty(tt.prototype,"value",{get:ct.oneOfGetter(rt=["dimValue","dimParam"]),set:ct.oneOfSetter(rt)}),tt.create=function(st){return new tt(st)},tt.encode=function(st,pt){return pt||(pt=ht.create()),st.dimValue!=null&&Object.hasOwnProperty.call(st,"dimValue")&&pt.uint32(8).int64(st.dimValue),st.dimParam!=null&&Object.hasOwnProperty.call(st,"dimParam")&&pt.uint32(18).string(st.dimParam),st.denotation!=null&&Object.hasOwnProperty.call(st,"denotation")&&pt.uint32(26).string(st.denotation),pt},tt.encodeDelimited=function(st,pt){return this.encode(st,pt).ldelim()},tt.decode=function(st,pt){st instanceof ft||(st=ft.create(st));for(var gt=pt===void 0?st.len:st.pos+pt,mt=new lt.onnx.TensorShapeProto.Dimension;st.pos<gt;){var yt=st.uint32();switch(yt>>>3){case 1:mt.dimValue=st.int64();break;case 2:mt.dimParam=st.string();break;case 3:mt.denotation=st.string();break;default:st.skipType(7&yt)}}return mt},tt.decodeDelimited=function(st){return st instanceof ft||(st=new ft(st)),this.decode(st,st.uint32())},tt.verify=function(st){if(typeof st!="object"||st===null)return"object expected";var pt={};if(st.dimValue!=null&&st.hasOwnProperty("dimValue")&&(pt.value=1,!(ct.isInteger(st.dimValue)||st.dimValue&&ct.isInteger(st.dimValue.low)&&ct.isInteger(st.dimValue.high))))return"dimValue: integer|Long expected";if(st.dimParam!=null&&st.hasOwnProperty("dimParam")){if(pt.value===1)return"value: multiple values";if(pt.value=1,!ct.isString(st.dimParam))return"dimParam: string expected"}return st.denotation!=null&&st.hasOwnProperty("denotation")&&!ct.isString(st.denotation)?"denotation: string expected":null},tt.fromObject=function(st){if(st instanceof lt.onnx.TensorShapeProto.Dimension)return st;var pt=new lt.onnx.TensorShapeProto.Dimension;return st.dimValue!=null&&(ct.Long?(pt.dimValue=ct.Long.fromValue(st.dimValue)).unsigned=!1:typeof st.dimValue=="string"?pt.dimValue=parseInt(st.dimValue,10):typeof st.dimValue=="number"?pt.dimValue=st.dimValue:typeof st.dimValue=="object"&&(pt.dimValue=new ct.LongBits(st.dimValue.low>>>0,st.dimValue.high>>>0).toNumber())),st.dimParam!=null&&(pt.dimParam=String(st.dimParam)),st.denotation!=null&&(pt.denotation=String(st.denotation)),pt},tt.toObject=function(st,pt){pt||(pt={});var gt={};return pt.defaults&&(gt.denotation=""),st.dimValue!=null&&st.hasOwnProperty("dimValue")&&(typeof st.dimValue=="number"?gt.dimValue=pt.longs===String?String(st.dimValue):st.dimValue:gt.dimValue=pt.longs===String?ct.Long.prototype.toString.call(st.dimValue):pt.longs===Number?new ct.LongBits(st.dimValue.low>>>0,st.dimValue.high>>>0).toNumber():st.dimValue,pt.oneofs&&(gt.value="dimValue")),st.dimParam!=null&&st.hasOwnProperty("dimParam")&&(gt.dimParam=st.dimParam,pt.oneofs&&(gt.value="dimParam")),st.denotation!=null&&st.hasOwnProperty("denotation")&&(gt.denotation=st.denotation),gt},tt.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},tt.getTypeUrl=function(st){return st===void 0&&(st="type.googleapis.com"),st+"/onnx.TensorShapeProto.Dimension"},tt}(),ot}(),ut.TypeProto=function(){function ot(rt){if(rt)for(var st=Object.keys(rt),pt=0;pt<st.length;++pt)rt[st[pt]]!=null&&(this[st[pt]]=rt[st[pt]])}var tt;return ot.prototype.tensorType=null,ot.prototype.sequenceType=null,ot.prototype.mapType=null,ot.prototype.optionalType=null,ot.prototype.sparseTensorType=null,ot.prototype.denotation="",Object.defineProperty(ot.prototype,"value",{get:ct.oneOfGetter(tt=["tensorType","sequenceType","mapType","optionalType","sparseTensorType"]),set:ct.oneOfSetter(tt)}),ot.create=function(rt){return new ot(rt)},ot.encode=function(rt,st){return st||(st=ht.create()),rt.tensorType!=null&&Object.hasOwnProperty.call(rt,"tensorType")&&lt.onnx.TypeProto.Tensor.encode(rt.tensorType,st.uint32(10).fork()).ldelim(),rt.sequenceType!=null&&Object.hasOwnProperty.call(rt,"sequenceType")&&lt.onnx.TypeProto.Sequence.encode(rt.sequenceType,st.uint32(34).fork()).ldelim(),rt.mapType!=null&&Object.hasOwnProperty.call(rt,"mapType")&&lt.onnx.TypeProto.Map.encode(rt.mapType,st.uint32(42).fork()).ldelim(),rt.denotation!=null&&Object.hasOwnProperty.call(rt,"denotation")&&st.uint32(50).string(rt.denotation),rt.sparseTensorType!=null&&Object.hasOwnProperty.call(rt,"sparseTensorType")&&lt.onnx.TypeProto.SparseTensor.encode(rt.sparseTensorType,st.uint32(66).fork()).ldelim(),rt.optionalType!=null&&Object.hasOwnProperty.call(rt,"optionalType")&&lt.onnx.TypeProto.Optional.encode(rt.optionalType,st.uint32(74).fork()).ldelim(),st},ot.encodeDelimited=function(rt,st){return this.encode(rt,st).ldelim()},ot.decode=function(rt,st){rt instanceof ft||(rt=ft.create(rt));for(var pt=st===void 0?rt.len:rt.pos+st,gt=new lt.onnx.TypeProto;rt.pos<pt;){var mt=rt.uint32();switch(mt>>>3){case 1:gt.tensorType=lt.onnx.TypeProto.Tensor.decode(rt,rt.uint32());break;case 4:gt.sequenceType=lt.onnx.TypeProto.Sequence.decode(rt,rt.uint32());break;case 5:gt.mapType=lt.onnx.TypeProto.Map.decode(rt,rt.uint32());break;case 9:gt.optionalType=lt.onnx.TypeProto.Optional.decode(rt,rt.uint32());break;case 8:gt.sparseTensorType=lt.onnx.TypeProto.SparseTensor.decode(rt,rt.uint32());break;case 6:gt.denotation=rt.string();break;default:rt.skipType(7&mt)}}return gt},ot.decodeDelimited=function(rt){return rt instanceof ft||(rt=new ft(rt)),this.decode(rt,rt.uint32())},ot.verify=function(rt){if(typeof rt!="object"||rt===null)return"object expected";var st={};if(rt.tensorType!=null&&rt.hasOwnProperty("tensorType")&&(st.value=1,pt=lt.onnx.TypeProto.Tensor.verify(rt.tensorType)))return"tensorType."+pt;if(rt.sequenceType!=null&&rt.hasOwnProperty("sequenceType")){if(st.value===1)return"value: multiple values";if(st.value=1,pt=lt.onnx.TypeProto.Sequence.verify(rt.sequenceType))return"sequenceType."+pt}if(rt.mapType!=null&&rt.hasOwnProperty("mapType")){if(st.value===1)return"value: multiple values";if(st.value=1,pt=lt.onnx.TypeProto.Map.verify(rt.mapType))return"mapType."+pt}if(rt.optionalType!=null&&rt.hasOwnProperty("optionalType")){if(st.value===1)return"value: multiple values";if(st.value=1,pt=lt.onnx.TypeProto.Optional.verify(rt.optionalType))return"optionalType."+pt}if(rt.sparseTensorType!=null&&rt.hasOwnProperty("sparseTensorType")){if(st.value===1)return"value: multiple values";var pt;if(st.value=1,pt=lt.onnx.TypeProto.SparseTensor.verify(rt.sparseTensorType))return"sparseTensorType."+pt}return rt.denotation!=null&&rt.hasOwnProperty("denotation")&&!ct.isString(rt.denotation)?"denotation: string expected":null},ot.fromObject=function(rt){if(rt instanceof lt.onnx.TypeProto)return rt;var st=new lt.onnx.TypeProto;if(rt.tensorType!=null){if(typeof rt.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");st.tensorType=lt.onnx.TypeProto.Tensor.fromObject(rt.tensorType)}if(rt.sequenceType!=null){if(typeof rt.sequenceType!="object")throw TypeError(".onnx.TypeProto.sequenceType: object expected");st.sequenceType=lt.onnx.TypeProto.Sequence.fromObject(rt.sequenceType)}if(rt.mapType!=null){if(typeof rt.mapType!="object")throw TypeError(".onnx.TypeProto.mapType: object expected");st.mapType=lt.onnx.TypeProto.Map.fromObject(rt.mapType)}if(rt.optionalType!=null){if(typeof rt.optionalType!="object")throw TypeError(".onnx.TypeProto.optionalType: object expected");st.optionalType=lt.onnx.TypeProto.Optional.fromObject(rt.optionalType)}if(rt.sparseTensorType!=null){if(typeof rt.sparseTensorType!="object")throw TypeError(".onnx.TypeProto.sparseTensorType: object expected");st.sparseTensorType=lt.onnx.TypeProto.SparseTensor.fromObject(rt.sparseTensorType)}return rt.denotation!=null&&(st.denotation=String(rt.denotation)),st},ot.toObject=function(rt,st){st||(st={});var pt={};return st.defaults&&(pt.denotation=""),rt.tensorType!=null&&rt.hasOwnProperty("tensorType")&&(pt.tensorType=lt.onnx.TypeProto.Tensor.toObject(rt.tensorType,st),st.oneofs&&(pt.value="tensorType")),rt.sequenceType!=null&&rt.hasOwnProperty("sequenceType")&&(pt.sequenceType=lt.onnx.TypeProto.Sequence.toObject(rt.sequenceType,st),st.oneofs&&(pt.value="sequenceType")),rt.mapType!=null&&rt.hasOwnProperty("mapType")&&(pt.mapType=lt.onnx.TypeProto.Map.toObject(rt.mapType,st),st.oneofs&&(pt.value="mapType")),rt.denotation!=null&&rt.hasOwnProperty("denotation")&&(pt.denotation=rt.denotation),rt.sparseTensorType!=null&&rt.hasOwnProperty("sparseTensorType")&&(pt.sparseTensorType=lt.onnx.TypeProto.SparseTensor.toObject(rt.sparseTensorType,st),st.oneofs&&(pt.value="sparseTensorType")),rt.optionalType!=null&&rt.hasOwnProperty("optionalType")&&(pt.optionalType=lt.onnx.TypeProto.Optional.toObject(rt.optionalType,st),st.oneofs&&(pt.value="optionalType")),pt},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(rt){return rt===void 0&&(rt="type.googleapis.com"),rt+"/onnx.TypeProto"},ot.Tensor=function(){function rt(st){if(st)for(var pt=Object.keys(st),gt=0;gt<pt.length;++gt)st[pt[gt]]!=null&&(this[pt[gt]]=st[pt[gt]])}return rt.prototype.elemType=0,rt.prototype.shape=null,rt.create=function(st){return new rt(st)},rt.encode=function(st,pt){return pt||(pt=ht.create()),st.elemType!=null&&Object.hasOwnProperty.call(st,"elemType")&&pt.uint32(8).int32(st.elemType),st.shape!=null&&Object.hasOwnProperty.call(st,"shape")&&lt.onnx.TensorShapeProto.encode(st.shape,pt.uint32(18).fork()).ldelim(),pt},rt.encodeDelimited=function(st,pt){return this.encode(st,pt).ldelim()},rt.decode=function(st,pt){st instanceof ft||(st=ft.create(st));for(var gt=pt===void 0?st.len:st.pos+pt,mt=new lt.onnx.TypeProto.Tensor;st.pos<gt;){var yt=st.uint32();switch(yt>>>3){case 1:mt.elemType=st.int32();break;case 2:mt.shape=lt.onnx.TensorShapeProto.decode(st,st.uint32());break;default:st.skipType(7&yt)}}return mt},rt.decodeDelimited=function(st){return st instanceof ft||(st=new ft(st)),this.decode(st,st.uint32())},rt.verify=function(st){if(typeof st!="object"||st===null)return"object expected";if(st.elemType!=null&&st.hasOwnProperty("elemType")&&!ct.isInteger(st.elemType))return"elemType: integer expected";if(st.shape!=null&&st.hasOwnProperty("shape")){var pt=lt.onnx.TensorShapeProto.verify(st.shape);if(pt)return"shape."+pt}return null},rt.fromObject=function(st){if(st instanceof lt.onnx.TypeProto.Tensor)return st;var pt=new lt.onnx.TypeProto.Tensor;if(st.elemType!=null&&(pt.elemType=0|st.elemType),st.shape!=null){if(typeof st.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");pt.shape=lt.onnx.TensorShapeProto.fromObject(st.shape)}return pt},rt.toObject=function(st,pt){pt||(pt={});var gt={};return pt.defaults&&(gt.elemType=0,gt.shape=null),st.elemType!=null&&st.hasOwnProperty("elemType")&&(gt.elemType=st.elemType),st.shape!=null&&st.hasOwnProperty("shape")&&(gt.shape=lt.onnx.TensorShapeProto.toObject(st.shape,pt)),gt},rt.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},rt.getTypeUrl=function(st){return st===void 0&&(st="type.googleapis.com"),st+"/onnx.TypeProto.Tensor"},rt}(),ot.Sequence=function(){function rt(st){if(st)for(var pt=Object.keys(st),gt=0;gt<pt.length;++gt)st[pt[gt]]!=null&&(this[pt[gt]]=st[pt[gt]])}return rt.prototype.elemType=null,rt.create=function(st){return new rt(st)},rt.encode=function(st,pt){return pt||(pt=ht.create()),st.elemType!=null&&Object.hasOwnProperty.call(st,"elemType")&&lt.onnx.TypeProto.encode(st.elemType,pt.uint32(10).fork()).ldelim(),pt},rt.encodeDelimited=function(st,pt){return this.encode(st,pt).ldelim()},rt.decode=function(st,pt){st instanceof ft||(st=ft.create(st));for(var gt=pt===void 0?st.len:st.pos+pt,mt=new lt.onnx.TypeProto.Sequence;st.pos<gt;){var yt=st.uint32();yt>>>3==1?mt.elemType=lt.onnx.TypeProto.decode(st,st.uint32()):st.skipType(7&yt)}return mt},rt.decodeDelimited=function(st){return st instanceof ft||(st=new ft(st)),this.decode(st,st.uint32())},rt.verify=function(st){if(typeof st!="object"||st===null)return"object expected";if(st.elemType!=null&&st.hasOwnProperty("elemType")){var pt=lt.onnx.TypeProto.verify(st.elemType);if(pt)return"elemType."+pt}return null},rt.fromObject=function(st){if(st instanceof lt.onnx.TypeProto.Sequence)return st;var pt=new lt.onnx.TypeProto.Sequence;if(st.elemType!=null){if(typeof st.elemType!="object")throw TypeError(".onnx.TypeProto.Sequence.elemType: object expected");pt.elemType=lt.onnx.TypeProto.fromObject(st.elemType)}return pt},rt.toObject=function(st,pt){pt||(pt={});var gt={};return pt.defaults&&(gt.elemType=null),st.elemType!=null&&st.hasOwnProperty("elemType")&&(gt.elemType=lt.onnx.TypeProto.toObject(st.elemType,pt)),gt},rt.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},rt.getTypeUrl=function(st){return st===void 0&&(st="type.googleapis.com"),st+"/onnx.TypeProto.Sequence"},rt}(),ot.Map=function(){function rt(st){if(st)for(var pt=Object.keys(st),gt=0;gt<pt.length;++gt)st[pt[gt]]!=null&&(this[pt[gt]]=st[pt[gt]])}return rt.prototype.keyType=0,rt.prototype.valueType=null,rt.create=function(st){return new rt(st)},rt.encode=function(st,pt){return pt||(pt=ht.create()),st.keyType!=null&&Object.hasOwnProperty.call(st,"keyType")&&pt.uint32(8).int32(st.keyType),st.valueType!=null&&Object.hasOwnProperty.call(st,"valueType")&&lt.onnx.TypeProto.encode(st.valueType,pt.uint32(18).fork()).ldelim(),pt},rt.encodeDelimited=function(st,pt){return this.encode(st,pt).ldelim()},rt.decode=function(st,pt){st instanceof ft||(st=ft.create(st));for(var gt=pt===void 0?st.len:st.pos+pt,mt=new lt.onnx.TypeProto.Map;st.pos<gt;){var yt=st.uint32();switch(yt>>>3){case 1:mt.keyType=st.int32();break;case 2:mt.valueType=lt.onnx.TypeProto.decode(st,st.uint32());break;default:st.skipType(7&yt)}}return mt},rt.decodeDelimited=function(st){return st instanceof ft||(st=new ft(st)),this.decode(st,st.uint32())},rt.verify=function(st){if(typeof st!="object"||st===null)return"object expected";if(st.keyType!=null&&st.hasOwnProperty("keyType")&&!ct.isInteger(st.keyType))return"keyType: integer expected";if(st.valueType!=null&&st.hasOwnProperty("valueType")){var pt=lt.onnx.TypeProto.verify(st.valueType);if(pt)return"valueType."+pt}return null},rt.fromObject=function(st){if(st instanceof lt.onnx.TypeProto.Map)return st;var pt=new lt.onnx.TypeProto.Map;if(st.keyType!=null&&(pt.keyType=0|st.keyType),st.valueType!=null){if(typeof st.valueType!="object")throw TypeError(".onnx.TypeProto.Map.valueType: object expected");pt.valueType=lt.onnx.TypeProto.fromObject(st.valueType)}return pt},rt.toObject=function(st,pt){pt||(pt={});var gt={};return pt.defaults&&(gt.keyType=0,gt.valueType=null),st.keyType!=null&&st.hasOwnProperty("keyType")&&(gt.keyType=st.keyType),st.valueType!=null&&st.hasOwnProperty("valueType")&&(gt.valueType=lt.onnx.TypeProto.toObject(st.valueType,pt)),gt},rt.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},rt.getTypeUrl=function(st){return st===void 0&&(st="type.googleapis.com"),st+"/onnx.TypeProto.Map"},rt}(),ot.Optional=function(){function rt(st){if(st)for(var pt=Object.keys(st),gt=0;gt<pt.length;++gt)st[pt[gt]]!=null&&(this[pt[gt]]=st[pt[gt]])}return rt.prototype.elemType=null,rt.create=function(st){return new rt(st)},rt.encode=function(st,pt){return pt||(pt=ht.create()),st.elemType!=null&&Object.hasOwnProperty.call(st,"elemType")&&lt.onnx.TypeProto.encode(st.elemType,pt.uint32(10).fork()).ldelim(),pt},rt.encodeDelimited=function(st,pt){return this.encode(st,pt).ldelim()},rt.decode=function(st,pt){st instanceof ft||(st=ft.create(st));for(var gt=pt===void 0?st.len:st.pos+pt,mt=new lt.onnx.TypeProto.Optional;st.pos<gt;){var yt=st.uint32();yt>>>3==1?mt.elemType=lt.onnx.TypeProto.decode(st,st.uint32()):st.skipType(7&yt)}return mt},rt.decodeDelimited=function(st){return st instanceof ft||(st=new ft(st)),this.decode(st,st.uint32())},rt.verify=function(st){if(typeof st!="object"||st===null)return"object expected";if(st.elemType!=null&&st.hasOwnProperty("elemType")){var pt=lt.onnx.TypeProto.verify(st.elemType);if(pt)return"elemType."+pt}return null},rt.fromObject=function(st){if(st instanceof lt.onnx.TypeProto.Optional)return st;var pt=new lt.onnx.TypeProto.Optional;if(st.elemType!=null){if(typeof st.elemType!="object")throw TypeError(".onnx.TypeProto.Optional.elemType: object expected");pt.elemType=lt.onnx.TypeProto.fromObject(st.elemType)}return pt},rt.toObject=function(st,pt){pt||(pt={});var gt={};return pt.defaults&&(gt.elemType=null),st.elemType!=null&&st.hasOwnProperty("elemType")&&(gt.elemType=lt.onnx.TypeProto.toObject(st.elemType,pt)),gt},rt.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},rt.getTypeUrl=function(st){return st===void 0&&(st="type.googleapis.com"),st+"/onnx.TypeProto.Optional"},rt}(),ot.SparseTensor=function(){function rt(st){if(st)for(var pt=Object.keys(st),gt=0;gt<pt.length;++gt)st[pt[gt]]!=null&&(this[pt[gt]]=st[pt[gt]])}return rt.prototype.elemType=0,rt.prototype.shape=null,rt.create=function(st){return new rt(st)},rt.encode=function(st,pt){return pt||(pt=ht.create()),st.elemType!=null&&Object.hasOwnProperty.call(st,"elemType")&&pt.uint32(8).int32(st.elemType),st.shape!=null&&Object.hasOwnProperty.call(st,"shape")&&lt.onnx.TensorShapeProto.encode(st.shape,pt.uint32(18).fork()).ldelim(),pt},rt.encodeDelimited=function(st,pt){return this.encode(st,pt).ldelim()},rt.decode=function(st,pt){st instanceof ft||(st=ft.create(st));for(var gt=pt===void 0?st.len:st.pos+pt,mt=new lt.onnx.TypeProto.SparseTensor;st.pos<gt;){var yt=st.uint32();switch(yt>>>3){case 1:mt.elemType=st.int32();break;case 2:mt.shape=lt.onnx.TensorShapeProto.decode(st,st.uint32());break;default:st.skipType(7&yt)}}return mt},rt.decodeDelimited=function(st){return st instanceof ft||(st=new ft(st)),this.decode(st,st.uint32())},rt.verify=function(st){if(typeof st!="object"||st===null)return"object expected";if(st.elemType!=null&&st.hasOwnProperty("elemType")&&!ct.isInteger(st.elemType))return"elemType: integer expected";if(st.shape!=null&&st.hasOwnProperty("shape")){var pt=lt.onnx.TensorShapeProto.verify(st.shape);if(pt)return"shape."+pt}return null},rt.fromObject=function(st){if(st instanceof lt.onnx.TypeProto.SparseTensor)return st;var pt=new lt.onnx.TypeProto.SparseTensor;if(st.elemType!=null&&(pt.elemType=0|st.elemType),st.shape!=null){if(typeof st.shape!="object")throw TypeError(".onnx.TypeProto.SparseTensor.shape: object expected");pt.shape=lt.onnx.TensorShapeProto.fromObject(st.shape)}return pt},rt.toObject=function(st,pt){pt||(pt={});var gt={};return pt.defaults&&(gt.elemType=0,gt.shape=null),st.elemType!=null&&st.hasOwnProperty("elemType")&&(gt.elemType=st.elemType),st.shape!=null&&st.hasOwnProperty("shape")&&(gt.shape=lt.onnx.TensorShapeProto.toObject(st.shape,pt)),gt},rt.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},rt.getTypeUrl=function(st){return st===void 0&&(st="type.googleapis.com"),st+"/onnx.TypeProto.SparseTensor"},rt}(),ot}(),ut.OperatorSetIdProto=function(){function ot(tt){if(tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.domain="",ot.prototype.version=ct.Long?ct.Long.fromBits(0,0,!1):0,ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){return rt||(rt=ht.create()),tt.domain!=null&&Object.hasOwnProperty.call(tt,"domain")&&rt.uint32(10).string(tt.domain),tt.version!=null&&Object.hasOwnProperty.call(tt,"version")&&rt.uint32(16).int64(tt.version),rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.OperatorSetIdProto;tt.pos<st;){var gt=tt.uint32();switch(gt>>>3){case 1:pt.domain=tt.string();break;case 2:pt.version=tt.int64();break;default:tt.skipType(7&gt)}}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){return typeof tt!="object"||tt===null?"object expected":tt.domain!=null&&tt.hasOwnProperty("domain")&&!ct.isString(tt.domain)?"domain: string expected":tt.version!=null&&tt.hasOwnProperty("version")&&!(ct.isInteger(tt.version)||tt.version&&ct.isInteger(tt.version.low)&&ct.isInteger(tt.version.high))?"version: integer|Long expected":null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.OperatorSetIdProto)return tt;var rt=new lt.onnx.OperatorSetIdProto;return tt.domain!=null&&(rt.domain=String(tt.domain)),tt.version!=null&&(ct.Long?(rt.version=ct.Long.fromValue(tt.version)).unsigned=!1:typeof tt.version=="string"?rt.version=parseInt(tt.version,10):typeof tt.version=="number"?rt.version=tt.version:typeof tt.version=="object"&&(rt.version=new ct.LongBits(tt.version.low>>>0,tt.version.high>>>0).toNumber())),rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};if(rt.defaults)if(st.domain="",ct.Long){var pt=new ct.Long(0,0,!1);st.version=rt.longs===String?pt.toString():rt.longs===Number?pt.toNumber():pt}else st.version=rt.longs===String?"0":0;return tt.domain!=null&&tt.hasOwnProperty("domain")&&(st.domain=tt.domain),tt.version!=null&&tt.hasOwnProperty("version")&&(typeof tt.version=="number"?st.version=rt.longs===String?String(tt.version):tt.version:st.version=rt.longs===String?ct.Long.prototype.toString.call(tt.version):rt.longs===Number?new ct.LongBits(tt.version.low>>>0,tt.version.high>>>0).toNumber():tt.version),st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.OperatorSetIdProto"},ot}(),ut.OperatorStatus=function(){var ot={},tt=Object.create(ot);return tt[ot[0]="EXPERIMENTAL"]=0,tt[ot[1]="STABLE"]=1,tt}(),ut.FunctionProto=function(){function ot(tt){if(this.input=[],this.output=[],this.attribute=[],this.attributeProto=[],this.node=[],this.opsetImport=[],tt)for(var rt=Object.keys(tt),st=0;st<rt.length;++st)tt[rt[st]]!=null&&(this[rt[st]]=tt[rt[st]])}return ot.prototype.name="",ot.prototype.input=ct.emptyArray,ot.prototype.output=ct.emptyArray,ot.prototype.attribute=ct.emptyArray,ot.prototype.attributeProto=ct.emptyArray,ot.prototype.node=ct.emptyArray,ot.prototype.docString="",ot.prototype.opsetImport=ct.emptyArray,ot.prototype.domain="",ot.create=function(tt){return new ot(tt)},ot.encode=function(tt,rt){if(rt||(rt=ht.create()),tt.name!=null&&Object.hasOwnProperty.call(tt,"name")&&rt.uint32(10).string(tt.name),tt.input!=null&&tt.input.length)for(var st=0;st<tt.input.length;++st)rt.uint32(34).string(tt.input[st]);if(tt.output!=null&&tt.output.length)for(st=0;st<tt.output.length;++st)rt.uint32(42).string(tt.output[st]);if(tt.attribute!=null&&tt.attribute.length)for(st=0;st<tt.attribute.length;++st)rt.uint32(50).string(tt.attribute[st]);if(tt.node!=null&&tt.node.length)for(st=0;st<tt.node.length;++st)lt.onnx.NodeProto.encode(tt.node[st],rt.uint32(58).fork()).ldelim();if(tt.docString!=null&&Object.hasOwnProperty.call(tt,"docString")&&rt.uint32(66).string(tt.docString),tt.opsetImport!=null&&tt.opsetImport.length)for(st=0;st<tt.opsetImport.length;++st)lt.onnx.OperatorSetIdProto.encode(tt.opsetImport[st],rt.uint32(74).fork()).ldelim();if(tt.domain!=null&&Object.hasOwnProperty.call(tt,"domain")&&rt.uint32(82).string(tt.domain),tt.attributeProto!=null&&tt.attributeProto.length)for(st=0;st<tt.attributeProto.length;++st)lt.onnx.AttributeProto.encode(tt.attributeProto[st],rt.uint32(90).fork()).ldelim();return rt},ot.encodeDelimited=function(tt,rt){return this.encode(tt,rt).ldelim()},ot.decode=function(tt,rt){tt instanceof ft||(tt=ft.create(tt));for(var st=rt===void 0?tt.len:tt.pos+rt,pt=new lt.onnx.FunctionProto;tt.pos<st;){var gt=tt.uint32();switch(gt>>>3){case 1:pt.name=tt.string();break;case 4:pt.input&&pt.input.length||(pt.input=[]),pt.input.push(tt.string());break;case 5:pt.output&&pt.output.length||(pt.output=[]),pt.output.push(tt.string());break;case 6:pt.attribute&&pt.attribute.length||(pt.attribute=[]),pt.attribute.push(tt.string());break;case 11:pt.attributeProto&&pt.attributeProto.length||(pt.attributeProto=[]),pt.attributeProto.push(lt.onnx.AttributeProto.decode(tt,tt.uint32()));break;case 7:pt.node&&pt.node.length||(pt.node=[]),pt.node.push(lt.onnx.NodeProto.decode(tt,tt.uint32()));break;case 8:pt.docString=tt.string();break;case 9:pt.opsetImport&&pt.opsetImport.length||(pt.opsetImport=[]),pt.opsetImport.push(lt.onnx.OperatorSetIdProto.decode(tt,tt.uint32()));break;case 10:pt.domain=tt.string();break;default:tt.skipType(7&gt)}}return pt},ot.decodeDelimited=function(tt){return tt instanceof ft||(tt=new ft(tt)),this.decode(tt,tt.uint32())},ot.verify=function(tt){if(typeof tt!="object"||tt===null)return"object expected";if(tt.name!=null&&tt.hasOwnProperty("name")&&!ct.isString(tt.name))return"name: string expected";if(tt.input!=null&&tt.hasOwnProperty("input")){if(!Array.isArray(tt.input))return"input: array expected";for(var rt=0;rt<tt.input.length;++rt)if(!ct.isString(tt.input[rt]))return"input: string[] expected"}if(tt.output!=null&&tt.hasOwnProperty("output")){if(!Array.isArray(tt.output))return"output: array expected";for(rt=0;rt<tt.output.length;++rt)if(!ct.isString(tt.output[rt]))return"output: string[] expected"}if(tt.attribute!=null&&tt.hasOwnProperty("attribute")){if(!Array.isArray(tt.attribute))return"attribute: array expected";for(rt=0;rt<tt.attribute.length;++rt)if(!ct.isString(tt.attribute[rt]))return"attribute: string[] expected"}if(tt.attributeProto!=null&&tt.hasOwnProperty("attributeProto")){if(!Array.isArray(tt.attributeProto))return"attributeProto: array expected";for(rt=0;rt<tt.attributeProto.length;++rt)if(st=lt.onnx.AttributeProto.verify(tt.attributeProto[rt]))return"attributeProto."+st}if(tt.node!=null&&tt.hasOwnProperty("node")){if(!Array.isArray(tt.node))return"node: array expected";for(rt=0;rt<tt.node.length;++rt)if(st=lt.onnx.NodeProto.verify(tt.node[rt]))return"node."+st}if(tt.docString!=null&&tt.hasOwnProperty("docString")&&!ct.isString(tt.docString))return"docString: string expected";if(tt.opsetImport!=null&&tt.hasOwnProperty("opsetImport")){if(!Array.isArray(tt.opsetImport))return"opsetImport: array expected";for(rt=0;rt<tt.opsetImport.length;++rt){var st;if(st=lt.onnx.OperatorSetIdProto.verify(tt.opsetImport[rt]))return"opsetImport."+st}}return tt.domain!=null&&tt.hasOwnProperty("domain")&&!ct.isString(tt.domain)?"domain: string expected":null},ot.fromObject=function(tt){if(tt instanceof lt.onnx.FunctionProto)return tt;var rt=new lt.onnx.FunctionProto;if(tt.name!=null&&(rt.name=String(tt.name)),tt.input){if(!Array.isArray(tt.input))throw TypeError(".onnx.FunctionProto.input: array expected");rt.input=[];for(var st=0;st<tt.input.length;++st)rt.input[st]=String(tt.input[st])}if(tt.output){if(!Array.isArray(tt.output))throw TypeError(".onnx.FunctionProto.output: array expected");for(rt.output=[],st=0;st<tt.output.length;++st)rt.output[st]=String(tt.output[st])}if(tt.attribute){if(!Array.isArray(tt.attribute))throw TypeError(".onnx.FunctionProto.attribute: array expected");for(rt.attribute=[],st=0;st<tt.attribute.length;++st)rt.attribute[st]=String(tt.attribute[st])}if(tt.attributeProto){if(!Array.isArray(tt.attributeProto))throw TypeError(".onnx.FunctionProto.attributeProto: array expected");for(rt.attributeProto=[],st=0;st<tt.attributeProto.length;++st){if(typeof tt.attributeProto[st]!="object")throw TypeError(".onnx.FunctionProto.attributeProto: object expected");rt.attributeProto[st]=lt.onnx.AttributeProto.fromObject(tt.attributeProto[st])}}if(tt.node){if(!Array.isArray(tt.node))throw TypeError(".onnx.FunctionProto.node: array expected");for(rt.node=[],st=0;st<tt.node.length;++st){if(typeof tt.node[st]!="object")throw TypeError(".onnx.FunctionProto.node: object expected");rt.node[st]=lt.onnx.NodeProto.fromObject(tt.node[st])}}if(tt.docString!=null&&(rt.docString=String(tt.docString)),tt.opsetImport){if(!Array.isArray(tt.opsetImport))throw TypeError(".onnx.FunctionProto.opsetImport: array expected");for(rt.opsetImport=[],st=0;st<tt.opsetImport.length;++st){if(typeof tt.opsetImport[st]!="object")throw TypeError(".onnx.FunctionProto.opsetImport: object expected");rt.opsetImport[st]=lt.onnx.OperatorSetIdProto.fromObject(tt.opsetImport[st])}}return tt.domain!=null&&(rt.domain=String(tt.domain)),rt},ot.toObject=function(tt,rt){rt||(rt={});var st={};if((rt.arrays||rt.defaults)&&(st.input=[],st.output=[],st.attribute=[],st.node=[],st.opsetImport=[],st.attributeProto=[]),rt.defaults&&(st.name="",st.docString="",st.domain=""),tt.name!=null&&tt.hasOwnProperty("name")&&(st.name=tt.name),tt.input&&tt.input.length){st.input=[];for(var pt=0;pt<tt.input.length;++pt)st.input[pt]=tt.input[pt]}if(tt.output&&tt.output.length)for(st.output=[],pt=0;pt<tt.output.length;++pt)st.output[pt]=tt.output[pt];if(tt.attribute&&tt.attribute.length)for(st.attribute=[],pt=0;pt<tt.attribute.length;++pt)st.attribute[pt]=tt.attribute[pt];if(tt.node&&tt.node.length)for(st.node=[],pt=0;pt<tt.node.length;++pt)st.node[pt]=lt.onnx.NodeProto.toObject(tt.node[pt],rt);if(tt.docString!=null&&tt.hasOwnProperty("docString")&&(st.docString=tt.docString),tt.opsetImport&&tt.opsetImport.length)for(st.opsetImport=[],pt=0;pt<tt.opsetImport.length;++pt)st.opsetImport[pt]=lt.onnx.OperatorSetIdProto.toObject(tt.opsetImport[pt],rt);if(tt.domain!=null&&tt.hasOwnProperty("domain")&&(st.domain=tt.domain),tt.attributeProto&&tt.attributeProto.length)for(st.attributeProto=[],pt=0;pt<tt.attributeProto.length;++pt)st.attributeProto[pt]=lt.onnx.AttributeProto.toObject(tt.attributeProto[pt],rt);return st},ot.prototype.toJSON=function(){return this.constructor.toObject(this,dt.util.toJSONOptions)},ot.getTypeUrl=function(tt){return tt===void 0&&(tt="type.googleapis.com"),tt+"/onnx.FunctionProto"},ot}(),ut),et.exports=lt},3474:(et,_e,nt)=>{var it,at=(it=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(it=it||__filename),function(ut={}){function dt(){return Mt.buffer!=Qt.buffer&&mn(),Qt}function ft(){return Mt.buffer!=Qt.buffer&&mn(),Zt}function ht(){return Mt.buffer!=Qt.buffer&&mn(),tn}function ct(){return Mt.buffer!=Qt.buffer&&mn(),nn}function lt(){return Mt.buffer!=Qt.buffer&&mn(),sn}var ot,tt,rt=ut;rt.ready=new Promise((St,kt)=>{ot=St,tt=kt});var st,pt,gt,mt=Object.assign({},rt),yt="./this.program",bt=(St,kt)=>{throw kt},vt=typeof window=="object",wt=typeof importScripts=="function",xt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Tt=rt.ENVIRONMENT_IS_PTHREAD||!1,Ot="";function $t(St){return rt.locateFile?rt.locateFile(St,Ot):Ot+St}if(xt){var It=nt(1384),Rt=nt(908);let St;Ot=wt?Rt.dirname(Ot)+"/":__dirname+"/",st=(kt,Ct)=>(kt=kt.startsWith("file://")?new URL(kt):Rt.normalize(kt),It.readFileSync(kt,Ct?void 0:"utf8")),gt=kt=>((kt=st(kt,!0)).buffer||(kt=new Uint8Array(kt)),kt),pt=(kt,Ct,Vt,zt=!0)=>{kt=kt.startsWith("file://")?new URL(kt):Rt.normalize(kt),It.readFile(kt,zt?void 0:"utf8",(Xt,en)=>{Xt?Vt(Xt):Ct(zt?en.buffer:en)})},!rt.thisProgram&&1<process.argv.length&&(yt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),bt=(kt,Ct)=>{throw process.exitCode=kt,Ct},rt.inspect=()=>"[Emscripten Module object]";try{St=nt(9925)}catch(kt){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),kt}commonjsGlobal.Worker=St.Worker}else(vt||wt)&&(wt?Ot=self.location.href:typeof document<"u"&&document.currentScript&&(Ot=document.currentScript.src),it&&(Ot=it),Ot=Ot.indexOf("blob:")!==0?Ot.substr(0,Ot.replace(/[?#].*/,"").lastIndexOf("/")+1):"",xt||(st=St=>{var kt=new XMLHttpRequest;return kt.open("GET",St,!1),kt.send(null),kt.responseText},wt&&(gt=St=>{var kt=new XMLHttpRequest;return kt.open("GET",St,!1),kt.responseType="arraybuffer",kt.send(null),new Uint8Array(kt.response)}),pt=(St,kt,Ct)=>{var Vt=new XMLHttpRequest;Vt.open("GET",St,!0),Vt.responseType="arraybuffer",Vt.onload=()=>{Vt.status==200||Vt.status==0&&Vt.response?kt(Vt.response):Ct()},Vt.onerror=Ct,Vt.send(null)}));xt&&typeof performance>"u"&&(commonjsGlobal.performance=nt(6953).performance);var Ft=console.log.bind(console),Pt=console.error.bind(console);xt&&(Ft=(...St)=>It.writeSync(1,St.join(" ")+`
`),Pt=(...St)=>It.writeSync(2,St.join(" ")+`
`));var Bt,Et=rt.print||Ft,At=rt.printErr||Pt;Object.assign(rt,mt),mt=null,rt.thisProgram&&(yt=rt.thisProgram),rt.quit&&(bt=rt.quit),rt.wasmBinary&&(Bt=rt.wasmBinary);var jt=rt.noExitRuntime||!0;typeof WebAssembly!="object"&&En("no native wasm support detected");var Mt,Lt,Kt,qt,Qt,Zt,tn,nn,sn,an=!1;function mn(){var St=Mt.buffer;rt.HEAP8=Qt=new Int8Array(St),rt.HEAP16=new Int16Array(St),rt.HEAP32=tn=new Int32Array(St),rt.HEAPU8=Zt=new Uint8Array(St),rt.HEAPU16=new Uint16Array(St),rt.HEAPU32=nn=new Uint32Array(St),rt.HEAPF32=new Float32Array(St),rt.HEAPF64=sn=new Float64Array(St)}var Tn=rt.INITIAL_MEMORY||16777216;if(5242880<=Tn||En("INITIAL_MEMORY should be larger than STACK_SIZE, was "+Tn+"! (STACK_SIZE=5242880)"),Tt)Mt=rt.wasmMemory;else if(rt.wasmMemory)Mt=rt.wasmMemory;else if(!((Mt=new WebAssembly.Memory({initial:Tn/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw At("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),xt&&At("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");mn(),Tn=Mt.buffer.byteLength;var Cn,yn=[],$n=[],cn=[],bn=0;function On(){return jt||0<bn}var Sn,Pn,kn=0,An=null;function Ln(){kn++,rt.monitorRunDependencies&&rt.monitorRunDependencies(kn)}function Nn(){if(kn--,rt.monitorRunDependencies&&rt.monitorRunDependencies(kn),kn==0&&An){var St=An;An=null,St()}}function En(St){throw rt.onAbort&&rt.onAbort(St),At(St="Aborted("+St+")"),an=!0,qt=1,St=new WebAssembly.RuntimeError(St+". Build with -sASSERTIONS for more info."),tt(St),St}function jn(St){return St.startsWith("data:application/octet-stream;base64,")}function Wn(St){if(St==Sn&&Bt)return new Uint8Array(Bt);if(gt)return gt(St);throw"both async and sync fetching of the wasm failed"}function tr(St,kt,Ct){return function(Vt){if(!Bt&&(vt||wt)){if(typeof fetch=="function"&&!Vt.startsWith("file://"))return fetch(Vt,{credentials:"same-origin"}).then(zt=>{if(!zt.ok)throw"failed to load wasm binary file at '"+Vt+"'";return zt.arrayBuffer()}).catch(()=>Wn(Vt));if(pt)return new Promise((zt,Xt)=>{pt(Vt,en=>zt(new Uint8Array(en)),Xt)})}return Promise.resolve().then(()=>Wn(Vt))}(St).then(Vt=>WebAssembly.instantiate(Vt,kt)).then(Vt=>Vt).then(Ct,Vt=>{At("failed to asynchronously prepare wasm: "+Vt),En(Vt)})}function Vn(St){this.name="ExitStatus",this.message=`Program terminated with exit(${St})`,this.status=St}function zn(St){St.terminate(),St.onmessage=()=>{}}function qn(St){(St=rn.Fa[St])||En(),rn.fb(St)}function Kn(St){var kt=rn.Za();if(!kt)return 6;rn.Ia.push(kt),rn.Fa[St.Ha]=kt,kt.Ha=St.Ha;var Ct={cmd:"run",start_routine:St.gb,arg:St.Ya,pthread_ptr:St.Ha};return xt&&kt.unref(),kt.postMessage(Ct,St.mb),0}jn(Sn="ort-wasm-threaded.wasm")||(Sn=$t(Sn));var nr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Yn=(St,kt,Ct)=>{var Vt=(kt>>>=0)+Ct;for(Ct=kt;St[Ct]&&!(Ct>=Vt);)++Ct;if(16<Ct-kt&&St.buffer&&nr)return nr.decode(St.buffer instanceof SharedArrayBuffer?St.slice(kt,Ct):St.subarray(kt,Ct));for(Vt="";kt<Ct;){var zt=St[kt++];if(128&zt){var Xt=63&St[kt++];if((224&zt)==192)Vt+=String.fromCharCode((31&zt)<<6|Xt);else{var en=63&St[kt++];65536>(zt=(240&zt)==224?(15&zt)<<12|Xt<<6|en:(7&zt)<<18|Xt<<12|en<<6|63&St[kt++])?Vt+=String.fromCharCode(zt):(zt-=65536,Vt+=String.fromCharCode(55296|zt>>10,56320|1023&zt))}}else Vt+=String.fromCharCode(zt)}return Vt},Mn=(St,kt)=>(St>>>=0)?Yn(ft(),St,kt):"";function Xn(St){if(Tt)return fn(1,1,St);qt=St,On()||(rn.hb(),rt.onExit&&rt.onExit(St),an=!0),bt(St,new Vn(St))}var Gn=St=>{if(qt=St,Tt)throw Qn(St),"unwind";Xn(St)},rn={La:[],Ia:[],Ta:[],Fa:{},Pa:function(){Tt?rn.ab():rn.$a()},$a:function(){yn.unshift(()=>{Ln(),rn.bb(()=>Nn())})},ab:function(){rn.receiveObjectTransfer=rn.eb,rn.threadInitTLS=rn.Sa,rn.setExitStatus=rn.Ra,jt=!1},Ra:function(St){qt=St},rb:["$terminateWorker"],hb:function(){for(var St of rn.Ia)zn(St);for(St of rn.La)zn(St);rn.La=[],rn.Ia=[],rn.Fa=[]},fb:function(St){var kt=St.Ha;delete rn.Fa[kt],rn.La.push(St),rn.Ia.splice(rn.Ia.indexOf(St),1),St.Ha=0,dr(kt)},eb:function(){},Sa:function(){rn.Ta.forEach(St=>St())},cb:St=>new Promise(kt=>{St.onmessage=zt=>{var Xt=(zt=zt.data).cmd;if(zt.targetThread&&zt.targetThread!=ir()){var en=rn.Fa[zt.qb];en?en.postMessage(zt,zt.transferList):At('Internal error! Worker sent a message "'+Xt+'" to target pthread '+zt.targetThread+", but that thread no longer exists!")}else Xt==="checkMailbox"?rr():Xt==="spawnThread"?Kn(zt):Xt==="cleanupThread"?qn(zt.thread):Xt==="killThread"?(zt=zt.thread,Xt=rn.Fa[zt],delete rn.Fa[zt],zn(Xt),dr(zt),rn.Ia.splice(rn.Ia.indexOf(Xt),1),Xt.Ha=0):Xt==="cancelThread"?rn.Fa[zt.thread].postMessage({cmd:"cancel"}):Xt==="loaded"?(St.loaded=!0,kt(St)):Xt==="alert"?alert("Thread "+zt.threadId+": "+zt.text):zt.target==="setimmediate"?St.postMessage(zt):Xt==="callHandler"?rt[zt.handler](...zt.args):Xt&&At("worker sent an unknown command "+Xt)},St.onerror=zt=>{throw At("worker sent an error! "+zt.filename+":"+zt.lineno+": "+zt.message),zt},xt&&(St.on("message",function(zt){St.onmessage({data:zt})}),St.on("error",function(zt){St.onerror(zt)}));var Ct,Vt=[];for(Ct of["onExit","onAbort","print","printErr"])rt.hasOwnProperty(Ct)&&Vt.push(Ct);St.postMessage({cmd:"load",handlers:Vt,urlOrBlob:rt.mainScriptUrlOrBlob||it,wasmMemory:Mt,wasmModule:Kt})}),bb:function(St){St()},Xa:function(){var St=$t("ort-wasm-threaded.worker.js");St=new Worker(St),rn.La.push(St)},Za:function(){return rn.La.length==0&&(rn.Xa(),rn.cb(rn.La[0])),rn.La.pop()}};rt.PThread=rn;var Un=St=>{for(;0<St.length;)St.shift()(rt)};function Qn(St){if(Tt)return fn(2,0,St);Gn(St)}rt.establishStackSpace=function(){var St=ir(),kt=ht()[St+52>>2>>>0];St=ht()[St+56>>2>>>0],Vr(kt,kt-St),sr(kt)};var Dt=[];function Nt(St){this.Oa=St-24,this.Wa=function(kt){ct()[this.Oa+4>>2>>>0]=kt},this.Va=function(kt){ct()[this.Oa+8>>2>>>0]=kt},this.Pa=function(kt,Ct){this.Ua(),this.Wa(kt),this.Va(Ct)},this.Ua=function(){ct()[this.Oa+16>>2>>>0]=0}}function Ut(St,kt,Ct,Vt){return Tt?fn(3,1,St,kt,Ct,Vt):Wt(St,kt,Ct,Vt)}function Wt(St,kt,Ct,Vt){if(St>>>=0,kt>>>=0,Ct>>>=0,Vt>>>=0,typeof SharedArrayBuffer>"u")return At("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var zt=[];return Tt&&zt.length===0?Ut(St,kt,Ct,Vt):(St={gb:Ct,Ha:St,Ya:Vt,mb:zt},Tt?(St.ob="spawnThread",postMessage(St,zt),0):Kn(St))}function Yt(St,kt,Ct){return Tt?fn(4,1,St,kt,Ct):0}function Jt(St,kt){if(Tt)return fn(5,1,St,kt)}rt.invokeEntryPoint=function(St,kt){var Ct=Dt[St];Ct||(St>=Dt.length&&(Dt.length=St+1),Dt[St]=Ct=Cn.get(St)),St=Ct(kt),On()?rn.Ra(St):fr(St)};var on=St=>{for(var kt=0,Ct=0;Ct<St.length;++Ct){var Vt=St.charCodeAt(Ct);127>=Vt?kt++:2047>=Vt?kt+=2:55296<=Vt&&57343>=Vt?(kt+=4,++Ct):kt+=3}return kt},gn=(St,kt,Ct,Vt)=>{if(!(0<Vt))return 0;var zt=Ct>>>=0;Vt=Ct+Vt-1;for(var Xt=0;Xt<St.length;++Xt){var en=St.charCodeAt(Xt);if(55296<=en&&57343>=en&&(en=65536+((1023&en)<<10)|1023&St.charCodeAt(++Xt)),127>=en){if(Ct>=Vt)break;kt[Ct++>>>0]=en}else{if(2047>=en){if(Ct+1>=Vt)break;kt[Ct++>>>0]=192|en>>6}else{if(65535>=en){if(Ct+2>=Vt)break;kt[Ct++>>>0]=224|en>>12}else{if(Ct+3>=Vt)break;kt[Ct++>>>0]=240|en>>18,kt[Ct++>>>0]=128|en>>12&63}kt[Ct++>>>0]=128|en>>6&63}kt[Ct++>>>0]=128|63&en}}return kt[Ct>>>0]=0,Ct-zt},vn=(St,kt,Ct)=>gn(St,ft(),kt,Ct);function xn(St,kt){if(Tt)return fn(6,1,St,kt)}function wn(St,kt,Ct){if(Tt)return fn(7,1,St,kt,Ct)}function Zn(St,kt,Ct){return Tt?fn(8,1,St,kt,Ct):0}function Jn(St,kt){if(Tt)return fn(9,1,St,kt)}function Gt(St,kt,Ct){if(Tt)return fn(10,1,St,kt,Ct)}function un(St,kt,Ct,Vt){if(Tt)return fn(11,1,St,kt,Ct,Vt)}function dn(St,kt,Ct,Vt){if(Tt)return fn(12,1,St,kt,Ct,Vt)}function Rn(St,kt,Ct,Vt){if(Tt)return fn(13,1,St,kt,Ct,Vt)}function er(St){if(Tt)return fn(14,1,St)}function yr(St,kt){if(Tt)return fn(15,1,St,kt)}function br(St,kt,Ct){if(Tt)return fn(16,1,St,kt,Ct)}var Hr=St=>{if(!an)try{if(St(),!On())try{Tt?fr(qt):Gn(qt)}catch(kt){kt instanceof Vn||kt=="unwind"||bt(1,kt)}}catch(kt){kt instanceof Vn||kt=="unwind"||bt(1,kt)}};function ar(St){St>>>=0,typeof Atomics.nb=="function"&&(Atomics.nb(ht(),St>>2,St).value.then(rr),St+=128,Atomics.store(ht(),St>>2,1))}function rr(){var St=ir();St&&(ar(St),Hr(()=>Fr()))}rt.__emscripten_thread_mailbox_await=ar,rt.checkMailbox=rr;var Hn=St=>St%4==0&&(St%100!=0||St%400==0),vr=[0,31,60,91,121,152,182,213,244,274,305,335],wr=[0,31,59,90,120,151,181,212,243,273,304,334];function _r(St,kt,Ct,Vt,zt,Xt,en,pn){return Tt?fn(17,1,St,kt,Ct,Vt,zt,Xt,en,pn):-52}function xr(St,kt,Ct,Vt,zt,Xt,en){if(Tt)return fn(18,1,St,kt,Ct,Vt,zt,Xt,en)}var Tr=St=>{var kt=on(St)+1,Ct=Rr(kt);return Ct&&vn(St,Ct,kt),Ct},Wr=St=>{var kt=pr();return St=St(),sr(kt),St};function fn(St,kt){var Ct=arguments.length-2,Vt=arguments;return Wr(()=>{for(var zt=hr(8*Ct),Xt=zt>>3,en=0;en<Ct;en++){var pn=Vt[2+en];lt()[Xt+en>>>0]=pn}return Mr(St,Ct,zt,kt)})}var ur,lr=[],cr={},Sr=()=>{if(!ur){var St,kt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:yt||"./this.program"};for(St in cr)cr[St]===void 0?delete kt[St]:kt[St]=cr[St];var Ct=[];for(St in kt)Ct.push(`${St}=${kt[St]}`);ur=Ct}return ur};function Er(St,kt){if(Tt)return fn(19,1,St,kt);St>>>=0,kt>>>=0;var Ct=0;return Sr().forEach(function(Vt,zt){var Xt=kt+Ct;for(zt=ct()[St+4*zt>>2>>>0]=Xt,Xt=0;Xt<Vt.length;++Xt)dt()[zt++>>0>>>0]=Vt.charCodeAt(Xt);dt()[zt>>0>>>0]=0,Ct+=Vt.length+1}),0}function Or(St,kt){if(Tt)return fn(20,1,St,kt);St>>>=0,kt>>>=0;var Ct=Sr();ct()[St>>2>>>0]=Ct.length;var Vt=0;return Ct.forEach(function(zt){Vt+=zt.length+1}),ct()[kt>>2>>>0]=Vt,0}function Pr(St){return Tt?fn(21,1,St):52}function Ar(St,kt,Ct,Vt){return Tt?fn(22,1,St,kt,Ct,Vt):52}function Ir(St,kt,Ct,Vt,zt){return Tt?fn(23,1,St,kt,Ct,Vt,zt):70}var qr=[null,[],[]];function kr(St,kt,Ct,Vt){if(Tt)return fn(24,1,St,kt,Ct,Vt);kt>>>=0,Ct>>>=0,Vt>>>=0;for(var zt=0,Xt=0;Xt<Ct;Xt++){var en=ct()[kt>>2>>>0],pn=ct()[kt+4>>2>>>0];kt+=8;for(var Dn=0;Dn<pn;Dn++){var _n=ft()[en+Dn>>>0],In=qr[St];_n===0||_n===10?((St===1?Et:At)(Yn(In,0)),In.length=0):In.push(_n)}zt+=pn}return ct()[Vt>>2>>>0]=zt,0}var $r=St=>($r=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return Vt=>(Vt.set(crypto.getRandomValues(new Uint8Array(Vt.byteLength))),Vt);if(xt)try{var kt=nt(760);if(kt.randomFillSync)return Vt=>kt.randomFillSync(Vt);var Ct=kt.randomBytes;return Vt=>(Vt.set(Ct(Vt.byteLength)),Vt)}catch{}En("initRandomDevice")})())(St),Dr=[31,29,31,30,31,30,31,31,30,31,30,31],Cr=[31,28,31,30,31,30,31,31,30,31,30,31],Kr=(St,kt)=>{dt().set(St,kt>>>0)};function jr(St,kt,Ct,Vt){function zt(Ht,ln,hn){for(Ht=typeof Ht=="number"?Ht.toString():Ht||"";Ht.length<ln;)Ht=hn[0]+Ht;return Ht}function Xt(Ht,ln){return zt(Ht,ln,"0")}function en(Ht,ln){function hn(Gr){return 0>Gr?-1:0<Gr?1:0}var Bn;return(Bn=hn(Ht.getFullYear()-ln.getFullYear()))===0&&(Bn=hn(Ht.getMonth()-ln.getMonth()))===0&&(Bn=hn(Ht.getDate()-ln.getDate())),Bn}function pn(Ht){switch(Ht.getDay()){case 0:return new Date(Ht.getFullYear()-1,11,29);case 1:return Ht;case 2:return new Date(Ht.getFullYear(),0,3);case 3:return new Date(Ht.getFullYear(),0,2);case 4:return new Date(Ht.getFullYear(),0,1);case 5:return new Date(Ht.getFullYear()-1,11,31);case 6:return new Date(Ht.getFullYear()-1,11,30)}}function Dn(Ht){var ln=Ht.Ja;for(Ht=new Date(new Date(Ht.Ka+1900,0,1).getTime());0<ln;){var hn=Ht.getMonth(),Bn=(Hn(Ht.getFullYear())?Dr:Cr)[hn];if(!(ln>Bn-Ht.getDate())){Ht.setDate(Ht.getDate()+ln);break}ln-=Bn-Ht.getDate()+1,Ht.setDate(1),11>hn?Ht.setMonth(hn+1):(Ht.setMonth(0),Ht.setFullYear(Ht.getFullYear()+1))}return hn=new Date(Ht.getFullYear()+1,0,4),ln=pn(new Date(Ht.getFullYear(),0,4)),hn=pn(hn),0>=en(ln,Ht)?0>=en(hn,Ht)?Ht.getFullYear()+1:Ht.getFullYear():Ht.getFullYear()-1}St>>>=0,kt>>>=0,Ct>>>=0,Vt>>>=0;var _n=ht()[Vt+40>>2>>>0];for(var In in Vt={kb:ht()[Vt>>2>>>0],jb:ht()[Vt+4>>2>>>0],Ma:ht()[Vt+8>>2>>>0],Qa:ht()[Vt+12>>2>>>0],Na:ht()[Vt+16>>2>>>0],Ka:ht()[Vt+20>>2>>>0],Ga:ht()[Vt+24>>2>>>0],Ja:ht()[Vt+28>>2>>>0],sb:ht()[Vt+32>>2>>>0],ib:ht()[Vt+36>>2>>>0],lb:_n?Mn(_n):""},Ct=Mn(Ct),_n={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Ct=Ct.replace(new RegExp(In,"g"),_n[In]);var Br="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),zr="January February March April May June July August September October November December".split(" ");for(In in _n={"%a":Ht=>Br[Ht.Ga].substring(0,3),"%A":Ht=>Br[Ht.Ga],"%b":Ht=>zr[Ht.Na].substring(0,3),"%B":Ht=>zr[Ht.Na],"%C":Ht=>Xt((Ht.Ka+1900)/100|0,2),"%d":Ht=>Xt(Ht.Qa,2),"%e":Ht=>zt(Ht.Qa,2," "),"%g":Ht=>Dn(Ht).toString().substring(2),"%G":Ht=>Dn(Ht),"%H":Ht=>Xt(Ht.Ma,2),"%I":Ht=>((Ht=Ht.Ma)==0?Ht=12:12<Ht&&(Ht-=12),Xt(Ht,2)),"%j":Ht=>{for(var ln=0,hn=0;hn<=Ht.Na-1;ln+=(Hn(Ht.Ka+1900)?Dr:Cr)[hn++]);return Xt(Ht.Qa+ln,3)},"%m":Ht=>Xt(Ht.Na+1,2),"%M":Ht=>Xt(Ht.jb,2),"%n":()=>`
`,"%p":Ht=>0<=Ht.Ma&&12>Ht.Ma?"AM":"PM","%S":Ht=>Xt(Ht.kb,2),"%t":()=>"	","%u":Ht=>Ht.Ga||7,"%U":Ht=>Xt(Math.floor((Ht.Ja+7-Ht.Ga)/7),2),"%V":Ht=>{var ln=Math.floor((Ht.Ja+7-(Ht.Ga+6)%7)/7);if(2>=(Ht.Ga+371-Ht.Ja-2)%7&&ln++,ln)ln==53&&((hn=(Ht.Ga+371-Ht.Ja)%7)==4||hn==3&&Hn(Ht.Ka)||(ln=1));else{ln=52;var hn=(Ht.Ga+7-Ht.Ja-1)%7;(hn==4||hn==5&&Hn(Ht.Ka%400-1))&&ln++}return Xt(ln,2)},"%w":Ht=>Ht.Ga,"%W":Ht=>Xt(Math.floor((Ht.Ja+7-(Ht.Ga+6)%7)/7),2),"%y":Ht=>(Ht.Ka+1900).toString().substring(2),"%Y":Ht=>Ht.Ka+1900,"%z":Ht=>{var ln=0<=(Ht=Ht.ib);return Ht=Math.abs(Ht)/60,(ln?"+":"-")+("0000"+(Ht/60*100+Ht%60)).slice(-4)},"%Z":Ht=>Ht.lb,"%%":()=>"%"},Ct=Ct.replace(/%%/g,"\0\0"),_n)Ct.includes(In)&&(Ct=Ct.replace(new RegExp(In,"g"),_n[In](Vt)));return In=function(Ht){var ln=Array(on(Ht)+1);return gn(Ht,ln,0,ln.length),ln}(Ct=Ct.replace(/\0\0/g,"%")),In.length>kt?0:(Kr(In,St),In.length-1)}rn.Pa();var Yr=[null,Xn,Qn,Ut,Yt,Jt,xn,wn,Zn,Jn,Gt,un,dn,Rn,er,yr,br,_r,xr,Er,Or,Pr,Ar,Ir,kr],Xr={b:function(St,kt,Ct){throw new Nt(St>>>=0).Pa(kt>>>0,Ct>>>0),St},N:function(St){Nr(St>>>0,!wt,1,!vt,131072,!1),rn.Sa()},k:function(St){St>>>=0,Tt?postMessage({cmd:"cleanupThread",thread:St}):qn(St)},I:Wt,h:Yt,T:Jt,E:xn,G:wn,U:Zn,R:Jn,J:Gt,Q:un,o:dn,F:Rn,C:er,S:yr,D:br,q:()=>!0,A:function(St,kt){(St>>>=0)==kt>>>0?setTimeout(()=>rr()):Tt?postMessage({targetThread:St,cmd:"checkMailbox"}):(St=rn.Fa[St])&&St.postMessage({cmd:"checkMailbox"})},L:function(){return-1},M:ar,p:function(St){xt&&rn.Fa[St>>>0].ref()},t:function(St,kt,Ct){St=kt+2097152>>>0<4194305-!!St?(St>>>0)+4294967296*kt:NaN,Ct>>>=0,St=new Date(1e3*St),ht()[Ct>>2>>>0]=St.getUTCSeconds(),ht()[Ct+4>>2>>>0]=St.getUTCMinutes(),ht()[Ct+8>>2>>>0]=St.getUTCHours(),ht()[Ct+12>>2>>>0]=St.getUTCDate(),ht()[Ct+16>>2>>>0]=St.getUTCMonth(),ht()[Ct+20>>2>>>0]=St.getUTCFullYear()-1900,ht()[Ct+24>>2>>>0]=St.getUTCDay(),St=(St.getTime()-Date.UTC(St.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,ht()[Ct+28>>2>>>0]=St},u:function(St,kt,Ct){St=kt+2097152>>>0<4194305-!!St?(St>>>0)+4294967296*kt:NaN,Ct>>>=0,St=new Date(1e3*St),ht()[Ct>>2>>>0]=St.getSeconds(),ht()[Ct+4>>2>>>0]=St.getMinutes(),ht()[Ct+8>>2>>>0]=St.getHours(),ht()[Ct+12>>2>>>0]=St.getDate(),ht()[Ct+16>>2>>>0]=St.getMonth(),ht()[Ct+20>>2>>>0]=St.getFullYear()-1900,ht()[Ct+24>>2>>>0]=St.getDay(),kt=(Hn(St.getFullYear())?vr:wr)[St.getMonth()]+St.getDate()-1|0,ht()[Ct+28>>2>>>0]=kt,ht()[Ct+36>>2>>>0]=-60*St.getTimezoneOffset(),kt=new Date(St.getFullYear(),6,1).getTimezoneOffset();var Vt=new Date(St.getFullYear(),0,1).getTimezoneOffset();St=0|(kt!=Vt&&St.getTimezoneOffset()==Math.min(Vt,kt)),ht()[Ct+32>>2>>>0]=St},v:function(St){St>>>=0;var kt=new Date(ht()[St+20>>2>>>0]+1900,ht()[St+16>>2>>>0],ht()[St+12>>2>>>0],ht()[St+8>>2>>>0],ht()[St+4>>2>>>0],ht()[St>>2>>>0],0),Ct=ht()[St+32>>2>>>0],Vt=kt.getTimezoneOffset(),zt=new Date(kt.getFullYear(),6,1).getTimezoneOffset(),Xt=new Date(kt.getFullYear(),0,1).getTimezoneOffset(),en=Math.min(Xt,zt);return 0>Ct?ht()[St+32>>2>>>0]=+(zt!=Xt&&en==Vt):0<Ct!=(en==Vt)&&(zt=Math.max(Xt,zt),kt.setTime(kt.getTime()+6e4*((0<Ct?en:zt)-Vt))),ht()[St+24>>2>>>0]=kt.getDay(),Ct=(Hn(kt.getFullYear())?vr:wr)[kt.getMonth()]+kt.getDate()-1|0,ht()[St+28>>2>>>0]=Ct,ht()[St>>2>>>0]=kt.getSeconds(),ht()[St+4>>2>>>0]=kt.getMinutes(),ht()[St+8>>2>>>0]=kt.getHours(),ht()[St+12>>2>>>0]=kt.getDate(),ht()[St+16>>2>>>0]=kt.getMonth(),ht()[St+20>>2>>>0]=kt.getYear(),St=kt.getTime()/1e3,Lr((Pn=St,1<=+Math.abs(Pn)?0<Pn?+Math.floor(Pn/4294967296)>>>0:~~+Math.ceil((Pn-+(~~Pn>>>0))/4294967296)>>>0:0)),St>>>0},r:_r,s:xr,z:function(St,kt,Ct){function Vt(_n){return(_n=_n.toTimeString().match(/\(([A-Za-z ]+)\)$/))?_n[1]:"GMT"}St>>>=0,kt>>>=0,Ct>>>=0;var zt=new Date().getFullYear(),Xt=new Date(zt,0,1),en=new Date(zt,6,1);zt=Xt.getTimezoneOffset();var pn=en.getTimezoneOffset(),Dn=Math.max(zt,pn);ct()[St>>2>>>0]=60*Dn,ht()[kt>>2>>>0]=+(zt!=pn),St=Vt(Xt),kt=Vt(en),St=Tr(St),kt=Tr(kt),pn<zt?(ct()[Ct>>2>>>0]=St,ct()[Ct+4>>2>>>0]=kt):(ct()[Ct>>2>>>0]=kt,ct()[Ct+4>>2>>>0]=St)},c:()=>{En("")},l:function(){},i:function(){return Date.now()},V:()=>{throw bn+=1,"unwind"},B:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:function(){return xt?nt(3993).cpus().length:navigator.hardwareConcurrency},K:function(St,kt,Ct,Vt){for(rn.pb=kt>>>0,lr.length=Ct,kt=Vt>>>0>>3,Vt=0;Vt<Ct;Vt++)lr[Vt]=lt()[kt+Vt>>>0];return Yr[St].apply(null,lr)},y:function(St){St>>>=0;var kt=ft().length;if(St<=kt||4294901760<St)return!1;for(var Ct=1;4>=Ct;Ct*=2){var Vt=kt*(1+.2/Ct);Vt=Math.min(Vt,St+100663296);var zt=Math;Vt=Math.max(St,Vt);e:{zt=zt.min.call(zt,4294901760,Vt+(65536-Vt%65536)%65536)-Mt.buffer.byteLength+65535>>>16;try{Mt.grow(zt),mn();var Xt=1;break e}catch{}Xt=void 0}if(Xt)return!0}return!1},O:Er,P:Or,j:Gn,g:Pr,n:Ar,w:Ir,m:kr,x:function(St,kt){return St>>>=0,kt>>>=0,$r(ft().subarray(St>>>0,St+kt>>>0)),0},a:Mt||rt.wasmMemory,H:jr,d:function(St,kt,Ct,Vt){return jr(St>>>0,kt>>>0,Ct>>>0,Vt>>>0)}};(function(){function St(Ct,Vt){return Ct=Ct.exports,Lt=Ct=function(zt){var Xt=pn=>()=>pn()>>>0,en=pn=>Dn=>pn(Dn)>>>0;return(zt=Object.assign({},zt)).__errno_location=Xt(zt.__errno_location),zt.pthread_self=Xt(zt.pthread_self),zt.malloc=en(zt.malloc),zt.stackSave=Xt(zt.stackSave),zt.stackAlloc=en(zt.stackAlloc),zt}(Ct),rn.Ta.push(Lt.sa),Cn=Lt.ta,$n.unshift(Lt.W),Kt=Vt,Nn(),Ct}var kt={a:Xr};if(Ln(),rt.instantiateWasm)try{return rt.instantiateWasm(kt,St)}catch(Ct){At("Module.instantiateWasm callback failed with error: "+Ct),tt(Ct)}(function(Ct,Vt){var zt=Sn;return Bt||typeof WebAssembly.instantiateStreaming!="function"||jn(zt)||zt.startsWith("file://")||xt||typeof fetch!="function"?tr(zt,Ct,Vt):fetch(zt,{credentials:"same-origin"}).then(Xt=>WebAssembly.instantiateStreaming(Xt,Ct).then(Vt,function(en){return At("wasm streaming compile failed: "+en),At("falling back to ArrayBuffer instantiation"),tr(zt,Ct,Vt)}))})(kt,function(Ct){St(Ct.instance,Ct.module)}).catch(tt)})(),rt._OrtInit=(St,kt)=>(rt._OrtInit=Lt.X)(St,kt),rt._OrtGetLastError=(St,kt)=>(rt._OrtGetLastError=Lt.Y)(St,kt),rt._OrtCreateSessionOptions=(St,kt,Ct,Vt,zt,Xt,en,pn,Dn,_n)=>(rt._OrtCreateSessionOptions=Lt.Z)(St,kt,Ct,Vt,zt,Xt,en,pn,Dn,_n),rt._OrtAppendExecutionProvider=(St,kt)=>(rt._OrtAppendExecutionProvider=Lt._)(St,kt),rt._OrtAddSessionConfigEntry=(St,kt,Ct)=>(rt._OrtAddSessionConfigEntry=Lt.$)(St,kt,Ct),rt._OrtReleaseSessionOptions=St=>(rt._OrtReleaseSessionOptions=Lt.aa)(St),rt._OrtCreateSession=(St,kt,Ct)=>(rt._OrtCreateSession=Lt.ba)(St,kt,Ct),rt._OrtReleaseSession=St=>(rt._OrtReleaseSession=Lt.ca)(St),rt._OrtGetInputOutputCount=(St,kt,Ct)=>(rt._OrtGetInputOutputCount=Lt.da)(St,kt,Ct),rt._OrtGetInputName=(St,kt)=>(rt._OrtGetInputName=Lt.ea)(St,kt),rt._OrtGetOutputName=(St,kt)=>(rt._OrtGetOutputName=Lt.fa)(St,kt),rt._OrtFree=St=>(rt._OrtFree=Lt.ga)(St),rt._OrtCreateTensor=(St,kt,Ct,Vt,zt)=>(rt._OrtCreateTensor=Lt.ha)(St,kt,Ct,Vt,zt),rt._OrtGetTensorData=(St,kt,Ct,Vt,zt)=>(rt._OrtGetTensorData=Lt.ia)(St,kt,Ct,Vt,zt),rt._OrtReleaseTensor=St=>(rt._OrtReleaseTensor=Lt.ja)(St),rt._OrtCreateRunOptions=(St,kt,Ct,Vt)=>(rt._OrtCreateRunOptions=Lt.ka)(St,kt,Ct,Vt),rt._OrtAddRunConfigEntry=(St,kt,Ct)=>(rt._OrtAddRunConfigEntry=Lt.la)(St,kt,Ct),rt._OrtReleaseRunOptions=St=>(rt._OrtReleaseRunOptions=Lt.ma)(St),rt._OrtRun=(St,kt,Ct,Vt,zt,Xt,en,pn)=>(rt._OrtRun=Lt.na)(St,kt,Ct,Vt,zt,Xt,en,pn),rt._OrtEndProfiling=St=>(rt._OrtEndProfiling=Lt.oa)(St);var ir=rt._pthread_self=()=>(ir=rt._pthread_self=Lt.pa)(),Rr=rt._malloc=St=>(Rr=rt._malloc=Lt.qa)(St);rt._free=St=>(rt._free=Lt.ra)(St),rt.__emscripten_tls_init=()=>(rt.__emscripten_tls_init=Lt.sa)();var Nr=rt.__emscripten_thread_init=(St,kt,Ct,Vt,zt,Xt)=>(Nr=rt.__emscripten_thread_init=Lt.ua)(St,kt,Ct,Vt,zt,Xt);rt.__emscripten_thread_crashed=()=>(rt.__emscripten_thread_crashed=Lt.va)();var or,Mr=(St,kt,Ct,Vt)=>(Mr=Lt.wa)(St,kt,Ct,Vt),dr=St=>(dr=Lt.xa)(St),fr=rt.__emscripten_thread_exit=St=>(fr=rt.__emscripten_thread_exit=Lt.ya)(St),Fr=rt.__emscripten_check_mailbox=()=>(Fr=rt.__emscripten_check_mailbox=Lt.za)(),Lr=St=>(Lr=Lt.Aa)(St),Vr=(St,kt)=>(Vr=Lt.Ba)(St,kt),pr=()=>(pr=Lt.Ca)(),sr=St=>(sr=Lt.Da)(St),hr=St=>(hr=Lt.Ea)(St);function Ur(){function St(){if(!or&&(or=!0,rt.calledRun=!0,!an)&&(Tt||Un($n),ot(rt),rt.onRuntimeInitialized&&rt.onRuntimeInitialized(),!Tt)){if(rt.postRun)for(typeof rt.postRun=="function"&&(rt.postRun=[rt.postRun]);rt.postRun.length;){var kt=rt.postRun.shift();cn.unshift(kt)}Un(cn)}}if(!(0<kn))if(Tt)ot(rt),Tt||Un($n),startWorker(rt);else{if(rt.preRun)for(typeof rt.preRun=="function"&&(rt.preRun=[rt.preRun]);rt.preRun.length;)yn.unshift(rt.preRun.shift());Un(yn),0<kn||(rt.setStatus?(rt.setStatus("Running..."),setTimeout(function(){setTimeout(function(){rt.setStatus("")},1),St()},1)):St())}}if(rt.keepRuntimeAlive=On,rt.wasmMemory=Mt,rt.stackAlloc=hr,rt.stackSave=pr,rt.stackRestore=sr,rt.UTF8ToString=Mn,rt.stringToUTF8=vn,rt.lengthBytesUTF8=on,rt.ExitStatus=Vn,rt.PThread=rn,An=function St(){or||Ur(),or||(An=St)},rt.preInit)for(typeof rt.preInit=="function"&&(rt.preInit=[rt.preInit]);0<rt.preInit.length;)rt.preInit.pop()();return Ur(),ut.ready});et.exports=at},932:(et,_e,nt)=>{var it,at=(it=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,typeof __filename<"u"&&(it=it||__filename),function(ut={}){var dt,ft,ht=ut;ht.ready=new Promise((Dt,Nt)=>{dt=Dt,ft=Nt});var ct,lt,ot,tt=Object.assign({},ht),rt="./this.program",st=(Dt,Nt)=>{throw Nt},pt=typeof window=="object",gt=typeof importScripts=="function",mt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",yt="";if(mt){var bt=nt(1384),vt=nt(908);yt=gt?vt.dirname(yt)+"/":__dirname+"/",ct=(Dt,Nt)=>(Dt=Dt.startsWith("file://")?new URL(Dt):vt.normalize(Dt),bt.readFileSync(Dt,Nt?void 0:"utf8")),ot=Dt=>((Dt=ct(Dt,!0)).buffer||(Dt=new Uint8Array(Dt)),Dt),lt=(Dt,Nt,Ut,Wt=!0)=>{Dt=Dt.startsWith("file://")?new URL(Dt):vt.normalize(Dt),bt.readFile(Dt,Wt?void 0:"utf8",(Yt,Jt)=>{Yt?Ut(Yt):Nt(Wt?Jt.buffer:Jt)})},!ht.thisProgram&&1<process.argv.length&&(rt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),st=(Dt,Nt)=>{throw process.exitCode=Dt,Nt},ht.inspect=()=>"[Emscripten Module object]"}else(pt||gt)&&(gt?yt=self.location.href:typeof document<"u"&&document.currentScript&&(yt=document.currentScript.src),it&&(yt=it),yt=yt.indexOf("blob:")!==0?yt.substr(0,yt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",ct=Dt=>{var Nt=new XMLHttpRequest;return Nt.open("GET",Dt,!1),Nt.send(null),Nt.responseText},gt&&(ot=Dt=>{var Nt=new XMLHttpRequest;return Nt.open("GET",Dt,!1),Nt.responseType="arraybuffer",Nt.send(null),new Uint8Array(Nt.response)}),lt=(Dt,Nt,Ut)=>{var Wt=new XMLHttpRequest;Wt.open("GET",Dt,!0),Wt.responseType="arraybuffer",Wt.onload=()=>{Wt.status==200||Wt.status==0&&Wt.response?Nt(Wt.response):Ut()},Wt.onerror=Ut,Wt.send(null)});var wt,xt=ht.print||console.log.bind(console),Tt=ht.printErr||console.error.bind(console);Object.assign(ht,tt),tt=null,ht.thisProgram&&(rt=ht.thisProgram),ht.quit&&(st=ht.quit),ht.wasmBinary&&(wt=ht.wasmBinary);var Ot=ht.noExitRuntime||!0;typeof WebAssembly!="object"&&nn("no native wasm support detected");var $t,It,Rt,Ft,Pt,Bt,Et=!1;function At(){var Dt=$t.buffer;ht.HEAP8=Rt=new Int8Array(Dt),ht.HEAP16=new Int16Array(Dt),ht.HEAP32=Pt=new Int32Array(Dt),ht.HEAPU8=Ft=new Uint8Array(Dt),ht.HEAPU16=new Uint16Array(Dt),ht.HEAPU32=Bt=new Uint32Array(Dt),ht.HEAPF32=new Float32Array(Dt),ht.HEAPF64=new Float64Array(Dt)}var jt=[],Mt=[],Lt=[];function Kt(){var Dt=ht.preRun.shift();jt.unshift(Dt)}var qt,Qt,Zt=0,tn=null;function nn(Dt){throw ht.onAbort&&ht.onAbort(Dt),Tt(Dt="Aborted("+Dt+")"),Et=!0,Dt=new WebAssembly.RuntimeError(Dt+". Build with -sASSERTIONS for more info."),ft(Dt),Dt}function sn(Dt){return Dt.startsWith("data:application/octet-stream;base64,")}if(!sn(qt="ort-wasm.wasm")){var an=qt;qt=ht.locateFile?ht.locateFile(an,yt):yt+an}function mn(Dt){if(Dt==qt&&wt)return new Uint8Array(wt);if(ot)return ot(Dt);throw"both async and sync fetching of the wasm failed"}function Tn(Dt,Nt,Ut){return function(Wt){if(!wt&&(pt||gt)){if(typeof fetch=="function"&&!Wt.startsWith("file://"))return fetch(Wt,{credentials:"same-origin"}).then(Yt=>{if(!Yt.ok)throw"failed to load wasm binary file at '"+Wt+"'";return Yt.arrayBuffer()}).catch(()=>mn(Wt));if(lt)return new Promise((Yt,Jt)=>{lt(Wt,on=>Yt(new Uint8Array(on)),Jt)})}return Promise.resolve().then(()=>mn(Wt))}(Dt).then(Wt=>WebAssembly.instantiate(Wt,Nt)).then(Wt=>Wt).then(Ut,Wt=>{Tt("failed to asynchronously prepare wasm: "+Wt),nn(Wt)})}function Cn(Dt){this.name="ExitStatus",this.message=`Program terminated with exit(${Dt})`,this.status=Dt}var yn=Dt=>{for(;0<Dt.length;)Dt.shift()(ht)};function $n(Dt){this.qa=Dt-24,this.va=function(Nt){Bt[this.qa+4>>2>>>0]=Nt},this.ua=function(Nt){Bt[this.qa+8>>2>>>0]=Nt},this.sa=function(Nt,Ut){this.ta(),this.va(Nt),this.ua(Ut)},this.ta=function(){Bt[this.qa+16>>2>>>0]=0}}var cn,bn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,On=(Dt,Nt,Ut)=>{var Wt=(Nt>>>=0)+Ut;for(Ut=Nt;Dt[Ut]&&!(Ut>=Wt);)++Ut;if(16<Ut-Nt&&Dt.buffer&&bn)return bn.decode(Dt.subarray(Nt,Ut));for(Wt="";Nt<Ut;){var Yt=Dt[Nt++];if(128&Yt){var Jt=63&Dt[Nt++];if((224&Yt)==192)Wt+=String.fromCharCode((31&Yt)<<6|Jt);else{var on=63&Dt[Nt++];65536>(Yt=(240&Yt)==224?(15&Yt)<<12|Jt<<6|on:(7&Yt)<<18|Jt<<12|on<<6|63&Dt[Nt++])?Wt+=String.fromCharCode(Yt):(Yt-=65536,Wt+=String.fromCharCode(55296|Yt>>10,56320|1023&Yt))}}else Wt+=String.fromCharCode(Yt)}return Wt},Sn=(Dt,Nt)=>(Dt>>>=0)?On(Ft,Dt,Nt):"",Pn=Dt=>{for(var Nt=0,Ut=0;Ut<Dt.length;++Ut){var Wt=Dt.charCodeAt(Ut);127>=Wt?Nt++:2047>=Wt?Nt+=2:55296<=Wt&&57343>=Wt?(Nt+=4,++Ut):Nt+=3}return Nt},kn=(Dt,Nt,Ut,Wt)=>{if(!(0<Wt))return 0;var Yt=Ut>>>=0;Wt=Ut+Wt-1;for(var Jt=0;Jt<Dt.length;++Jt){var on=Dt.charCodeAt(Jt);if(55296<=on&&57343>=on&&(on=65536+((1023&on)<<10)|1023&Dt.charCodeAt(++Jt)),127>=on){if(Ut>=Wt)break;Nt[Ut++>>>0]=on}else{if(2047>=on){if(Ut+1>=Wt)break;Nt[Ut++>>>0]=192|on>>6}else{if(65535>=on){if(Ut+2>=Wt)break;Nt[Ut++>>>0]=224|on>>12}else{if(Ut+3>=Wt)break;Nt[Ut++>>>0]=240|on>>18,Nt[Ut++>>>0]=128|on>>12&63}Nt[Ut++>>>0]=128|on>>6&63}Nt[Ut++>>>0]=128|63&on}}return Nt[Ut>>>0]=0,Ut-Yt},An=Dt=>Dt%4==0&&(Dt%100!=0||Dt%400==0),Ln=[0,31,60,91,121,152,182,213,244,274,305,335],Nn=[0,31,59,90,120,151,181,212,243,273,304,334],En=Dt=>{var Nt=Pn(Dt)+1,Ut=Yn(Nt);return Ut&&kn(Dt,Ft,Ut,Nt),Ut},jn={},Wn=()=>{if(!cn){var Dt,Nt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:rt||"./this.program"};for(Dt in jn)jn[Dt]===void 0?delete Nt[Dt]:Nt[Dt]=jn[Dt];var Ut=[];for(Dt in Nt)Ut.push(`${Dt}=${Nt[Dt]}`);cn=Ut}return cn},tr=[null,[],[]],Vn=Dt=>(Vn=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return Wt=>crypto.getRandomValues(Wt);if(mt)try{var Nt=nt(760);if(Nt.randomFillSync)return Wt=>Nt.randomFillSync(Wt);var Ut=Nt.randomBytes;return Wt=>(Wt.set(Ut(Wt.byteLength)),Wt)}catch{}nn("initRandomDevice")})())(Dt),zn=[31,29,31,30,31,30,31,31,30,31,30,31],qn=[31,28,31,30,31,30,31,31,30,31,30,31];function Kn(Dt,Nt,Ut,Wt){function Yt(Gt,un,dn){for(Gt=typeof Gt=="number"?Gt.toString():Gt||"";Gt.length<un;)Gt=dn[0]+Gt;return Gt}function Jt(Gt,un){return Yt(Gt,un,"0")}function on(Gt,un){function dn(er){return 0>er?-1:0<er?1:0}var Rn;return(Rn=dn(Gt.getFullYear()-un.getFullYear()))===0&&(Rn=dn(Gt.getMonth()-un.getMonth()))===0&&(Rn=dn(Gt.getDate()-un.getDate())),Rn}function gn(Gt){switch(Gt.getDay()){case 0:return new Date(Gt.getFullYear()-1,11,29);case 1:return Gt;case 2:return new Date(Gt.getFullYear(),0,3);case 3:return new Date(Gt.getFullYear(),0,2);case 4:return new Date(Gt.getFullYear(),0,1);case 5:return new Date(Gt.getFullYear()-1,11,31);case 6:return new Date(Gt.getFullYear()-1,11,30)}}function vn(Gt){var un=Gt.ma;for(Gt=new Date(new Date(Gt.na+1900,0,1).getTime());0<un;){var dn=Gt.getMonth(),Rn=(An(Gt.getFullYear())?zn:qn)[dn];if(!(un>Rn-Gt.getDate())){Gt.setDate(Gt.getDate()+un);break}un-=Rn-Gt.getDate()+1,Gt.setDate(1),11>dn?Gt.setMonth(dn+1):(Gt.setMonth(0),Gt.setFullYear(Gt.getFullYear()+1))}return dn=new Date(Gt.getFullYear()+1,0,4),un=gn(new Date(Gt.getFullYear(),0,4)),dn=gn(dn),0>=on(un,Gt)?0>=on(dn,Gt)?Gt.getFullYear()+1:Gt.getFullYear():Gt.getFullYear()-1}Dt>>>=0,Nt>>>=0,Ut>>>=0;var xn=Pt[40+(Wt>>>=0)>>2>>>0];for(var wn in Wt={ya:Pt[Wt>>2>>>0],xa:Pt[Wt+4>>2>>>0],oa:Pt[Wt+8>>2>>>0],ra:Pt[Wt+12>>2>>>0],pa:Pt[Wt+16>>2>>>0],na:Pt[Wt+20>>2>>>0],ha:Pt[Wt+24>>2>>>0],ma:Pt[Wt+28>>2>>>0],Aa:Pt[Wt+32>>2>>>0],wa:Pt[Wt+36>>2>>>0],za:xn?Sn(xn):""},Ut=Sn(Ut),xn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Ut=Ut.replace(new RegExp(wn,"g"),xn[wn]);var Zn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Jn="January February March April May June July August September October November December".split(" ");for(wn in xn={"%a":Gt=>Zn[Gt.ha].substring(0,3),"%A":Gt=>Zn[Gt.ha],"%b":Gt=>Jn[Gt.pa].substring(0,3),"%B":Gt=>Jn[Gt.pa],"%C":Gt=>Jt((Gt.na+1900)/100|0,2),"%d":Gt=>Jt(Gt.ra,2),"%e":Gt=>Yt(Gt.ra,2," "),"%g":Gt=>vn(Gt).toString().substring(2),"%G":Gt=>vn(Gt),"%H":Gt=>Jt(Gt.oa,2),"%I":Gt=>((Gt=Gt.oa)==0?Gt=12:12<Gt&&(Gt-=12),Jt(Gt,2)),"%j":Gt=>{for(var un=0,dn=0;dn<=Gt.pa-1;un+=(An(Gt.na+1900)?zn:qn)[dn++]);return Jt(Gt.ra+un,3)},"%m":Gt=>Jt(Gt.pa+1,2),"%M":Gt=>Jt(Gt.xa,2),"%n":()=>`
`,"%p":Gt=>0<=Gt.oa&&12>Gt.oa?"AM":"PM","%S":Gt=>Jt(Gt.ya,2),"%t":()=>"	","%u":Gt=>Gt.ha||7,"%U":Gt=>Jt(Math.floor((Gt.ma+7-Gt.ha)/7),2),"%V":Gt=>{var un=Math.floor((Gt.ma+7-(Gt.ha+6)%7)/7);if(2>=(Gt.ha+371-Gt.ma-2)%7&&un++,un)un==53&&((dn=(Gt.ha+371-Gt.ma)%7)==4||dn==3&&An(Gt.na)||(un=1));else{un=52;var dn=(Gt.ha+7-Gt.ma-1)%7;(dn==4||dn==5&&An(Gt.na%400-1))&&un++}return Jt(un,2)},"%w":Gt=>Gt.ha,"%W":Gt=>Jt(Math.floor((Gt.ma+7-(Gt.ha+6)%7)/7),2),"%y":Gt=>(Gt.na+1900).toString().substring(2),"%Y":Gt=>Gt.na+1900,"%z":Gt=>{var un=0<=(Gt=Gt.wa);return Gt=Math.abs(Gt)/60,(un?"+":"-")+("0000"+(Gt/60*100+Gt%60)).slice(-4)},"%Z":Gt=>Gt.za,"%%":()=>"%"},Ut=Ut.replace(/%%/g,"\0\0"),xn)Ut.includes(wn)&&(Ut=Ut.replace(new RegExp(wn,"g"),xn[wn](Wt)));return wn=function(Gt){var un=Array(Pn(Gt)+1);return kn(Gt,un,0,un.length),un}(Ut=Ut.replace(/\0\0/g,"%")),wn.length>Nt?0:(Rt.set(wn,Dt>>>0),wn.length-1)}var nr={a:function(Dt,Nt,Ut){throw new $n(Dt>>>=0).sa(Nt>>>0,Ut>>>0),Dt},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(Dt,Nt,Ut){Dt=Nt+2097152>>>0<4194305-!!Dt?(Dt>>>0)+4294967296*Nt:NaN,Ut>>>=0,Dt=new Date(1e3*Dt),Pt[Ut>>2>>>0]=Dt.getUTCSeconds(),Pt[Ut+4>>2>>>0]=Dt.getUTCMinutes(),Pt[Ut+8>>2>>>0]=Dt.getUTCHours(),Pt[Ut+12>>2>>>0]=Dt.getUTCDate(),Pt[Ut+16>>2>>>0]=Dt.getUTCMonth(),Pt[Ut+20>>2>>>0]=Dt.getUTCFullYear()-1900,Pt[Ut+24>>2>>>0]=Dt.getUTCDay(),Pt[Ut+28>>2>>>0]=(Dt.getTime()-Date.UTC(Dt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(Dt,Nt,Ut){Dt=Nt+2097152>>>0<4194305-!!Dt?(Dt>>>0)+4294967296*Nt:NaN,Ut>>>=0,Dt=new Date(1e3*Dt),Pt[Ut>>2>>>0]=Dt.getSeconds(),Pt[Ut+4>>2>>>0]=Dt.getMinutes(),Pt[Ut+8>>2>>>0]=Dt.getHours(),Pt[Ut+12>>2>>>0]=Dt.getDate(),Pt[Ut+16>>2>>>0]=Dt.getMonth(),Pt[Ut+20>>2>>>0]=Dt.getFullYear()-1900,Pt[Ut+24>>2>>>0]=Dt.getDay(),Pt[Ut+28>>2>>>0]=(An(Dt.getFullYear())?Ln:Nn)[Dt.getMonth()]+Dt.getDate()-1|0,Pt[Ut+36>>2>>>0]=-60*Dt.getTimezoneOffset(),Nt=new Date(Dt.getFullYear(),6,1).getTimezoneOffset();var Wt=new Date(Dt.getFullYear(),0,1).getTimezoneOffset();Pt[Ut+32>>2>>>0]=0|(Nt!=Wt&&Dt.getTimezoneOffset()==Math.min(Wt,Nt))},p:function(Dt){Dt>>>=0;var Nt=new Date(Pt[Dt+20>>2>>>0]+1900,Pt[Dt+16>>2>>>0],Pt[Dt+12>>2>>>0],Pt[Dt+8>>2>>>0],Pt[Dt+4>>2>>>0],Pt[Dt>>2>>>0],0),Ut=Pt[Dt+32>>2>>>0],Wt=Nt.getTimezoneOffset(),Yt=new Date(Nt.getFullYear(),6,1).getTimezoneOffset(),Jt=new Date(Nt.getFullYear(),0,1).getTimezoneOffset(),on=Math.min(Jt,Yt);return 0>Ut?Pt[Dt+32>>2>>>0]=+(Yt!=Jt&&on==Wt):0<Ut!=(on==Wt)&&(Yt=Math.max(Jt,Yt),Nt.setTime(Nt.getTime()+6e4*((0<Ut?on:Yt)-Wt))),Pt[Dt+24>>2>>>0]=Nt.getDay(),Pt[Dt+28>>2>>>0]=(An(Nt.getFullYear())?Ln:Nn)[Nt.getMonth()]+Nt.getDate()-1|0,Pt[Dt>>2>>>0]=Nt.getSeconds(),Pt[Dt+4>>2>>>0]=Nt.getMinutes(),Pt[Dt+8>>2>>>0]=Nt.getHours(),Pt[Dt+12>>2>>>0]=Nt.getDate(),Pt[Dt+16>>2>>>0]=Nt.getMonth(),Pt[Dt+20>>2>>>0]=Nt.getYear(),Dt=Nt.getTime()/1e3,Xn((Qt=Dt,1<=+Math.abs(Qt)?0<Qt?+Math.floor(Qt/4294967296)>>>0:~~+Math.ceil((Qt-+(~~Qt>>>0))/4294967296)>>>0:0)),Dt>>>0},l:function(){return-52},m:function(){},u:function(Dt,Nt,Ut){function Wt(vn){return(vn=vn.toTimeString().match(/\(([A-Za-z ]+)\)$/))?vn[1]:"GMT"}Ut>>>=0;var Yt=new Date().getFullYear(),Jt=new Date(Yt,0,1),on=new Date(Yt,6,1);Yt=Jt.getTimezoneOffset();var gn=on.getTimezoneOffset();Bt[Dt>>>0>>2>>>0]=60*Math.max(Yt,gn),Pt[Nt>>>0>>2>>>0]=+(Yt!=gn),Dt=Wt(Jt),Nt=Wt(on),Dt=En(Dt),Nt=En(Nt),gn<Yt?(Bt[Ut>>2>>>0]=Dt,Bt[Ut+4>>2>>>0]=Nt):(Bt[Ut>>2>>>0]=Nt,Bt[Ut+4>>2>>>0]=Dt)},d:()=>{nn("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(Dt,Nt,Ut){return Nt>>>=0,Ft.copyWithin(Dt>>>0>>>0,Nt>>>0,Nt+(Ut>>>0)>>>0)},t:function(Dt){Dt>>>=0;var Nt=Ft.length;if(4294901760<Dt)return!1;for(var Ut=1;4>=Ut;Ut*=2){var Wt=Nt*(1+.2/Ut);Wt=Math.min(Wt,Dt+100663296);var Yt=Math;Wt=Math.max(Dt,Wt);e:{Yt=Yt.min.call(Yt,4294901760,Wt+(65536-Wt%65536)%65536)-$t.buffer.byteLength+65535>>>16;try{$t.grow(Yt),At();var Jt=1;break e}catch{}Jt=void 0}if(Jt)return!0}return!1},D:function(Dt,Nt){Dt>>>=0,Nt>>>=0;var Ut=0;return Wn().forEach(function(Wt,Yt){var Jt=Nt+Ut;for(Yt=Bt[Dt+4*Yt>>2>>>0]=Jt,Jt=0;Jt<Wt.length;++Jt)Rt[Yt++>>0>>>0]=Wt.charCodeAt(Jt);Rt[Yt>>0>>>0]=0,Ut+=Wt.length+1}),0},E:function(Dt,Nt){Dt>>>=0,Nt>>>=0;var Ut=Wn();Bt[Dt>>2>>>0]=Ut.length;var Wt=0;return Ut.forEach(function(Yt){Wt+=Yt.length+1}),Bt[Nt>>2>>>0]=Wt,0},s:Dt=>{Ot||(ht.onExit&&ht.onExit(Dt),Et=!0),st(Dt,new Cn(Dt))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(Dt,Nt,Ut,Wt){Nt>>>=0,Ut>>>=0,Wt>>>=0;for(var Yt=0,Jt=0;Jt<Ut;Jt++){var on=Bt[Nt>>2>>>0],gn=Bt[Nt+4>>2>>>0];Nt+=8;for(var vn=0;vn<gn;vn++){var xn=Ft[on+vn>>>0],wn=tr[Dt];xn===0||xn===10?((Dt===1?xt:Tt)(On(wn,0)),wn.length=0):wn.push(xn)}Yt+=gn}return Bt[Wt>>2>>>0]=Yt,0},r:function(Dt,Nt){return Dt>>>=0,Vn(Ft.subarray(Dt>>>0,Dt+(Nt>>>0)>>>0)),0},C:Kn,c:function(Dt,Nt,Ut,Wt){return Kn(Dt>>>0,Nt>>>0,Ut>>>0,Wt>>>0)}};(function(){function Dt(Ut){if(Ut=Ut.exports,It=Ut=function(Yt){var Jt=gn=>()=>gn()>>>0,on=gn=>vn=>gn(vn)>>>0;return(Yt=Object.assign({},Yt)).__errno_location=Jt(Yt.__errno_location),Yt.malloc=on(Yt.malloc),Yt.stackSave=Jt(Yt.stackSave),Yt.stackAlloc=on(Yt.stackAlloc),Yt}(Ut),$t=It.L,At(),Mt.unshift(It.M),Zt--,ht.monitorRunDependencies&&ht.monitorRunDependencies(Zt),Zt==0&&tn){var Wt=tn;tn=null,Wt()}return Ut}var Nt={a:nr};if(Zt++,ht.monitorRunDependencies&&ht.monitorRunDependencies(Zt),ht.instantiateWasm)try{return ht.instantiateWasm(Nt,Dt)}catch(Ut){Tt("Module.instantiateWasm callback failed with error: "+Ut),ft(Ut)}(function(Ut,Wt){var Yt=qt;return wt||typeof WebAssembly.instantiateStreaming!="function"||sn(Yt)||Yt.startsWith("file://")||mt||typeof fetch!="function"?Tn(Yt,Ut,Wt):fetch(Yt,{credentials:"same-origin"}).then(Jt=>WebAssembly.instantiateStreaming(Jt,Ut).then(Wt,function(on){return Tt("wasm streaming compile failed: "+on),Tt("falling back to ArrayBuffer instantiation"),Tn(Yt,Ut,Wt)}))})(Nt,function(Ut){Dt(Ut.instance)}).catch(ft)})(),ht._OrtInit=(Dt,Nt)=>(ht._OrtInit=It.N)(Dt,Nt),ht._OrtGetLastError=(Dt,Nt)=>(ht._OrtGetLastError=It.O)(Dt,Nt),ht._OrtCreateSessionOptions=(Dt,Nt,Ut,Wt,Yt,Jt,on,gn,vn,xn)=>(ht._OrtCreateSessionOptions=It.P)(Dt,Nt,Ut,Wt,Yt,Jt,on,gn,vn,xn),ht._OrtAppendExecutionProvider=(Dt,Nt)=>(ht._OrtAppendExecutionProvider=It.Q)(Dt,Nt),ht._OrtAddSessionConfigEntry=(Dt,Nt,Ut)=>(ht._OrtAddSessionConfigEntry=It.R)(Dt,Nt,Ut),ht._OrtReleaseSessionOptions=Dt=>(ht._OrtReleaseSessionOptions=It.S)(Dt),ht._OrtCreateSession=(Dt,Nt,Ut)=>(ht._OrtCreateSession=It.T)(Dt,Nt,Ut),ht._OrtReleaseSession=Dt=>(ht._OrtReleaseSession=It.U)(Dt),ht._OrtGetInputOutputCount=(Dt,Nt,Ut)=>(ht._OrtGetInputOutputCount=It.V)(Dt,Nt,Ut),ht._OrtGetInputName=(Dt,Nt)=>(ht._OrtGetInputName=It.W)(Dt,Nt),ht._OrtGetOutputName=(Dt,Nt)=>(ht._OrtGetOutputName=It.X)(Dt,Nt),ht._OrtFree=Dt=>(ht._OrtFree=It.Y)(Dt),ht._OrtCreateTensor=(Dt,Nt,Ut,Wt,Yt)=>(ht._OrtCreateTensor=It.Z)(Dt,Nt,Ut,Wt,Yt),ht._OrtGetTensorData=(Dt,Nt,Ut,Wt,Yt)=>(ht._OrtGetTensorData=It._)(Dt,Nt,Ut,Wt,Yt),ht._OrtReleaseTensor=Dt=>(ht._OrtReleaseTensor=It.$)(Dt),ht._OrtCreateRunOptions=(Dt,Nt,Ut,Wt)=>(ht._OrtCreateRunOptions=It.aa)(Dt,Nt,Ut,Wt),ht._OrtAddRunConfigEntry=(Dt,Nt,Ut)=>(ht._OrtAddRunConfigEntry=It.ba)(Dt,Nt,Ut),ht._OrtReleaseRunOptions=Dt=>(ht._OrtReleaseRunOptions=It.ca)(Dt),ht._OrtRun=(Dt,Nt,Ut,Wt,Yt,Jt,on,gn)=>(ht._OrtRun=It.da)(Dt,Nt,Ut,Wt,Yt,Jt,on,gn),ht._OrtEndProfiling=Dt=>(ht._OrtEndProfiling=It.ea)(Dt);var Yn=ht._malloc=Dt=>(Yn=ht._malloc=It.fa)(Dt);ht._free=Dt=>(ht._free=It.ga)(Dt);var Mn,Xn=Dt=>(Xn=It.ia)(Dt),Gn=()=>(Gn=It.ja)(),rn=Dt=>(rn=It.ka)(Dt),Un=Dt=>(Un=It.la)(Dt);function Qn(){function Dt(){if(!Mn&&(Mn=!0,ht.calledRun=!0,!Et)){if(yn(Mt),dt(ht),ht.onRuntimeInitialized&&ht.onRuntimeInitialized(),ht.postRun)for(typeof ht.postRun=="function"&&(ht.postRun=[ht.postRun]);ht.postRun.length;){var Nt=ht.postRun.shift();Lt.unshift(Nt)}yn(Lt)}}if(!(0<Zt)){if(ht.preRun)for(typeof ht.preRun=="function"&&(ht.preRun=[ht.preRun]);ht.preRun.length;)Kt();yn(jt),0<Zt||(ht.setStatus?(ht.setStatus("Running..."),setTimeout(function(){setTimeout(function(){ht.setStatus("")},1),Dt()},1)):Dt())}}if(ht.stackAlloc=Un,ht.stackSave=Gn,ht.stackRestore=rn,ht.UTF8ToString=Sn,ht.stringToUTF8=(Dt,Nt,Ut)=>kn(Dt,Ft,Nt,Ut),ht.lengthBytesUTF8=Pn,tn=function Dt(){Mn||Qn(),Mn||(tn=Dt)},ht.preInit)for(typeof ht.preInit=="function"&&(ht.preInit=[ht.preInit]);0<ht.preInit.length;)ht.preInit.pop()();return Qn(),ut.ready});et.exports=at},4537:et=>{et.exports=function(_e,nt){for(var it=new Array(arguments.length-1),at=0,ut=2,dt=!0;ut<arguments.length;)it[at++]=arguments[ut++];return new Promise(function(ft,ht){it[at]=function(ct){if(dt)if(dt=!1,ct)ht(ct);else{for(var lt=new Array(arguments.length-1),ot=0;ot<lt.length;)lt[ot++]=arguments[ot];ft.apply(null,lt)}};try{_e.apply(nt||null,it)}catch(ct){dt&&(dt=!1,ht(ct))}})}},7419:(et,_e)=>{var nt=_e;nt.length=function(ft){var ht=ft.length;if(!ht)return 0;for(var ct=0;--ht%4>1&&ft.charAt(ht)==="=";)++ct;return Math.ceil(3*ft.length)/4-ct};for(var it=new Array(64),at=new Array(123),ut=0;ut<64;)at[it[ut]=ut<26?ut+65:ut<52?ut+71:ut<62?ut-4:ut-59|43]=ut++;nt.encode=function(ft,ht,ct){for(var lt,ot=null,tt=[],rt=0,st=0;ht<ct;){var pt=ft[ht++];switch(st){case 0:tt[rt++]=it[pt>>2],lt=(3&pt)<<4,st=1;break;case 1:tt[rt++]=it[lt|pt>>4],lt=(15&pt)<<2,st=2;break;case 2:tt[rt++]=it[lt|pt>>6],tt[rt++]=it[63&pt],st=0}rt>8191&&((ot||(ot=[])).push(String.fromCharCode.apply(String,tt)),rt=0)}return st&&(tt[rt++]=it[lt],tt[rt++]=61,st===1&&(tt[rt++]=61)),ot?(rt&&ot.push(String.fromCharCode.apply(String,tt.slice(0,rt))),ot.join("")):String.fromCharCode.apply(String,tt.slice(0,rt))};var dt="invalid encoding";nt.decode=function(ft,ht,ct){for(var lt,ot=ct,tt=0,rt=0;rt<ft.length;){var st=ft.charCodeAt(rt++);if(st===61&&tt>1)break;if((st=at[st])===void 0)throw Error(dt);switch(tt){case 0:lt=st,tt=1;break;case 1:ht[ct++]=lt<<2|(48&st)>>4,lt=st,tt=2;break;case 2:ht[ct++]=(15&lt)<<4|(60&st)>>2,lt=st,tt=3;break;case 3:ht[ct++]=(3&lt)<<6|st,tt=0}}if(tt===1)throw Error(dt);return ct-ot},nt.test=function(ft){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ft)}},9211:et=>{function _e(){this._listeners={}}et.exports=_e,_e.prototype.on=function(nt,it,at){return(this._listeners[nt]||(this._listeners[nt]=[])).push({fn:it,ctx:at||this}),this},_e.prototype.off=function(nt,it){if(nt===void 0)this._listeners={};else if(it===void 0)this._listeners[nt]=[];else for(var at=this._listeners[nt],ut=0;ut<at.length;)at[ut].fn===it?at.splice(ut,1):++ut;return this},_e.prototype.emit=function(nt){var it=this._listeners[nt];if(it){for(var at=[],ut=1;ut<arguments.length;)at.push(arguments[ut++]);for(ut=0;ut<it.length;)it[ut].fn.apply(it[ut++].ctx,at)}return this}},945:et=>{function _e(dt){return typeof Float32Array<"u"?function(){var ft=new Float32Array([-0]),ht=new Uint8Array(ft.buffer),ct=ht[3]===128;function lt(st,pt,gt){ft[0]=st,pt[gt]=ht[0],pt[gt+1]=ht[1],pt[gt+2]=ht[2],pt[gt+3]=ht[3]}function ot(st,pt,gt){ft[0]=st,pt[gt]=ht[3],pt[gt+1]=ht[2],pt[gt+2]=ht[1],pt[gt+3]=ht[0]}function tt(st,pt){return ht[0]=st[pt],ht[1]=st[pt+1],ht[2]=st[pt+2],ht[3]=st[pt+3],ft[0]}function rt(st,pt){return ht[3]=st[pt],ht[2]=st[pt+1],ht[1]=st[pt+2],ht[0]=st[pt+3],ft[0]}dt.writeFloatLE=ct?lt:ot,dt.writeFloatBE=ct?ot:lt,dt.readFloatLE=ct?tt:rt,dt.readFloatBE=ct?rt:tt}():function(){function ft(ct,lt,ot,tt){var rt=lt<0?1:0;if(rt&&(lt=-lt),lt===0)ct(1/lt>0?0:2147483648,ot,tt);else if(isNaN(lt))ct(2143289344,ot,tt);else if(lt>34028234663852886e22)ct((rt<<31|2139095040)>>>0,ot,tt);else if(lt<11754943508222875e-54)ct((rt<<31|Math.round(lt/1401298464324817e-60))>>>0,ot,tt);else{var st=Math.floor(Math.log(lt)/Math.LN2);ct((rt<<31|st+127<<23|8388607&Math.round(lt*Math.pow(2,-st)*8388608))>>>0,ot,tt)}}function ht(ct,lt,ot){var tt=ct(lt,ot),rt=2*(tt>>31)+1,st=tt>>>23&255,pt=8388607&tt;return st===255?pt?NaN:rt*(1/0):st===0?1401298464324817e-60*rt*pt:rt*Math.pow(2,st-150)*(pt+8388608)}dt.writeFloatLE=ft.bind(null,nt),dt.writeFloatBE=ft.bind(null,it),dt.readFloatLE=ht.bind(null,at),dt.readFloatBE=ht.bind(null,ut)}(),typeof Float64Array<"u"?function(){var ft=new Float64Array([-0]),ht=new Uint8Array(ft.buffer),ct=ht[7]===128;function lt(st,pt,gt){ft[0]=st,pt[gt]=ht[0],pt[gt+1]=ht[1],pt[gt+2]=ht[2],pt[gt+3]=ht[3],pt[gt+4]=ht[4],pt[gt+5]=ht[5],pt[gt+6]=ht[6],pt[gt+7]=ht[7]}function ot(st,pt,gt){ft[0]=st,pt[gt]=ht[7],pt[gt+1]=ht[6],pt[gt+2]=ht[5],pt[gt+3]=ht[4],pt[gt+4]=ht[3],pt[gt+5]=ht[2],pt[gt+6]=ht[1],pt[gt+7]=ht[0]}function tt(st,pt){return ht[0]=st[pt],ht[1]=st[pt+1],ht[2]=st[pt+2],ht[3]=st[pt+3],ht[4]=st[pt+4],ht[5]=st[pt+5],ht[6]=st[pt+6],ht[7]=st[pt+7],ft[0]}function rt(st,pt){return ht[7]=st[pt],ht[6]=st[pt+1],ht[5]=st[pt+2],ht[4]=st[pt+3],ht[3]=st[pt+4],ht[2]=st[pt+5],ht[1]=st[pt+6],ht[0]=st[pt+7],ft[0]}dt.writeDoubleLE=ct?lt:ot,dt.writeDoubleBE=ct?ot:lt,dt.readDoubleLE=ct?tt:rt,dt.readDoubleBE=ct?rt:tt}():function(){function ft(ct,lt,ot,tt,rt,st){var pt=tt<0?1:0;if(pt&&(tt=-tt),tt===0)ct(0,rt,st+lt),ct(1/tt>0?0:2147483648,rt,st+ot);else if(isNaN(tt))ct(0,rt,st+lt),ct(2146959360,rt,st+ot);else if(tt>17976931348623157e292)ct(0,rt,st+lt),ct((pt<<31|2146435072)>>>0,rt,st+ot);else{var gt;if(tt<22250738585072014e-324)ct((gt=tt/5e-324)>>>0,rt,st+lt),ct((pt<<31|gt/4294967296)>>>0,rt,st+ot);else{var mt=Math.floor(Math.log(tt)/Math.LN2);mt===1024&&(mt=1023),ct(4503599627370496*(gt=tt*Math.pow(2,-mt))>>>0,rt,st+lt),ct((pt<<31|mt+1023<<20|1048576*gt&1048575)>>>0,rt,st+ot)}}}function ht(ct,lt,ot,tt,rt){var st=ct(tt,rt+lt),pt=ct(tt,rt+ot),gt=2*(pt>>31)+1,mt=pt>>>20&2047,yt=4294967296*(1048575&pt)+st;return mt===2047?yt?NaN:gt*(1/0):mt===0?5e-324*gt*yt:gt*Math.pow(2,mt-1075)*(yt+4503599627370496)}dt.writeDoubleLE=ft.bind(null,nt,0,4),dt.writeDoubleBE=ft.bind(null,it,4,0),dt.readDoubleLE=ht.bind(null,at,0,4),dt.readDoubleBE=ht.bind(null,ut,4,0)}(),dt}function nt(dt,ft,ht){ft[ht]=255&dt,ft[ht+1]=dt>>>8&255,ft[ht+2]=dt>>>16&255,ft[ht+3]=dt>>>24}function it(dt,ft,ht){ft[ht]=dt>>>24,ft[ht+1]=dt>>>16&255,ft[ht+2]=dt>>>8&255,ft[ht+3]=255&dt}function at(dt,ft){return(dt[ft]|dt[ft+1]<<8|dt[ft+2]<<16|dt[ft+3]<<24)>>>0}function ut(dt,ft){return(dt[ft]<<24|dt[ft+1]<<16|dt[ft+2]<<8|dt[ft+3])>>>0}et.exports=_e(_e)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(et){}return null}module.exports=inquire},6662:et=>{et.exports=function(_e,nt,it){var at=it||8192,ut=at>>>1,dt=null,ft=at;return function(ht){if(ht<1||ht>ut)return _e(ht);ft+ht>at&&(dt=_e(at),ft=0);var ct=nt.call(dt,ft,ft+=ht);return 7&ft&&(ft=1+(7|ft)),ct}}},4997:(et,_e)=>{var nt=_e;nt.length=function(it){for(var at=0,ut=0,dt=0;dt<it.length;++dt)(ut=it.charCodeAt(dt))<128?at+=1:ut<2048?at+=2:(64512&ut)==55296&&(64512&it.charCodeAt(dt+1))==56320?(++dt,at+=4):at+=3;return at},nt.read=function(it,at,ut){if(ut-at<1)return"";for(var dt,ft=null,ht=[],ct=0;at<ut;)(dt=it[at++])<128?ht[ct++]=dt:dt>191&&dt<224?ht[ct++]=(31&dt)<<6|63&it[at++]:dt>239&&dt<365?(dt=((7&dt)<<18|(63&it[at++])<<12|(63&it[at++])<<6|63&it[at++])-65536,ht[ct++]=55296+(dt>>10),ht[ct++]=56320+(1023&dt)):ht[ct++]=(15&dt)<<12|(63&it[at++])<<6|63&it[at++],ct>8191&&((ft||(ft=[])).push(String.fromCharCode.apply(String,ht)),ct=0);return ft?(ct&&ft.push(String.fromCharCode.apply(String,ht.slice(0,ct))),ft.join("")):String.fromCharCode.apply(String,ht.slice(0,ct))},nt.write=function(it,at,ut){for(var dt,ft,ht=ut,ct=0;ct<it.length;++ct)(dt=it.charCodeAt(ct))<128?at[ut++]=dt:dt<2048?(at[ut++]=dt>>6|192,at[ut++]=63&dt|128):(64512&dt)==55296&&(64512&(ft=it.charCodeAt(ct+1)))==56320?(dt=65536+((1023&dt)<<10)+(1023&ft),++ct,at[ut++]=dt>>18|240,at[ut++]=dt>>12&63|128,at[ut++]=dt>>6&63|128,at[ut++]=63&dt|128):(at[ut++]=dt>>12|224,at[ut++]=dt>>6&63|128,at[ut++]=63&dt|128);return ut-ht}},3442:(et,_e)=>{_e.__esModule=!0;var nt=function(){function it(at){if(!at)throw new TypeError("Invalid argument; `value` has no value.");this.value=it.EMPTY,at&&it.isGuid(at)&&(this.value=at)}return it.isGuid=function(at){var ut=at.toString();return at&&(at instanceof it||it.validator.test(ut))},it.create=function(){return new it([it.gen(2),it.gen(1),it.gen(1),it.gen(1),it.gen(3)].join("-"))},it.createEmpty=function(){return new it("emptyguid")},it.parse=function(at){return new it(at)},it.raw=function(){return[it.gen(2),it.gen(1),it.gen(1),it.gen(1),it.gen(3)].join("-")},it.gen=function(at){for(var ut="",dt=0;dt<at;dt++)ut+=(65536*(1+Math.random())|0).toString(16).substring(1);return ut},it.prototype.equals=function(at){return it.isGuid(at)&&this.value===at.toString()},it.prototype.isEmpty=function(){return this.value===it.EMPTY},it.prototype.toString=function(){return this.value},it.prototype.toJSON=function(){return{value:this.value}},it.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),it.EMPTY="00000000-0000-0000-0000-000000000000",it}();_e.Guid=nt},2100:(et,_e,nt)=>{et.exports=nt(9482)},9482:(et,_e,nt)=>{var it=_e;function at(){it.util._configure(),it.Writer._configure(it.BufferWriter),it.Reader._configure(it.BufferReader)}it.build="minimal",it.Writer=nt(1173),it.BufferWriter=nt(3155),it.Reader=nt(1408),it.BufferReader=nt(593),it.util=nt(9693),it.rpc=nt(5994),it.roots=nt(5054),it.configure=at,at()},1408:(et,_e,nt)=>{et.exports=ht;var it,at=nt(9693),ut=at.LongBits,dt=at.utf8;function ft(pt,gt){return RangeError("index out of range: "+pt.pos+" + "+(gt||1)+" > "+pt.len)}function ht(pt){this.buf=pt,this.pos=0,this.len=pt.length}var ct,lt=typeof Uint8Array<"u"?function(pt){if(pt instanceof Uint8Array||Array.isArray(pt))return new ht(pt);throw Error("illegal buffer")}:function(pt){if(Array.isArray(pt))return new ht(pt);throw Error("illegal buffer")},ot=function(){return at.Buffer?function(pt){return(ht.create=function(gt){return at.Buffer.isBuffer(gt)?new it(gt):lt(gt)})(pt)}:lt};function tt(){var pt=new ut(0,0),gt=0;if(!(this.len-this.pos>4)){for(;gt<3;++gt){if(this.pos>=this.len)throw ft(this);if(pt.lo=(pt.lo|(127&this.buf[this.pos])<<7*gt)>>>0,this.buf[this.pos++]<128)return pt}return pt.lo=(pt.lo|(127&this.buf[this.pos++])<<7*gt)>>>0,pt}for(;gt<4;++gt)if(pt.lo=(pt.lo|(127&this.buf[this.pos])<<7*gt)>>>0,this.buf[this.pos++]<128)return pt;if(pt.lo=(pt.lo|(127&this.buf[this.pos])<<28)>>>0,pt.hi=(pt.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return pt;if(gt=0,this.len-this.pos>4){for(;gt<5;++gt)if(pt.hi=(pt.hi|(127&this.buf[this.pos])<<7*gt+3)>>>0,this.buf[this.pos++]<128)return pt}else for(;gt<5;++gt){if(this.pos>=this.len)throw ft(this);if(pt.hi=(pt.hi|(127&this.buf[this.pos])<<7*gt+3)>>>0,this.buf[this.pos++]<128)return pt}throw Error("invalid varint encoding")}function rt(pt,gt){return(pt[gt-4]|pt[gt-3]<<8|pt[gt-2]<<16|pt[gt-1]<<24)>>>0}function st(){if(this.pos+8>this.len)throw ft(this,8);return new ut(rt(this.buf,this.pos+=4),rt(this.buf,this.pos+=4))}ht.create=ot(),ht.prototype._slice=at.Array.prototype.subarray||at.Array.prototype.slice,ht.prototype.uint32=(ct=4294967295,function(){if(ct=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(ct=(ct|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(ct=(ct|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(ct=(ct|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(ct=(ct|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return ct;if((this.pos+=5)>this.len)throw this.pos=this.len,ft(this,10);return ct}),ht.prototype.int32=function(){return 0|this.uint32()},ht.prototype.sint32=function(){var pt=this.uint32();return pt>>>1^-(1&pt)|0},ht.prototype.bool=function(){return this.uint32()!==0},ht.prototype.fixed32=function(){if(this.pos+4>this.len)throw ft(this,4);return rt(this.buf,this.pos+=4)},ht.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ft(this,4);return 0|rt(this.buf,this.pos+=4)},ht.prototype.float=function(){if(this.pos+4>this.len)throw ft(this,4);var pt=at.float.readFloatLE(this.buf,this.pos);return this.pos+=4,pt},ht.prototype.double=function(){if(this.pos+8>this.len)throw ft(this,4);var pt=at.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,pt},ht.prototype.bytes=function(){var pt=this.uint32(),gt=this.pos,mt=this.pos+pt;if(mt>this.len)throw ft(this,pt);return this.pos+=pt,Array.isArray(this.buf)?this.buf.slice(gt,mt):gt===mt?new this.buf.constructor(0):this._slice.call(this.buf,gt,mt)},ht.prototype.string=function(){var pt=this.bytes();return dt.read(pt,0,pt.length)},ht.prototype.skip=function(pt){if(typeof pt=="number"){if(this.pos+pt>this.len)throw ft(this,pt);this.pos+=pt}else do if(this.pos>=this.len)throw ft(this);while(128&this.buf[this.pos++]);return this},ht.prototype.skipType=function(pt){switch(pt){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(pt=7&this.uint32())!=4;)this.skipType(pt);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+pt+" at offset "+this.pos)}return this},ht._configure=function(pt){it=pt,ht.create=ot(),it._configure();var gt=at.Long?"toLong":"toNumber";at.merge(ht.prototype,{int64:function(){return tt.call(this)[gt](!1)},uint64:function(){return tt.call(this)[gt](!0)},sint64:function(){return tt.call(this).zzDecode()[gt](!1)},fixed64:function(){return st.call(this)[gt](!0)},sfixed64:function(){return st.call(this)[gt](!1)}})}},593:(et,_e,nt)=>{et.exports=ut;var it=nt(1408);(ut.prototype=Object.create(it.prototype)).constructor=ut;var at=nt(9693);function ut(dt){it.call(this,dt)}ut._configure=function(){at.Buffer&&(ut.prototype._slice=at.Buffer.prototype.slice)},ut.prototype.string=function(){var dt=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+dt,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+dt,this.len))},ut._configure()},5054:et=>{et.exports={}},5994:(et,_e,nt)=>{_e.Service=nt(7948)},7948:(et,_e,nt)=>{et.exports=at;var it=nt(9693);function at(ut,dt,ft){if(typeof ut!="function")throw TypeError("rpcImpl must be a function");it.EventEmitter.call(this),this.rpcImpl=ut,this.requestDelimited=!!dt,this.responseDelimited=!!ft}(at.prototype=Object.create(it.EventEmitter.prototype)).constructor=at,at.prototype.rpcCall=function ut(dt,ft,ht,ct,lt){if(!ct)throw TypeError("request must be specified");var ot=this;if(!lt)return it.asPromise(ut,ot,dt,ft,ht,ct);if(ot.rpcImpl)try{return ot.rpcImpl(dt,ft[ot.requestDelimited?"encodeDelimited":"encode"](ct).finish(),function(tt,rt){if(tt)return ot.emit("error",tt,dt),lt(tt);if(rt!==null){if(!(rt instanceof ht))try{rt=ht[ot.responseDelimited?"decodeDelimited":"decode"](rt)}catch(st){return ot.emit("error",st,dt),lt(st)}return ot.emit("data",rt,dt),lt(null,rt)}ot.end(!0)})}catch(tt){return ot.emit("error",tt,dt),void setTimeout(function(){lt(tt)},0)}else setTimeout(function(){lt(Error("already ended"))},0)},at.prototype.end=function(ut){return this.rpcImpl&&(ut||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(et,_e,nt)=>{et.exports=at;var it=nt(9693);function at(ht,ct){this.lo=ht>>>0,this.hi=ct>>>0}var ut=at.zero=new at(0,0);ut.toNumber=function(){return 0},ut.zzEncode=ut.zzDecode=function(){return this},ut.length=function(){return 1};var dt=at.zeroHash="\0\0\0\0\0\0\0\0";at.fromNumber=function(ht){if(ht===0)return ut;var ct=ht<0;ct&&(ht=-ht);var lt=ht>>>0,ot=(ht-lt)/4294967296>>>0;return ct&&(ot=~ot>>>0,lt=~lt>>>0,++lt>4294967295&&(lt=0,++ot>4294967295&&(ot=0))),new at(lt,ot)},at.from=function(ht){if(typeof ht=="number")return at.fromNumber(ht);if(it.isString(ht)){if(!it.Long)return at.fromNumber(parseInt(ht,10));ht=it.Long.fromString(ht)}return ht.low||ht.high?new at(ht.low>>>0,ht.high>>>0):ut},at.prototype.toNumber=function(ht){if(!ht&&this.hi>>>31){var ct=1+~this.lo>>>0,lt=~this.hi>>>0;return ct||(lt=lt+1>>>0),-(ct+4294967296*lt)}return this.lo+4294967296*this.hi},at.prototype.toLong=function(ht){return it.Long?new it.Long(0|this.lo,0|this.hi,!!ht):{low:0|this.lo,high:0|this.hi,unsigned:!!ht}};var ft=String.prototype.charCodeAt;at.fromHash=function(ht){return ht===dt?ut:new at((ft.call(ht,0)|ft.call(ht,1)<<8|ft.call(ht,2)<<16|ft.call(ht,3)<<24)>>>0,(ft.call(ht,4)|ft.call(ht,5)<<8|ft.call(ht,6)<<16|ft.call(ht,7)<<24)>>>0)},at.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},at.prototype.zzEncode=function(){var ht=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^ht)>>>0,this.lo=(this.lo<<1^ht)>>>0,this},at.prototype.zzDecode=function(){var ht=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^ht)>>>0,this.hi=(this.hi>>>1^ht)>>>0,this},at.prototype.length=function(){var ht=this.lo,ct=(this.lo>>>28|this.hi<<4)>>>0,lt=this.hi>>>24;return lt===0?ct===0?ht<16384?ht<128?1:2:ht<2097152?3:4:ct<16384?ct<128?5:6:ct<2097152?7:8:lt<128?9:10}},9693:function(et,_e,nt){var it=_e;function at(dt,ft,ht){for(var ct=Object.keys(ft),lt=0;lt<ct.length;++lt)dt[ct[lt]]!==void 0&&ht||(dt[ct[lt]]=ft[ct[lt]]);return dt}function ut(dt){function ft(ht,ct){if(!(this instanceof ft))return new ft(ht,ct);Object.defineProperty(this,"message",{get:function(){return ht}}),Error.captureStackTrace?Error.captureStackTrace(this,ft):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ct&&at(this,ct)}return ft.prototype=Object.create(Error.prototype,{constructor:{value:ft,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return dt},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),ft}it.asPromise=nt(4537),it.base64=nt(7419),it.EventEmitter=nt(9211),it.float=nt(945),it.inquire=nt(7199),it.utf8=nt(4997),it.pool=nt(6662),it.LongBits=nt(1945),it.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),it.global=it.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||this,it.emptyArray=Object.freeze?Object.freeze([]):[],it.emptyObject=Object.freeze?Object.freeze({}):{},it.isInteger=Number.isInteger||function(dt){return typeof dt=="number"&&isFinite(dt)&&Math.floor(dt)===dt},it.isString=function(dt){return typeof dt=="string"||dt instanceof String},it.isObject=function(dt){return dt&&typeof dt=="object"},it.isset=it.isSet=function(dt,ft){var ht=dt[ft];return!(ht==null||!dt.hasOwnProperty(ft))&&(typeof ht!="object"||(Array.isArray(ht)?ht.length:Object.keys(ht).length)>0)},it.Buffer=function(){try{var dt=it.inquire("buffer").Buffer;return dt.prototype.utf8Write?dt:null}catch{return null}}(),it._Buffer_from=null,it._Buffer_allocUnsafe=null,it.newBuffer=function(dt){return typeof dt=="number"?it.Buffer?it._Buffer_allocUnsafe(dt):new it.Array(dt):it.Buffer?it._Buffer_from(dt):typeof Uint8Array>"u"?dt:new Uint8Array(dt)},it.Array=typeof Uint8Array<"u"?Uint8Array:Array,it.Long=it.global.dcodeIO&&it.global.dcodeIO.Long||it.global.Long||it.inquire("long"),it.key2Re=/^true|false|0|1$/,it.key32Re=/^-?(?:0|[1-9][0-9]*)$/,it.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,it.longToHash=function(dt){return dt?it.LongBits.from(dt).toHash():it.LongBits.zeroHash},it.longFromHash=function(dt,ft){var ht=it.LongBits.fromHash(dt);return it.Long?it.Long.fromBits(ht.lo,ht.hi,ft):ht.toNumber(!!ft)},it.merge=at,it.lcFirst=function(dt){return dt.charAt(0).toLowerCase()+dt.substring(1)},it.newError=ut,it.ProtocolError=ut("ProtocolError"),it.oneOfGetter=function(dt){for(var ft={},ht=0;ht<dt.length;++ht)ft[dt[ht]]=1;return function(){for(var ct=Object.keys(this),lt=ct.length-1;lt>-1;--lt)if(ft[ct[lt]]===1&&this[ct[lt]]!==void 0&&this[ct[lt]]!==null)return ct[lt]}},it.oneOfSetter=function(dt){return function(ft){for(var ht=0;ht<dt.length;++ht)dt[ht]!==ft&&delete this[dt[ht]]}},it.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},it._configure=function(){var dt=it.Buffer;dt?(it._Buffer_from=dt.from!==Uint8Array.from&&dt.from||function(ft,ht){return new dt(ft,ht)},it._Buffer_allocUnsafe=dt.allocUnsafe||function(ft){return new dt(ft)}):it._Buffer_from=it._Buffer_allocUnsafe=null}},1173:(et,_e,nt)=>{et.exports=ot;var it,at=nt(9693),ut=at.LongBits,dt=at.base64,ft=at.utf8;function ht(yt,bt,vt){this.fn=yt,this.len=bt,this.next=void 0,this.val=vt}function ct(){}function lt(yt){this.head=yt.head,this.tail=yt.tail,this.len=yt.len,this.next=yt.states}function ot(){this.len=0,this.head=new ht(ct,0,0),this.tail=this.head,this.states=null}var tt=function(){return at.Buffer?function(){return(ot.create=function(){return new it})()}:function(){return new ot}};function rt(yt,bt,vt){bt[vt]=255&yt}function st(yt,bt){this.len=yt,this.next=void 0,this.val=bt}function pt(yt,bt,vt){for(;yt.hi;)bt[vt++]=127&yt.lo|128,yt.lo=(yt.lo>>>7|yt.hi<<25)>>>0,yt.hi>>>=7;for(;yt.lo>127;)bt[vt++]=127&yt.lo|128,yt.lo=yt.lo>>>7;bt[vt++]=yt.lo}function gt(yt,bt,vt){bt[vt]=255&yt,bt[vt+1]=yt>>>8&255,bt[vt+2]=yt>>>16&255,bt[vt+3]=yt>>>24}ot.create=tt(),ot.alloc=function(yt){return new at.Array(yt)},at.Array!==Array&&(ot.alloc=at.pool(ot.alloc,at.Array.prototype.subarray)),ot.prototype._push=function(yt,bt,vt){return this.tail=this.tail.next=new ht(yt,bt,vt),this.len+=bt,this},st.prototype=Object.create(ht.prototype),st.prototype.fn=function(yt,bt,vt){for(;yt>127;)bt[vt++]=127&yt|128,yt>>>=7;bt[vt]=yt},ot.prototype.uint32=function(yt){return this.len+=(this.tail=this.tail.next=new st((yt>>>=0)<128?1:yt<16384?2:yt<2097152?3:yt<268435456?4:5,yt)).len,this},ot.prototype.int32=function(yt){return yt<0?this._push(pt,10,ut.fromNumber(yt)):this.uint32(yt)},ot.prototype.sint32=function(yt){return this.uint32((yt<<1^yt>>31)>>>0)},ot.prototype.uint64=function(yt){var bt=ut.from(yt);return this._push(pt,bt.length(),bt)},ot.prototype.int64=ot.prototype.uint64,ot.prototype.sint64=function(yt){var bt=ut.from(yt).zzEncode();return this._push(pt,bt.length(),bt)},ot.prototype.bool=function(yt){return this._push(rt,1,yt?1:0)},ot.prototype.fixed32=function(yt){return this._push(gt,4,yt>>>0)},ot.prototype.sfixed32=ot.prototype.fixed32,ot.prototype.fixed64=function(yt){var bt=ut.from(yt);return this._push(gt,4,bt.lo)._push(gt,4,bt.hi)},ot.prototype.sfixed64=ot.prototype.fixed64,ot.prototype.float=function(yt){return this._push(at.float.writeFloatLE,4,yt)},ot.prototype.double=function(yt){return this._push(at.float.writeDoubleLE,8,yt)};var mt=at.Array.prototype.set?function(yt,bt,vt){bt.set(yt,vt)}:function(yt,bt,vt){for(var wt=0;wt<yt.length;++wt)bt[vt+wt]=yt[wt]};ot.prototype.bytes=function(yt){var bt=yt.length>>>0;if(!bt)return this._push(rt,1,0);if(at.isString(yt)){var vt=ot.alloc(bt=dt.length(yt));dt.decode(yt,vt,0),yt=vt}return this.uint32(bt)._push(mt,bt,yt)},ot.prototype.string=function(yt){var bt=ft.length(yt);return bt?this.uint32(bt)._push(ft.write,bt,yt):this._push(rt,1,0)},ot.prototype.fork=function(){return this.states=new lt(this),this.head=this.tail=new ht(ct,0,0),this.len=0,this},ot.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ht(ct,0,0),this.len=0),this},ot.prototype.ldelim=function(){var yt=this.head,bt=this.tail,vt=this.len;return this.reset().uint32(vt),vt&&(this.tail.next=yt.next,this.tail=bt,this.len+=vt),this},ot.prototype.finish=function(){for(var yt=this.head.next,bt=this.constructor.alloc(this.len),vt=0;yt;)yt.fn(yt.val,bt,vt),vt+=yt.len,yt=yt.next;return bt},ot._configure=function(yt){it=yt,ot.create=tt(),it._configure()}},3155:(et,_e,nt)=>{et.exports=ut;var it=nt(1173);(ut.prototype=Object.create(it.prototype)).constructor=ut;var at=nt(9693);function ut(){it.call(this)}function dt(ft,ht,ct){ft.length<40?at.utf8.write(ft,ht,ct):ht.utf8Write?ht.utf8Write(ft,ct):ht.write(ft,ct)}ut._configure=function(){ut.alloc=at._Buffer_allocUnsafe,ut.writeBytesBuffer=at.Buffer&&at.Buffer.prototype instanceof Uint8Array&&at.Buffer.prototype.set.name==="set"?function(ft,ht,ct){ht.set(ft,ct)}:function(ft,ht,ct){if(ft.copy)ft.copy(ht,ct,0,ft.length);else for(var lt=0;lt<ft.length;)ht[ct++]=ft[lt++]}},ut.prototype.bytes=function(ft){at.isString(ft)&&(ft=at._Buffer_from(ft,"base64"));var ht=ft.length>>>0;return this.uint32(ht),ht&&this._push(ut.writeBytesBuffer,ht,ft),this},ut.prototype.string=function(ft){var ht=at.Buffer.byteLength(ft);return this.uint32(ht),ht&&this._push(dt,ht,ft),this},ut._configure()},4154:et=>{et.exports=`"use strict";var e={},a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(a){var r=require("worker_threads"),t=r.parentPort;t.on("message",(e=>onmessage({data:e})));var s=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:e=>(0,eval)(s.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>t.postMessage(e),performance:global.performance||{now:Date.now}})}var o=!1,d=function(){var e=Array.prototype.slice.call(arguments).join(" ");a?s.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:e._pthread_self()})},e.instantiateWasm=(a,r)=>{var t=e.wasmModule;return e.wasmModule=null,r(new WebAssembly.Instance(t,a))},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=function a(r){try{if("load"===r.data.cmd){let s=[];self.onmessage=e=>s.push(e),self.startWorker=r=>{e=r,postMessage({cmd:"loaded"});for(let e of s)a(e);self.onmessage=a},e.wasmModule=r.data.wasmModule;for(const a of r.data.handlers)e[a]=(...e)=>{postMessage({cmd:"callHandler",handler:a,args:e})};if(e.wasmMemory=r.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof r.data.urlOrBlob)importScripts(r.data.urlOrBlob);else{var t=URL.createObjectURL(r.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(e)}else if("run"===r.data.cmd){e.__emscripten_thread_init(r.data.pthread_ptr,0,0,1),e.__emscripten_thread_mailbox_await(r.data.pthread_ptr),e.establishStackSpace(),e.PThread.receiveObjectTransfer(r.data),e.PThread.threadInitTLS(),o||(o=!0);try{e.invokeEntryPoint(r.data.start_routine,r.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===r.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===r.data.target||("checkMailbox"===r.data.cmd?o&&e.checkMailbox():r.data.cmd&&(d("worker.js received unknown command "+r.data.cmd),d(r.data)))}catch(a){throw e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),a}};
`},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},685:(et,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.resolveBackend=_e.registerBackend=void 0;const nt={},it=[];_e.registerBackend=(at,ut,dt)=>{if(!ut||typeof ut.init!="function"||typeof ut.createSessionHandler!="function")throw new TypeError("not a valid backend");{const ft=nt[at];if(ft===void 0)nt[at]={backend:ut,priority:dt};else{if(ft.priority>dt)return;if(ft.priority===dt&&ft.backend!==ut)throw new Error(`cannot register backend "${at}" using priority ${dt}`)}if(dt>=0){const ht=it.indexOf(at);ht!==-1&&it.splice(ht,1);for(let ct=0;ct<it.length;ct++)if(nt[it[ct]].priority<=dt)return void it.splice(ct,0,at);it.push(at)}}},_e.resolveBackend=async at=>{const ut=at.length===0?it:at,dt=[];for(const ft of ut){const ht=nt[ft];if(ht){if(ht.initialized)return ht.backend;if(ht.aborted)continue;const ct=!!ht.initPromise;try{return ct||(ht.initPromise=ht.backend.init()),await ht.initPromise,ht.initialized=!0,ht.backend}catch(lt){ct||dt.push({name:ft,err:lt}),ht.aborted=!0}finally{delete ht.initPromise}}}throw new Error(`no available backend found. ERR: ${dt.map(ft=>`[${ft.name}] ${ft.err}`).join(", ")}`)}},4798:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.registerBackend=void 0;var it=nt(685);Object.defineProperty(_e,"registerBackend",{enumerable:!0,get:function(){return it.registerBackend}})},3121:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.env=void 0;const it=nt(9104);let at="warning";_e.env={wasm:{},webgl:{},webgpu:{},versions:{common:it.version},set logLevel(ut){if(ut!==void 0){if(typeof ut!="string"||["verbose","info","warning","error","fatal"].indexOf(ut)===-1)throw new Error(`Unsupported logging level: ${ut}`);at=ut}},get logLevel(){return at}},Object.defineProperty(_e.env,"logLevel",{enumerable:!0})},2457:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.env=void 0;const it=nt(3121);_e.env=it.env},2235:function(et,_e,nt){var it=this&&this.__createBinding||(Object.create?function(ut,dt,ft,ht){ht===void 0&&(ht=ft);var ct=Object.getOwnPropertyDescriptor(dt,ft);ct&&!("get"in ct?!dt.__esModule:ct.writable||ct.configurable)||(ct={enumerable:!0,get:function(){return dt[ft]}}),Object.defineProperty(ut,ht,ct)}:function(ut,dt,ft,ht){ht===void 0&&(ht=ft),ut[ht]=dt[ft]}),at=this&&this.__exportStar||function(ut,dt){for(var ft in ut)ft==="default"||Object.prototype.hasOwnProperty.call(dt,ft)||it(dt,ut,ft)};Object.defineProperty(_e,"__esModule",{value:!0}),at(nt(4798),_e),at(nt(2457),_e),at(nt(3974),_e),at(nt(963),_e),at(nt(7852),_e)},8036:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.InferenceSession=void 0;const it=nt(685),at=nt(963);class ut{constructor(ft){this.handler=ft}async run(ft,ht,ct){const lt={};let ot={};if(typeof ft!="object"||ft===null||ft instanceof at.Tensor||Array.isArray(ft))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let tt=!0;if(typeof ht=="object"){if(ht===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(ht instanceof at.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(ht)){if(ht.length===0)throw new TypeError("'fetches' cannot be an empty array.");tt=!1;for(const pt of ht){if(typeof pt!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(pt)===-1)throw new RangeError(`'fetches' contains invalid output name: ${pt}.`);lt[pt]=null}if(typeof ct=="object"&&ct!==null)ot=ct;else if(ct!==void 0)throw new TypeError("'options' must be an object.")}else{let pt=!1;const gt=Object.getOwnPropertyNames(ht);for(const mt of this.outputNames)if(gt.indexOf(mt)!==-1){const yt=ht[mt];(yt===null||yt instanceof at.Tensor)&&(pt=!0,tt=!1,lt[mt]=yt)}if(pt){if(typeof ct=="object"&&ct!==null)ot=ct;else if(ct!==void 0)throw new TypeError("'options' must be an object.")}else ot=ht}}else if(ht!==void 0)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const pt of this.inputNames)if(ft[pt]===void 0)throw new Error(`input '${pt}' is missing in 'feeds'.`);if(tt)for(const pt of this.outputNames)lt[pt]=null;const rt=await this.handler.run(ft,lt,ot),st={};for(const pt in rt)Object.hasOwnProperty.call(rt,pt)&&(st[pt]=new at.Tensor(rt[pt].type,rt[pt].data,rt[pt].dims));return st}async release(){return this.handler.dispose()}static async create(ft,ht,ct,lt){let ot,tt={};if(typeof ft=="string"){if(ot=ft,typeof ht=="object"&&ht!==null)tt=ht;else if(ht!==void 0)throw new TypeError("'options' must be an object.")}else if(ft instanceof Uint8Array){if(ot=ft,typeof ht=="object"&&ht!==null)tt=ht;else if(ht!==void 0)throw new TypeError("'options' must be an object.")}else{if(!(ft instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&ft instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const gt=ft;let mt=0,yt=ft.byteLength;if(typeof ht=="object"&&ht!==null)tt=ht;else if(typeof ht=="number"){if(mt=ht,!Number.isSafeInteger(mt))throw new RangeError("'byteOffset' must be an integer.");if(mt<0||mt>=gt.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${gt.byteLength}).`);if(yt=ft.byteLength-mt,typeof ct=="number"){if(yt=ct,!Number.isSafeInteger(yt))throw new RangeError("'byteLength' must be an integer.");if(yt<=0||mt+yt>gt.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${gt.byteLength-mt}].`);if(typeof lt=="object"&&lt!==null)tt=lt;else if(lt!==void 0)throw new TypeError("'options' must be an object.")}else if(ct!==void 0)throw new TypeError("'byteLength' must be a number.")}else if(ht!==void 0)throw new TypeError("'options' must be an object.");ot=new Uint8Array(gt,mt,yt)}}const rt=(tt.executionProviders||[]).map(gt=>typeof gt=="string"?gt:gt.name),st=await(0,it.resolveBackend)(rt),pt=await st.createSessionHandler(ot,tt);return new ut(pt)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}_e.InferenceSession=ut},3974:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.InferenceSession=void 0;const it=nt(8036);_e.InferenceSession=it.InferenceSession},7852:(et,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0})},2350:(et,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.tensorToImageData=_e.tensorToDataURL=void 0,_e.tensorToDataURL=(nt,it)=>{const at=document.createElement("canvas");at.width=nt.dims[3],at.height=nt.dims[2];const ut=at.getContext("2d");if(ut!=null){let dt,ft;(it==null?void 0:it.tensorLayout)!==void 0&&it.tensorLayout==="NHWC"?(dt=nt.dims[2],ft=nt.dims[3]):(dt=nt.dims[3],ft=nt.dims[2]);const ht=(it==null?void 0:it.format)!==void 0?it.format:"RGB",ct=it==null?void 0:it.norm;let lt,ot;ct===void 0||ct.mean===void 0?lt=[255,255,255,255]:typeof ct.mean=="number"?lt=[ct.mean,ct.mean,ct.mean,ct.mean]:(lt=[ct.mean[0],ct.mean[1],ct.mean[2],0],ct.mean[3]!==void 0&&(lt[3]=ct.mean[3])),ct===void 0||ct.bias===void 0?ot=[0,0,0,0]:typeof ct.bias=="number"?ot=[ct.bias,ct.bias,ct.bias,ct.bias]:(ot=[ct.bias[0],ct.bias[1],ct.bias[2],0],ct.bias[3]!==void 0&&(ot[3]=ct.bias[3]));const tt=ft*dt;let rt=0,st=tt,pt=2*tt,gt=-1;ht==="RGBA"?(rt=0,st=tt,pt=2*tt,gt=3*tt):ht==="RGB"?(rt=0,st=tt,pt=2*tt):ht==="RBG"&&(rt=0,pt=tt,st=2*tt);for(let mt=0;mt<ft;mt++)for(let yt=0;yt<dt;yt++){const bt=(nt.data[rt++]-ot[0])*lt[0],vt=(nt.data[st++]-ot[1])*lt[1],wt=(nt.data[pt++]-ot[2])*lt[2],xt=gt===-1?255:(nt.data[gt++]-ot[3])*lt[3];ut.fillStyle="rgba("+bt+","+vt+","+wt+","+xt+")",ut.fillRect(yt,mt,1,1)}return at.toDataURL()}throw new Error("Can not access image data")},_e.tensorToImageData=(nt,it)=>{const at=document.createElement("canvas").getContext("2d");let ut;if(at==null)throw new Error("Can not access image data");{let dt,ft,ht;(it==null?void 0:it.tensorLayout)!==void 0&&it.tensorLayout==="NHWC"?(dt=nt.dims[2],ft=nt.dims[1],ht=nt.dims[3]):(dt=nt.dims[3],ft=nt.dims[2],ht=nt.dims[1]);const ct=it!==void 0&&it.format!==void 0?it.format:"RGB",lt=it==null?void 0:it.norm;let ot,tt;lt===void 0||lt.mean===void 0?ot=[255,255,255,255]:typeof lt.mean=="number"?ot=[lt.mean,lt.mean,lt.mean,lt.mean]:(ot=[lt.mean[0],lt.mean[1],lt.mean[2],255],lt.mean[3]!==void 0&&(ot[3]=lt.mean[3])),lt===void 0||lt.bias===void 0?tt=[0,0,0,0]:typeof lt.bias=="number"?tt=[lt.bias,lt.bias,lt.bias,lt.bias]:(tt=[lt.bias[0],lt.bias[1],lt.bias[2],0],lt.bias[3]!==void 0&&(tt[3]=lt.bias[3]));const rt=ft*dt;if(it!==void 0&&(it.format!==void 0&&ht===4&&it.format!=="RGBA"||ht===3&&it.format!=="RGB"&&it.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");const st=4;let pt=0,gt=1,mt=2,yt=3,bt=0,vt=rt,wt=2*rt,xt=-1;ct==="RGBA"?(bt=0,vt=rt,wt=2*rt,xt=3*rt):ct==="RGB"?(bt=0,vt=rt,wt=2*rt):ct==="RBG"&&(bt=0,wt=rt,vt=2*rt),ut=at.createImageData(dt,ft);for(let Tt=0;Tt<ft*dt;pt+=st,gt+=st,mt+=st,yt+=st,Tt++)ut.data[pt]=(nt.data[bt++]-tt[0])*ot[0],ut.data[gt]=(nt.data[vt++]-tt[1])*ot[1],ut.data[mt]=(nt.data[wt++]-tt[2])*ot[2],ut.data[yt]=xt===-1?255:(nt.data[xt++]-tt[3])*ot[3]}return ut}},4866:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.tensorFromImage=_e.bufferToTensor=void 0;const it=nt(963);_e.bufferToTensor=(at,ut)=>{if(at===void 0)throw new Error("Image buffer must be defined");if(ut.height===void 0||ut.width===void 0)throw new Error("Image height and width must be defined");if(ut.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");const{height:dt,width:ft}=ut,ht=ut.norm??{mean:255,bias:0};let ct,lt;ct=typeof ht.mean=="number"?[ht.mean,ht.mean,ht.mean,ht.mean]:[ht.mean[0],ht.mean[1],ht.mean[2],ht.mean[3]??255],lt=typeof ht.bias=="number"?[ht.bias,ht.bias,ht.bias,ht.bias]:[ht.bias[0],ht.bias[1],ht.bias[2],ht.bias[3]??0];const ot=ut.format!==void 0?ut.format:"RGBA",tt=ut.tensorFormat!==void 0&&ut.tensorFormat!==void 0?ut.tensorFormat:"RGB",rt=dt*ft,st=tt==="RGBA"?new Float32Array(4*rt):new Float32Array(3*rt);let pt=4,gt=0,mt=1,yt=2,bt=3,vt=0,wt=rt,xt=2*rt,Tt=-1;ot==="RGB"&&(pt=3,gt=0,mt=1,yt=2,bt=-1),tt==="RGBA"?Tt=3*rt:tt==="RBG"?(vt=0,xt=rt,wt=2*rt):tt==="BGR"&&(xt=0,wt=rt,vt=2*rt);for(let Ot=0;Ot<rt;Ot++,gt+=pt,yt+=pt,mt+=pt,bt+=pt)st[vt++]=(at[gt]+lt[0])/ct[0],st[wt++]=(at[mt]+lt[1])/ct[1],st[xt++]=(at[yt]+lt[2])/ct[2],Tt!==-1&&bt!==-1&&(st[Tt++]=(at[bt]+lt[3])/ct[3]);return tt==="RGBA"?new it.Tensor("float32",st,[1,4,dt,ft]):new it.Tensor("float32",st,[1,3,dt,ft])},_e.tensorFromImage=async(at,ut)=>{const dt=typeof HTMLImageElement<"u"&&at instanceof HTMLImageElement,ft=typeof ImageData<"u"&&at instanceof ImageData,ht=typeof ImageBitmap<"u"&&at instanceof ImageBitmap,ct=typeof at=="string";let lt,ot=ut??{};if(dt){const tt=document.createElement("canvas");tt.width=at.width,tt.height=at.height;const rt=tt.getContext("2d");if(rt==null)throw new Error("Can not access image data");{let st=at.height,pt=at.width;if(ut!==void 0&&ut.resizedHeight!==void 0&&ut.resizedWidth!==void 0&&(st=ut.resizedHeight,pt=ut.resizedWidth),ut!==void 0){if(ot=ut,ut.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");ot.tensorFormat="RGBA",ot.height=st,ot.width=pt}else ot.tensorFormat="RGBA",ot.height=st,ot.width=pt;rt.drawImage(at,0,0),lt=rt.getImageData(0,0,pt,st).data}}else{if(!ft){if(ht){if(ut===void 0)throw new Error("Please provide image config with format for Imagebitmap");const tt=document.createElement("canvas");tt.width=at.width,tt.height=at.height;const rt=tt.getContext("2d");if(rt!=null){const st=at.height,pt=at.width;return rt.drawImage(at,0,0,pt,st),lt=rt.getImageData(0,0,pt,st).data,ot.height=st,ot.width=pt,(0,_e.bufferToTensor)(lt,ot)}throw new Error("Can not access image data")}if(ct)return new Promise((tt,rt)=>{const st=document.createElement("canvas"),pt=st.getContext("2d");if(!at||!pt)return rt();const gt=new Image;gt.crossOrigin="Anonymous",gt.src=at,gt.onload=()=>{st.width=gt.width,st.height=gt.height,pt.drawImage(gt,0,0,st.width,st.height);const mt=pt.getImageData(0,0,st.width,st.height);ot.height=st.height,ot.width=st.width,tt((0,_e.bufferToTensor)(mt.data,ot))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{let tt,rt;if(ut!==void 0&&ut.resizedWidth!==void 0&&ut.resizedHeight!==void 0?(tt=ut.resizedHeight,rt=ut.resizedWidth):(tt=at.height,rt=at.width),ut!==void 0&&(ot=ut),ot.format="RGBA",ot.height=tt,ot.width=rt,ut!==void 0){const st=document.createElement("canvas");st.width=rt,st.height=tt;const pt=st.getContext("2d");if(pt==null)throw new Error("Can not access image data");pt.putImageData(at,0,0),lt=pt.getImageData(0,0,rt,tt).data}else lt=at.data}}if(lt!==void 0)return(0,_e.bufferToTensor)(lt,ot);throw new Error("Input data provided is not supported - aborted tensor creation")}},5957:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Tensor=void 0;const it=nt(2350),at=nt(4866),ut=nt(106),dt=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),ft=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let ht=!1;_e.Tensor=class{constructor(ct,lt,ot){let tt,rt,st;if((()=>{if(!ht){ht=!0;const gt=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",mt=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";gt&&(dt.set("int64",BigInt64Array),ft.set(BigInt64Array,"int64")),mt&&(dt.set("uint64",BigUint64Array),ft.set(BigUint64Array,"uint64"))}})(),typeof ct=="string")if(tt=ct,st=ot,ct==="string"){if(!Array.isArray(lt))throw new TypeError("A string tensor's data must be a string array.");rt=lt}else{const gt=dt.get(ct);if(gt===void 0)throw new TypeError(`Unsupported tensor type: ${ct}.`);if(Array.isArray(lt)){if(ct==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");rt=ct==="uint64"||ct==="int64"?gt.from(lt,BigInt):gt.from(lt)}else{if(!(lt instanceof gt))throw new TypeError(`A ${tt} tensor's data must be type of ${gt}`);rt=lt}}else if(st=lt,Array.isArray(ct)){if(ct.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const gt=typeof ct[0];if(gt==="string")tt="string",rt=ct;else{if(gt!=="boolean")throw new TypeError(`Invalid element type of data array: ${gt}.`);tt="bool",rt=Uint8Array.from(ct)}}else{const gt=ft.get(ct.constructor);if(gt===void 0)throw new TypeError(`Unsupported type for tensor data: ${ct.constructor}.`);tt=gt,rt=ct}if(st===void 0)st=[rt.length];else if(!Array.isArray(st))throw new TypeError("A tensor's dims must be a number array");const pt=(0,ut.calculateSize)(st);if(pt!==rt.length)throw new Error(`Tensor's size(${pt}) does not match data length(${rt.length}).`);this.dims=st,this.type=tt,this.data=rt,this.size=pt}static async fromImage(ct,lt){return(0,at.tensorFromImage)(ct,lt)}toDataURL(ct){return(0,it.tensorToDataURL)(this,ct)}toImageData(ct){return(0,it.tensorToImageData)(this,ct)}reshape(ct){return(0,ut.tensorReshape)(this,ct)}}},106:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.tensorReshape=_e.calculateSize=void 0;const it=nt(963);_e.calculateSize=at=>{let ut=1;for(let dt=0;dt<at.length;dt++){const ft=at[dt];if(typeof ft!="number"||!Number.isSafeInteger(ft))throw new TypeError(`dims[${dt}] must be an integer, got: ${ft}`);if(ft<0)throw new RangeError(`dims[${dt}] must be a non-negative integer, got: ${ft}`);ut*=ft}return ut},_e.tensorReshape=(at,ut)=>new it.Tensor(at.type,at.data,ut)},963:(et,_e,nt)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.Tensor=void 0;const it=nt(5957);_e.Tensor=it.Tensor},9104:(et,_e)=>{Object.defineProperty(_e,"__esModule",{value:!0}),_e.version=void 0,_e.version="1.16.3"},1583:(et,_e)=>{var nt,it=function(at){Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var ut=null;try{ut=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function dt(Et,At,jt){this.low=0|Et,this.high=0|At,this.unsigned=!!jt}function ft(Et){return(Et&&Et.__isLong__)===!0}function ht(Et){var At=Math.clz32(Et&-Et);return Et?31-At:At}dt.prototype.__isLong__,Object.defineProperty(dt.prototype,"__isLong__",{value:!0}),dt.isLong=ft;var ct={},lt={};function ot(Et,At){var jt,Mt,Lt;return At?(Lt=0<=(Et>>>=0)&&Et<256)&&(Mt=lt[Et])?Mt:(jt=rt(Et,0,!0),Lt&&(lt[Et]=jt),jt):(Lt=-128<=(Et|=0)&&Et<128)&&(Mt=ct[Et])?Mt:(jt=rt(Et,Et<0?-1:0,!1),Lt&&(ct[Et]=jt),jt)}function tt(Et,At){if(isNaN(Et))return At?xt:wt;if(At){if(Et<0)return xt;if(Et>=yt)return Rt}else{if(Et<=-bt)return Ft;if(Et+1>=bt)return It}return Et<0?tt(-Et,At).neg():rt(Et%mt|0,Et/mt|0,At)}function rt(Et,At,jt){return new dt(Et,At,jt)}dt.fromInt=ot,dt.fromNumber=tt,dt.fromBits=rt;var st=Math.pow;function pt(Et,At,jt){if(Et.length===0)throw Error("empty string");if(typeof At=="number"?(jt=At,At=!1):At=!!At,Et==="NaN"||Et==="Infinity"||Et==="+Infinity"||Et==="-Infinity")return At?xt:wt;if((jt=jt||10)<2||36<jt)throw RangeError("radix");var Mt;if((Mt=Et.indexOf("-"))>0)throw Error("interior hyphen");if(Mt===0)return pt(Et.substring(1),At,jt).neg();for(var Lt=tt(st(jt,8)),Kt=wt,qt=0;qt<Et.length;qt+=8){var Qt=Math.min(8,Et.length-qt),Zt=parseInt(Et.substring(qt,qt+Qt),jt);if(Qt<8){var tn=tt(st(jt,Qt));Kt=Kt.mul(tn).add(tt(Zt))}else Kt=(Kt=Kt.mul(Lt)).add(tt(Zt))}return Kt.unsigned=At,Kt}function gt(Et,At){return typeof Et=="number"?tt(Et,At):typeof Et=="string"?pt(Et,At):rt(Et.low,Et.high,typeof At=="boolean"?At:Et.unsigned)}dt.fromString=pt,dt.fromValue=gt;var mt=4294967296,yt=mt*mt,bt=yt/2,vt=ot(1<<24),wt=ot(0);dt.ZERO=wt;var xt=ot(0,!0);dt.UZERO=xt;var Tt=ot(1);dt.ONE=Tt;var Ot=ot(1,!0);dt.UONE=Ot;var $t=ot(-1);dt.NEG_ONE=$t;var It=rt(-1,2147483647,!1);dt.MAX_VALUE=It;var Rt=rt(-1,-1,!0);dt.MAX_UNSIGNED_VALUE=Rt;var Ft=rt(0,-2147483648,!1);dt.MIN_VALUE=Ft;var Pt=dt.prototype;Pt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Pt.toNumber=function(){return this.unsigned?(this.high>>>0)*mt+(this.low>>>0):this.high*mt+(this.low>>>0)},Pt.toString=function(Et){if((Et=Et||10)<2||36<Et)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ft)){var At=tt(Et),jt=this.div(At),Mt=jt.mul(At).sub(this);return jt.toString(Et)+Mt.toInt().toString(Et)}return"-"+this.neg().toString(Et)}for(var Lt=tt(st(Et,6),this.unsigned),Kt=this,qt="";;){var Qt=Kt.div(Lt),Zt=(Kt.sub(Qt.mul(Lt)).toInt()>>>0).toString(Et);if((Kt=Qt).isZero())return Zt+qt;for(;Zt.length<6;)Zt="0"+Zt;qt=""+Zt+qt}},Pt.getHighBits=function(){return this.high},Pt.getHighBitsUnsigned=function(){return this.high>>>0},Pt.getLowBits=function(){return this.low},Pt.getLowBitsUnsigned=function(){return this.low>>>0},Pt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ft)?64:this.neg().getNumBitsAbs();for(var Et=this.high!=0?this.high:this.low,At=31;At>0&&!(Et&1<<At);At--);return this.high!=0?At+33:At+1},Pt.isZero=function(){return this.high===0&&this.low===0},Pt.eqz=Pt.isZero,Pt.isNegative=function(){return!this.unsigned&&this.high<0},Pt.isPositive=function(){return this.unsigned||this.high>=0},Pt.isOdd=function(){return(1&this.low)==1},Pt.isEven=function(){return(1&this.low)==0},Pt.equals=function(Et){return ft(Et)||(Et=gt(Et)),(this.unsigned===Et.unsigned||this.high>>>31!=1||Et.high>>>31!=1)&&this.high===Et.high&&this.low===Et.low},Pt.eq=Pt.equals,Pt.notEquals=function(Et){return!this.eq(Et)},Pt.neq=Pt.notEquals,Pt.ne=Pt.notEquals,Pt.lessThan=function(Et){return this.comp(Et)<0},Pt.lt=Pt.lessThan,Pt.lessThanOrEqual=function(Et){return this.comp(Et)<=0},Pt.lte=Pt.lessThanOrEqual,Pt.le=Pt.lessThanOrEqual,Pt.greaterThan=function(Et){return this.comp(Et)>0},Pt.gt=Pt.greaterThan,Pt.greaterThanOrEqual=function(Et){return this.comp(Et)>=0},Pt.gte=Pt.greaterThanOrEqual,Pt.ge=Pt.greaterThanOrEqual,Pt.compare=function(Et){if(ft(Et)||(Et=gt(Et)),this.eq(Et))return 0;var At=this.isNegative(),jt=Et.isNegative();return At&&!jt?-1:!At&&jt?1:this.unsigned?Et.high>>>0>this.high>>>0||Et.high===this.high&&Et.low>>>0>this.low>>>0?-1:1:this.sub(Et).isNegative()?-1:1},Pt.comp=Pt.compare,Pt.negate=function(){return!this.unsigned&&this.eq(Ft)?Ft:this.not().add(Tt)},Pt.neg=Pt.negate,Pt.add=function(Et){ft(Et)||(Et=gt(Et));var At=this.high>>>16,jt=65535&this.high,Mt=this.low>>>16,Lt=65535&this.low,Kt=Et.high>>>16,qt=65535&Et.high,Qt=Et.low>>>16,Zt=0,tn=0,nn=0,sn=0;return nn+=(sn+=Lt+(65535&Et.low))>>>16,tn+=(nn+=Mt+Qt)>>>16,Zt+=(tn+=jt+qt)>>>16,Zt+=At+Kt,rt((nn&=65535)<<16|(sn&=65535),(Zt&=65535)<<16|(tn&=65535),this.unsigned)},Pt.subtract=function(Et){return ft(Et)||(Et=gt(Et)),this.add(Et.neg())},Pt.sub=Pt.subtract,Pt.multiply=function(Et){if(this.isZero())return this;if(ft(Et)||(Et=gt(Et)),ut)return rt(ut.mul(this.low,this.high,Et.low,Et.high),ut.get_high(),this.unsigned);if(Et.isZero())return this.unsigned?xt:wt;if(this.eq(Ft))return Et.isOdd()?Ft:wt;if(Et.eq(Ft))return this.isOdd()?Ft:wt;if(this.isNegative())return Et.isNegative()?this.neg().mul(Et.neg()):this.neg().mul(Et).neg();if(Et.isNegative())return this.mul(Et.neg()).neg();if(this.lt(vt)&&Et.lt(vt))return tt(this.toNumber()*Et.toNumber(),this.unsigned);var At=this.high>>>16,jt=65535&this.high,Mt=this.low>>>16,Lt=65535&this.low,Kt=Et.high>>>16,qt=65535&Et.high,Qt=Et.low>>>16,Zt=65535&Et.low,tn=0,nn=0,sn=0,an=0;return sn+=(an+=Lt*Zt)>>>16,nn+=(sn+=Mt*Zt)>>>16,sn&=65535,nn+=(sn+=Lt*Qt)>>>16,tn+=(nn+=jt*Zt)>>>16,nn&=65535,tn+=(nn+=Mt*Qt)>>>16,nn&=65535,tn+=(nn+=Lt*qt)>>>16,tn+=At*Zt+jt*Qt+Mt*qt+Lt*Kt,rt((sn&=65535)<<16|(an&=65535),(tn&=65535)<<16|(nn&=65535),this.unsigned)},Pt.mul=Pt.multiply,Pt.divide=function(Et){if(ft(Et)||(Et=gt(Et)),Et.isZero())throw Error("division by zero");var At,jt,Mt;if(ut)return this.unsigned||this.high!==-2147483648||Et.low!==-1||Et.high!==-1?rt((this.unsigned?ut.div_u:ut.div_s)(this.low,this.high,Et.low,Et.high),ut.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?xt:wt;if(this.unsigned){if(Et.unsigned||(Et=Et.toUnsigned()),Et.gt(this))return xt;if(Et.gt(this.shru(1)))return Ot;Mt=xt}else{if(this.eq(Ft))return Et.eq(Tt)||Et.eq($t)?Ft:Et.eq(Ft)?Tt:(At=this.shr(1).div(Et).shl(1)).eq(wt)?Et.isNegative()?Tt:$t:(jt=this.sub(Et.mul(At)),Mt=At.add(jt.div(Et)));if(Et.eq(Ft))return this.unsigned?xt:wt;if(this.isNegative())return Et.isNegative()?this.neg().div(Et.neg()):this.neg().div(Et).neg();if(Et.isNegative())return this.div(Et.neg()).neg();Mt=wt}for(jt=this;jt.gte(Et);){At=Math.max(1,Math.floor(jt.toNumber()/Et.toNumber()));for(var Lt=Math.ceil(Math.log(At)/Math.LN2),Kt=Lt<=48?1:st(2,Lt-48),qt=tt(At),Qt=qt.mul(Et);Qt.isNegative()||Qt.gt(jt);)Qt=(qt=tt(At-=Kt,this.unsigned)).mul(Et);qt.isZero()&&(qt=Tt),Mt=Mt.add(qt),jt=jt.sub(Qt)}return Mt},Pt.div=Pt.divide,Pt.modulo=function(Et){return ft(Et)||(Et=gt(Et)),ut?rt((this.unsigned?ut.rem_u:ut.rem_s)(this.low,this.high,Et.low,Et.high),ut.get_high(),this.unsigned):this.sub(this.div(Et).mul(Et))},Pt.mod=Pt.modulo,Pt.rem=Pt.modulo,Pt.not=function(){return rt(~this.low,~this.high,this.unsigned)},Pt.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Pt.clz=Pt.countLeadingZeros,Pt.countTrailingZeros=function(){return this.low?ht(this.low):ht(this.high)+32},Pt.ctz=Pt.countTrailingZeros,Pt.and=function(Et){return ft(Et)||(Et=gt(Et)),rt(this.low&Et.low,this.high&Et.high,this.unsigned)},Pt.or=function(Et){return ft(Et)||(Et=gt(Et)),rt(this.low|Et.low,this.high|Et.high,this.unsigned)},Pt.xor=function(Et){return ft(Et)||(Et=gt(Et)),rt(this.low^Et.low,this.high^Et.high,this.unsigned)},Pt.shiftLeft=function(Et){return ft(Et)&&(Et=Et.toInt()),(Et&=63)==0?this:Et<32?rt(this.low<<Et,this.high<<Et|this.low>>>32-Et,this.unsigned):rt(0,this.low<<Et-32,this.unsigned)},Pt.shl=Pt.shiftLeft,Pt.shiftRight=function(Et){return ft(Et)&&(Et=Et.toInt()),(Et&=63)==0?this:Et<32?rt(this.low>>>Et|this.high<<32-Et,this.high>>Et,this.unsigned):rt(this.high>>Et-32,this.high>=0?0:-1,this.unsigned)},Pt.shr=Pt.shiftRight,Pt.shiftRightUnsigned=function(Et){return ft(Et)&&(Et=Et.toInt()),(Et&=63)==0?this:Et<32?rt(this.low>>>Et|this.high<<32-Et,this.high>>>Et,this.unsigned):rt(Et===32?this.high:this.high>>>Et-32,0,this.unsigned)},Pt.shru=Pt.shiftRightUnsigned,Pt.shr_u=Pt.shiftRightUnsigned,Pt.rotateLeft=function(Et){var At;return ft(Et)&&(Et=Et.toInt()),(Et&=63)==0?this:Et===32?rt(this.high,this.low,this.unsigned):Et<32?(At=32-Et,rt(this.low<<Et|this.high>>>At,this.high<<Et|this.low>>>At,this.unsigned)):(At=32-(Et-=32),rt(this.high<<Et|this.low>>>At,this.low<<Et|this.high>>>At,this.unsigned))},Pt.rotl=Pt.rotateLeft,Pt.rotateRight=function(Et){var At;return ft(Et)&&(Et=Et.toInt()),(Et&=63)==0?this:Et===32?rt(this.high,this.low,this.unsigned):Et<32?(At=32-Et,rt(this.high<<At|this.low>>>Et,this.low<<At|this.high>>>Et,this.unsigned)):(At=32-(Et-=32),rt(this.low<<At|this.high>>>Et,this.high<<At|this.low>>>Et,this.unsigned))},Pt.rotr=Pt.rotateRight,Pt.toSigned=function(){return this.unsigned?rt(this.low,this.high,!1):this},Pt.toUnsigned=function(){return this.unsigned?this:rt(this.low,this.high,!0)},Pt.toBytes=function(Et){return Et?this.toBytesLE():this.toBytesBE()},Pt.toBytesLE=function(){var Et=this.high,At=this.low;return[255&At,At>>>8&255,At>>>16&255,At>>>24,255&Et,Et>>>8&255,Et>>>16&255,Et>>>24]},Pt.toBytesBE=function(){var Et=this.high,At=this.low;return[Et>>>24,Et>>>16&255,Et>>>8&255,255&Et,At>>>24,At>>>16&255,At>>>8&255,255&At]},dt.fromBytes=function(Et,At,jt){return jt?dt.fromBytesLE(Et,At):dt.fromBytesBE(Et,At)},dt.fromBytesLE=function(Et,At){return new dt(Et[0]|Et[1]<<8|Et[2]<<16|Et[3]<<24,Et[4]|Et[5]<<8|Et[6]<<16|Et[7]<<24,At)},dt.fromBytesBE=function(Et,At){return new dt(Et[4]<<24|Et[5]<<16|Et[6]<<8|Et[7],Et[0]<<24|Et[1]<<16|Et[2]<<8|Et[3],At)};var Bt=dt;return at.default=Bt,"default"in at?at.default:at}({});(nt=(function(){return it}).apply(_e,[]))===void 0||(et.exports=nt)},5686:(et,_e,nt)=>{nt.r(_e),nt.d(_e,{flatbuffers:()=>it});var it={};it.Offset,it.Table,it.SIZEOF_SHORT=2,it.SIZEOF_INT=4,it.FILE_IDENTIFIER_LENGTH=4,it.SIZE_PREFIX_LENGTH=4,it.Encoding={UTF8_BYTES:1,UTF16_STRING:2},it.int32=new Int32Array(2),it.float32=new Float32Array(it.int32.buffer),it.float64=new Float64Array(it.int32.buffer),it.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,it.Long=function(at,ut){this.low=0|at,this.high=0|ut},it.Long.create=function(at,ut){return at==0&&ut==0?it.Long.ZERO:new it.Long(at,ut)},it.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},it.Long.prototype.equals=function(at){return this.low==at.low&&this.high==at.high},it.Long.ZERO=new it.Long(0,0),it.Builder=function(at){if(at)ut=at;else var ut=1024;this.bb=it.ByteBuffer.allocate(ut),this.space=ut,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},it.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},it.Builder.prototype.forceDefaults=function(at){this.force_defaults=at},it.Builder.prototype.dataBuffer=function(){return this.bb},it.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},it.Builder.prototype.prep=function(at,ut){at>this.minalign&&(this.minalign=at);for(var dt=1+~(this.bb.capacity()-this.space+ut)&at-1;this.space<dt+at+ut;){var ft=this.bb.capacity();this.bb=it.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-ft}this.pad(dt)},it.Builder.prototype.pad=function(at){for(var ut=0;ut<at;ut++)this.bb.writeInt8(--this.space,0)},it.Builder.prototype.writeInt8=function(at){this.bb.writeInt8(this.space-=1,at)},it.Builder.prototype.writeInt16=function(at){this.bb.writeInt16(this.space-=2,at)},it.Builder.prototype.writeInt32=function(at){this.bb.writeInt32(this.space-=4,at)},it.Builder.prototype.writeInt64=function(at){this.bb.writeInt64(this.space-=8,at)},it.Builder.prototype.writeFloat32=function(at){this.bb.writeFloat32(this.space-=4,at)},it.Builder.prototype.writeFloat64=function(at){this.bb.writeFloat64(this.space-=8,at)},it.Builder.prototype.addInt8=function(at){this.prep(1,0),this.writeInt8(at)},it.Builder.prototype.addInt16=function(at){this.prep(2,0),this.writeInt16(at)},it.Builder.prototype.addInt32=function(at){this.prep(4,0),this.writeInt32(at)},it.Builder.prototype.addInt64=function(at){this.prep(8,0),this.writeInt64(at)},it.Builder.prototype.addFloat32=function(at){this.prep(4,0),this.writeFloat32(at)},it.Builder.prototype.addFloat64=function(at){this.prep(8,0),this.writeFloat64(at)},it.Builder.prototype.addFieldInt8=function(at,ut,dt){(this.force_defaults||ut!=dt)&&(this.addInt8(ut),this.slot(at))},it.Builder.prototype.addFieldInt16=function(at,ut,dt){(this.force_defaults||ut!=dt)&&(this.addInt16(ut),this.slot(at))},it.Builder.prototype.addFieldInt32=function(at,ut,dt){(this.force_defaults||ut!=dt)&&(this.addInt32(ut),this.slot(at))},it.Builder.prototype.addFieldInt64=function(at,ut,dt){!this.force_defaults&&ut.equals(dt)||(this.addInt64(ut),this.slot(at))},it.Builder.prototype.addFieldFloat32=function(at,ut,dt){(this.force_defaults||ut!=dt)&&(this.addFloat32(ut),this.slot(at))},it.Builder.prototype.addFieldFloat64=function(at,ut,dt){(this.force_defaults||ut!=dt)&&(this.addFloat64(ut),this.slot(at))},it.Builder.prototype.addFieldOffset=function(at,ut,dt){(this.force_defaults||ut!=dt)&&(this.addOffset(ut),this.slot(at))},it.Builder.prototype.addFieldStruct=function(at,ut,dt){ut!=dt&&(this.nested(ut),this.slot(at))},it.Builder.prototype.nested=function(at){if(at!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},it.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},it.Builder.prototype.slot=function(at){this.vtable[at]=this.offset()},it.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},it.Builder.growByteBuffer=function(at){var ut=at.capacity();if(3221225472&ut)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var dt=ut<<1,ft=it.ByteBuffer.allocate(dt);return ft.setPosition(dt-ut),ft.bytes().set(at.bytes(),dt-ut),ft},it.Builder.prototype.addOffset=function(at){this.prep(it.SIZEOF_INT,0),this.writeInt32(this.offset()-at+it.SIZEOF_INT)},it.Builder.prototype.startObject=function(at){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=at;for(var ut=0;ut<at;ut++)this.vtable[ut]=0;this.isNested=!0,this.object_start=this.offset()},it.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var at=this.offset(),ut=this.vtable_in_use-1;ut>=0&&this.vtable[ut]==0;ut--);for(var dt=ut+1;ut>=0;ut--)this.addInt16(this.vtable[ut]!=0?at-this.vtable[ut]:0);this.addInt16(at-this.object_start);var ft=(dt+2)*it.SIZEOF_SHORT;this.addInt16(ft);var ht=0,ct=this.space;e:for(ut=0;ut<this.vtables.length;ut++){var lt=this.bb.capacity()-this.vtables[ut];if(ft==this.bb.readInt16(lt)){for(var ot=it.SIZEOF_SHORT;ot<ft;ot+=it.SIZEOF_SHORT)if(this.bb.readInt16(ct+ot)!=this.bb.readInt16(lt+ot))continue e;ht=this.vtables[ut];break}}return ht?(this.space=this.bb.capacity()-at,this.bb.writeInt32(this.space,ht-at)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-at,this.offset()-at)),this.isNested=!1,at},it.Builder.prototype.finish=function(at,ut,dt){var ft=dt?it.SIZE_PREFIX_LENGTH:0;if(ut){var ht=ut;if(this.prep(this.minalign,it.SIZEOF_INT+it.FILE_IDENTIFIER_LENGTH+ft),ht.length!=it.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+it.FILE_IDENTIFIER_LENGTH);for(var ct=it.FILE_IDENTIFIER_LENGTH-1;ct>=0;ct--)this.writeInt8(ht.charCodeAt(ct))}this.prep(this.minalign,it.SIZEOF_INT+ft),this.addOffset(at),ft&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},it.Builder.prototype.finishSizePrefixed=function(at,ut){this.finish(at,ut,!0)},it.Builder.prototype.requiredField=function(at,ut){var dt=this.bb.capacity()-at,ft=dt-this.bb.readInt32(dt);if(this.bb.readInt16(ft+ut)==0)throw new Error("FlatBuffers: field "+ut+" must be set")},it.Builder.prototype.startVector=function(at,ut,dt){this.notNested(),this.vector_num_elems=ut,this.prep(it.SIZEOF_INT,at*ut),this.prep(dt,at*ut)},it.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},it.Builder.prototype.createString=function(at){if(at instanceof Uint8Array)var ut=at;else{ut=[];for(var dt=0;dt<at.length;){var ft,ht=at.charCodeAt(dt++);(ft=ht<55296||ht>=56320?ht:(ht<<10)+at.charCodeAt(dt++)+-56613888)<128?ut.push(ft):(ft<2048?ut.push(ft>>6&31|192):(ft<65536?ut.push(ft>>12&15|224):ut.push(ft>>18&7|240,ft>>12&63|128),ut.push(ft>>6&63|128)),ut.push(63&ft|128))}}this.addInt8(0),this.startVector(1,ut.length,1),this.bb.setPosition(this.space-=ut.length),dt=0;for(var ct=this.space,lt=this.bb.bytes();dt<ut.length;dt++)lt[ct++]=ut[dt];return this.endVector()},it.Builder.prototype.createLong=function(at,ut){return it.Long.create(at,ut)},it.ByteBuffer=function(at){this.bytes_=at,this.position_=0},it.ByteBuffer.allocate=function(at){return new it.ByteBuffer(new Uint8Array(at))},it.ByteBuffer.prototype.clear=function(){this.position_=0},it.ByteBuffer.prototype.bytes=function(){return this.bytes_},it.ByteBuffer.prototype.position=function(){return this.position_},it.ByteBuffer.prototype.setPosition=function(at){this.position_=at},it.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},it.ByteBuffer.prototype.readInt8=function(at){return this.readUint8(at)<<24>>24},it.ByteBuffer.prototype.readUint8=function(at){return this.bytes_[at]},it.ByteBuffer.prototype.readInt16=function(at){return this.readUint16(at)<<16>>16},it.ByteBuffer.prototype.readUint16=function(at){return this.bytes_[at]|this.bytes_[at+1]<<8},it.ByteBuffer.prototype.readInt32=function(at){return this.bytes_[at]|this.bytes_[at+1]<<8|this.bytes_[at+2]<<16|this.bytes_[at+3]<<24},it.ByteBuffer.prototype.readUint32=function(at){return this.readInt32(at)>>>0},it.ByteBuffer.prototype.readInt64=function(at){return new it.Long(this.readInt32(at),this.readInt32(at+4))},it.ByteBuffer.prototype.readUint64=function(at){return new it.Long(this.readUint32(at),this.readUint32(at+4))},it.ByteBuffer.prototype.readFloat32=function(at){return it.int32[0]=this.readInt32(at),it.float32[0]},it.ByteBuffer.prototype.readFloat64=function(at){return it.int32[it.isLittleEndian?0:1]=this.readInt32(at),it.int32[it.isLittleEndian?1:0]=this.readInt32(at+4),it.float64[0]},it.ByteBuffer.prototype.writeInt8=function(at,ut){this.bytes_[at]=ut},it.ByteBuffer.prototype.writeUint8=function(at,ut){this.bytes_[at]=ut},it.ByteBuffer.prototype.writeInt16=function(at,ut){this.bytes_[at]=ut,this.bytes_[at+1]=ut>>8},it.ByteBuffer.prototype.writeUint16=function(at,ut){this.bytes_[at]=ut,this.bytes_[at+1]=ut>>8},it.ByteBuffer.prototype.writeInt32=function(at,ut){this.bytes_[at]=ut,this.bytes_[at+1]=ut>>8,this.bytes_[at+2]=ut>>16,this.bytes_[at+3]=ut>>24},it.ByteBuffer.prototype.writeUint32=function(at,ut){this.bytes_[at]=ut,this.bytes_[at+1]=ut>>8,this.bytes_[at+2]=ut>>16,this.bytes_[at+3]=ut>>24},it.ByteBuffer.prototype.writeInt64=function(at,ut){this.writeInt32(at,ut.low),this.writeInt32(at+4,ut.high)},it.ByteBuffer.prototype.writeUint64=function(at,ut){this.writeUint32(at,ut.low),this.writeUint32(at+4,ut.high)},it.ByteBuffer.prototype.writeFloat32=function(at,ut){it.float32[0]=ut,this.writeInt32(at,it.int32[0])},it.ByteBuffer.prototype.writeFloat64=function(at,ut){it.float64[0]=ut,this.writeInt32(at,it.int32[it.isLittleEndian?0:1]),this.writeInt32(at+4,it.int32[it.isLittleEndian?1:0])},it.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+it.SIZEOF_INT+it.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var at="",ut=0;ut<it.FILE_IDENTIFIER_LENGTH;ut++)at+=String.fromCharCode(this.readInt8(this.position_+it.SIZEOF_INT+ut));return at},it.ByteBuffer.prototype.__offset=function(at,ut){var dt=at-this.readInt32(at);return ut<this.readInt16(dt)?this.readInt16(dt+ut):0},it.ByteBuffer.prototype.__union=function(at,ut){return at.bb_pos=ut+this.readInt32(ut),at.bb=this,at},it.ByteBuffer.prototype.__string=function(at,ut){at+=this.readInt32(at);var dt=this.readInt32(at),ft="",ht=0;if(at+=it.SIZEOF_INT,ut===it.Encoding.UTF8_BYTES)return this.bytes_.subarray(at,at+dt);for(;ht<dt;){var ct,lt=this.readUint8(at+ht++);if(lt<192)ct=lt;else{var ot=this.readUint8(at+ht++);if(lt<224)ct=(31&lt)<<6|63&ot;else{var tt=this.readUint8(at+ht++);ct=lt<240?(15&lt)<<12|(63&ot)<<6|63&tt:(7&lt)<<18|(63&ot)<<12|(63&tt)<<6|63&this.readUint8(at+ht++)}}ct<65536?ft+=String.fromCharCode(ct):(ct-=65536,ft+=String.fromCharCode(55296+(ct>>10),56320+(1023&ct)))}return ft},it.ByteBuffer.prototype.__indirect=function(at){return at+this.readInt32(at)},it.ByteBuffer.prototype.__vector=function(at){return at+this.readInt32(at)+it.SIZEOF_INT},it.ByteBuffer.prototype.__vector_len=function(at){return this.readInt32(at+this.readInt32(at))},it.ByteBuffer.prototype.__has_identifier=function(at){if(at.length!=it.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+it.FILE_IDENTIFIER_LENGTH);for(var ut=0;ut<it.FILE_IDENTIFIER_LENGTH;ut++)if(at.charCodeAt(ut)!=this.readInt8(this.position_+it.SIZEOF_INT+ut))return!1;return!0},it.ByteBuffer.prototype.createLong=function(at,ut){return it.Long.create(at,ut)}}},__webpack_module_cache__={};function __webpack_require__(et){var _e=__webpack_module_cache__[et];if(_e!==void 0)return _e.exports;var nt=__webpack_module_cache__[et]={exports:{}};return __webpack_modules__[et].call(nt.exports,nt,nt.exports,__webpack_require__),nt.exports}__webpack_require__.n=et=>{var _e=et&&et.__esModule?()=>et.default:()=>et;return __webpack_require__.d(_e,{a:_e}),_e},__webpack_require__.d=(et,_e)=>{for(var nt in _e)__webpack_require__.o(_e,nt)&&!__webpack_require__.o(et,nt)&&Object.defineProperty(et,nt,{enumerable:!0,get:_e[nt]})},__webpack_require__.o=(et,_e)=>Object.prototype.hasOwnProperty.call(et,_e),__webpack_require__.r=et=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(et,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(1057);return __webpack_exports__})())})(ort_min);var ort_minExports=ort_min.exports;const modelUrl="/sweethomemaid/assets/piece_classifier-XL55aPew.onnx",IMAGE_SIZE=64,MEAN=[.57665089,.5822121,.54763596],STD=[.18085433,.21391266,.23309964];function useDetect(){const{board:et,dispatch:_e}=useApp();return reactExports.useCallback(async(nt,it)=>{for await(const[at,ut]of detectPieces(nt,it,et.width,et.height))et.piece(at).face!==Kind.Out&&et.setPiece(at,ut);_e({type:"reset"})},[et,_e])}async function*detectPieces(et,_e,nt,it){const at=await ort_minExports.InferenceSession.create(modelUrl,{executionProviders:["webgl"]});try{for(const[ut,dt]of inputTensors(et,_e,nt,it)){const ft={};ft[at.inputNames[0]]=dt;const ct=(await at.run(ft))[at.outputNames[0]],lt=argmax(ct.data);yield[ut,PIECE_FOR_INDEX[lt]]}}finally{try{at.handler.dispose()}catch{}}}function argmax(et){let _e=-1/0,nt=0;return et.forEach((it,at)=>{it>_e&&(_e=it,nt=at)}),nt}function*inputTensors(et,_e,nt,it){const at=document.getElementById("capture-canvas");if(at===null)throw Error("capture/Canvas must be in document");const ut=at.getContext("2d",{willReadFrequently:!0});if(ut===null)throw Error("no canvas context");const dt=Math.floor(_e[2]/nt),ft=Math.floor(_e[3]/it);for(let ht=0;ht<nt;ht++)for(let ct=0;ct<it;ct++){ut.drawImage(et,_e[0]+ht*dt,_e[1]+ct*ft,dt,ft,0,0,IMAGE_SIZE,IMAGE_SIZE);const{data:lt}=ut.getImageData(0,0,IMAGE_SIZE,IMAGE_SIZE),ot=ndarray$1(new Float32Array(lt),[IMAGE_SIZE,IMAGE_SIZE,4]),tt=ndarray$1(new Float32Array(IMAGE_SIZE*IMAGE_SIZE*3),[1,3,IMAGE_SIZE,IMAGE_SIZE]);ops.assign(tt.pick(0,0,null,null),ot.pick(null,null,0)),ops.assign(tt.pick(0,1,null,null),ot.pick(null,null,1)),ops.assign(tt.pick(0,2,null,null),ot.pick(null,null,2)),ops.divseq(tt,255),ops.subseq(tt.pick(0,0,null,null),MEAN[0]),ops.subseq(tt.pick(0,1,null,null),MEAN[1]),ops.subseq(tt.pick(0,2,null,null),MEAN[2]),ops.divseq(tt.pick(0,0,null,null),STD[0]),ops.divseq(tt.pick(0,1,null,null),STD[1]),ops.divseq(tt.pick(0,2,null,null),STD[2]);const rt=new ort_minExports.Tensor("float32",tt.data,[1,3,IMAGE_SIZE,IMAGE_SIZE]);yield[[ht+1,ct+1],rt]}}const PIECE_FOR_INDEX=[new Piece(Kind.Aqua,0),new Piece(Kind.Bomb),new Piece(Kind.Blue,0),new Piece(Kind.Blue,1),new Piece(Kind.Blue,2),new Piece(Kind.Blue,3),new Piece(Kind.Blue,4),new Piece(Kind.Blue,5),new Piece(Kind.Blue,6),new Piece(Kind.Green,0),new Piece(Kind.Green,1),new Piece(Kind.Green,2),new Piece(Kind.Green,3),new Piece(Kind.Green,4),new Piece(Kind.Green,5),new Piece(Kind.Green,6),new Piece(Kind.Missile),new Piece({kind:Kind.Mouse,count:1}),new Piece({kind:Kind.Mouse,count:2}),new Piece({kind:Kind.Mouse,count:3}),new Piece(Kind.Special),new Piece(Kind.Pink,0),new Piece(Kind.Red,0),new Piece(Kind.Red,1),new Piece(Kind.Red,2),new Piece(Kind.Red,3),new Piece(Kind.Red,4),new Piece(Kind.Red,5),new Piece(Kind.Red,6),new Piece(Kind.HRocket),new Piece(Kind.VRocket),new Piece({kind:Kind.Wood,count:1}),new Piece({kind:Kind.Wood,count:2}),new Piece({kind:Kind.Wood,count:3}),new Piece(Kind.Yellow,0),new Piece(Kind.Yellow,1),new Piece(Kind.Yellow,2),new Piece(Kind.Yellow,3),new Piece(Kind.Yellow,4),new Piece(Kind.Yellow,5),new Piece(Kind.Yellow,6)],BOUNDS_CACHE_KEY="ImagePlacer.bounds";function ImagePlacer({image:et}){const{dispatch:_e}=useCapture(),[nt,it]=useBodySize(),[at,ut]=reactExports.useState(()=>{var st,pt;const ct=get(BOUNDS_CACHE_KEY);if(((st=ct==null?void 0:ct.size)==null?void 0:st[0])===et.naturalWidth&&((pt=ct==null?void 0:ct.size)==null?void 0:pt[1])===et.naturalHeight)return ct.bounds;const lt=Math.min(640,nt-20),ot=lt*(et.naturalHeight/et.naturalWidth),tt=nt/2-lt/2,rt=100+it/2-ot/2;return[tt,rt,lt,ot]}),dt=reactExports.useCallback(()=>{_e({type:"setImage",image:void 0})},[_e]),ft=useDetect(),ht=reactExports.useCallback(()=>{(async()=>{var tt,rt;const ct=(tt=document.querySelector(".board-view"))==null?void 0:tt.getBoundingClientRect(),lt=(rt=document.querySelector(".image-placer .img"))==null?void 0:rt.getBoundingClientRect();if(ct===void 0||lt===void 0)return;set(BOUNDS_CACHE_KEY,{bounds:at,size:[et.naturalWidth,et.naturalHeight]});const ot=et.naturalWidth/lt.width;await ft(et,[Math.floor((ct.x-lt.x)*ot),Math.floor((ct.y-lt.y)*ot),Math.floor(ct.width*ot),Math.floor(ct.height*ot)]),_e({type:"setImage",image:void 0})})().catch(()=>{_t.error("")})},[et,ft,_e,at]);return jsxRuntimeExports.jsxs("div",{className:"image-placer",style:{height:`${it}px`},children:[jsxRuntimeExports.jsxs("div",{className:"operations",children:[jsxRuntimeExports.jsx("div",{className:"text",children:""}),jsxRuntimeExports.jsxs("div",{className:"buttons",children:[jsxRuntimeExports.jsx("button",{className:"button is-small is-info",onClick:ht,children:""}),jsxRuntimeExports.jsx("button",{className:"button is-small",onClick:dt,children:""})]})]}),jsxRuntimeExports.jsx(Bound,{value:at,onChange:ut,children:jsxRuntimeExports.jsx("div",{className:"img",ref:ct=>ct==null?void 0:ct.appendChild(et)})})]})}const MIN_SIZE=30;function Bound({value:et,onChange:_e,children:nt}){const it=reactExports.useRef(null),[at,ut]=reactExports.useState(1);return useGesture({onDrag:({pinching:dt,delta:ft})=>{dt!==!0&&_e([et[0]+ft[0],et[1]+ft[1],et[2],et[3]])},onPinch:({origin:dt,offset:[ft]})=>{const ht=ft/at;ut(ft);const ct=et[2]*ht,lt=et[3]*ht;ct<MIN_SIZE||lt<MIN_SIZE||_e([dt[0]-(dt[0]-et[0])*ht,dt[1]-(dt[1]-et[1])*ht,ct,lt])}},{target:it}),jsxRuntimeExports.jsxs("div",{className:"bound",style:{left:`${et[0]}px`,top:`${et[1]}px`,width:`${et[2]}px`,height:`${et[3]}px`},children:[nt,jsxRuntimeExports.jsx("div",{className:"move-handle",ref:it}),jsxRuntimeExports.jsx(ResizeHandle,{position:"lt",value:et,onChange:_e}),jsxRuntimeExports.jsx(ResizeHandle,{position:"lb",value:et,onChange:_e}),jsxRuntimeExports.jsx(ResizeHandle,{position:"rt",value:et,onChange:_e}),jsxRuntimeExports.jsx(ResizeHandle,{position:"rb",value:et,onChange:_e})]})}function ResizeHandle({position:et,value:_e,onChange:nt}){const it=useDrag(({delta:at})=>{let[ut,dt]=at;(et==="lt"||et==="lb")&&(ut=-ut),(et==="lt"||et==="rt")&&(dt=-dt);const ft=_e[3]/_e[2],ht=Math.abs(ut)*ft>Math.abs(dt)?ut:dt,ct=_e[2]+ht,lt=_e[3]+ht*ft;if(ct<MIN_SIZE||lt<MIN_SIZE)return;let[ot,tt]=_e;(et==="lt"||et==="lb")&&(ot-=ht),(et==="lt"||et==="rt")&&(tt-=ht*ft),nt([ot,tt,ct,lt])});return jsxRuntimeExports.jsx("div",{className:`resize-handle is-${et}`,...it()})}const CaptureProvider=({children:et})=>{const[_e,nt]=reactExports.useReducer(reduce,initialState);return jsxRuntimeExports.jsx(CaptureContext.Provider,{value:[_e,nt],children:et})};function Capture(){return jsxRuntimeExports.jsx(CaptureProvider,{children:jsxRuntimeExports.jsx(CaptureInner,{})})}function CaptureInner(){const{image:et}=useCapture();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CaptureButton,{}),jsxRuntimeExports.jsx(Canvas,{}),et!==void 0&&jsxRuntimeExports.jsx(ImagePlacer,{image:et})]})}function App(){return jsxRuntimeExports.jsx(AppProvider,{children:jsxRuntimeExports.jsxs("div",{className:"container app-container is-max-desktop",children:[jsxRuntimeExports.jsxs("nav",{className:"app-navbar",children:[jsxRuntimeExports.jsxs("div",{className:"brand",children:[jsxRuntimeExports.jsx("h1",{className:"title is-5",children:""}),jsxRuntimeExports.jsx("h2",{className:"title is-5",children:""})]}),jsxRuntimeExports.jsx("a",{className:"social",href:"https://github.com/naamiru/sweethomemaid",children:jsxRuntimeExports.jsx("i",{className:"fa-brands fa-github fa-2xl"})})]}),jsxRuntimeExports.jsx(StageSelect,{}),jsxRuntimeExports.jsxs("div",{className:"app-operations",children:[jsxRuntimeExports.jsx(HistoryNav,{}),jsxRuntimeExports.jsx(Capture,{})]}),jsxRuntimeExports.jsx(BoardView,{}),jsxRuntimeExports.jsx(Ie,{position:"bottom-center"})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
